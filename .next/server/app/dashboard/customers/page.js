(()=>{var a={};a.id=819,a.ids=[819],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},810:(a,b,c)=>{"use strict";c.d(b,{UC:()=>T,ZL:()=>S,bL:()=>Q,l9:()=>R});var d=c(38301),e=c(87868),f=c(92808),g=c(2332),h=c(7412),i=c(70904),j=c(69998),k=c(75656),l=c(25122),m=c(61611),n=c(29988),o=c(6406),p=c(96425),q=c(11720),r=c(61225),s=c(36409),t=c(21124),u="Popover",[v,w]=(0,g.A)(u,[l.Bk]),x=(0,l.Bk)(),[y,z]=v(u),A=a=>{let{__scopePopover:b,children:c,open:e,defaultOpen:f,onOpenChange:g,modal:h=!1}=a,i=x(b),j=d.useRef(null),[m,n]=d.useState(!1),[o,p]=(0,q.i)({prop:e,defaultProp:f??!1,onChange:g,caller:u});return(0,t.jsx)(l.bL,{...i,children:(0,t.jsx)(y,{scope:b,contentId:(0,k.B)(),triggerRef:j,open:o,onOpenChange:p,onOpenToggle:d.useCallback(()=>p(a=>!a),[p]),hasCustomAnchor:m,onCustomAnchorAdd:d.useCallback(()=>n(!0),[]),onCustomAnchorRemove:d.useCallback(()=>n(!1),[]),modal:h,children:c})})};A.displayName=u;var B="PopoverAnchor";d.forwardRef((a,b)=>{let{__scopePopover:c,...e}=a,f=z(B,c),g=x(c),{onCustomAnchorAdd:h,onCustomAnchorRemove:i}=f;return d.useEffect(()=>(h(),()=>i()),[h,i]),(0,t.jsx)(l.Mz,{...g,...e,ref:b})}).displayName=B;var C="PopoverTrigger",D=d.forwardRef((a,b)=>{let{__scopePopover:c,...d}=a,g=z(C,c),h=x(c),i=(0,f.s)(b,g.triggerRef),j=(0,t.jsx)(o.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":g.open,"aria-controls":g.contentId,"data-state":P(g.open),...d,ref:i,onClick:(0,e.mK)(a.onClick,g.onOpenToggle)});return g.hasCustomAnchor?j:(0,t.jsx)(l.Mz,{asChild:!0,...h,children:j})});D.displayName=C;var E="PopoverPortal",[F,G]=v(E,{forceMount:void 0}),H=a=>{let{__scopePopover:b,forceMount:c,children:d,container:e}=a,f=z(E,b);return(0,t.jsx)(F,{scope:b,forceMount:c,children:(0,t.jsx)(n.C,{present:c||f.open,children:(0,t.jsx)(m.Z,{asChild:!0,container:e,children:d})})})};H.displayName=E;var I="PopoverContent",J=d.forwardRef((a,b)=>{let c=G(I,a.__scopePopover),{forceMount:d=c.forceMount,...e}=a,f=z(I,a.__scopePopover);return(0,t.jsx)(n.C,{present:d||f.open,children:f.modal?(0,t.jsx)(L,{...e,ref:b}):(0,t.jsx)(M,{...e,ref:b})})});J.displayName=I;var K=(0,p.TL)("PopoverContent.RemoveScroll"),L=d.forwardRef((a,b)=>{let c=z(I,a.__scopePopover),g=d.useRef(null),h=(0,f.s)(b,g),i=d.useRef(!1);return d.useEffect(()=>{let a=g.current;if(a)return(0,r.Eq)(a)},[]),(0,t.jsx)(s.A,{as:K,allowPinchZoom:!0,children:(0,t.jsx)(N,{...a,ref:h,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,e.mK)(a.onCloseAutoFocus,a=>{a.preventDefault(),i.current||c.triggerRef.current?.focus()}),onPointerDownOutside:(0,e.mK)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;i.current=2===b.button||c},{checkForDefaultPrevented:!1}),onFocusOutside:(0,e.mK)(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),M=d.forwardRef((a,b)=>{let c=z(I,a.__scopePopover),e=d.useRef(!1),f=d.useRef(!1);return(0,t.jsx)(N,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(e.current||c.triggerRef.current?.focus(),b.preventDefault()),e.current=!1,f.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(e.current=!0,"pointerdown"===b.detail.originalEvent.type&&(f.current=!0));let d=b.target;c.triggerRef.current?.contains(d)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&f.current&&b.preventDefault()}})}),N=d.forwardRef((a,b)=>{let{__scopePopover:c,trapFocus:d,onOpenAutoFocus:e,onCloseAutoFocus:f,disableOutsidePointerEvents:g,onEscapeKeyDown:k,onPointerDownOutside:m,onFocusOutside:n,onInteractOutside:o,...p}=a,q=z(I,c),r=x(c);return(0,i.Oh)(),(0,t.jsx)(j.n,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:e,onUnmountAutoFocus:f,children:(0,t.jsx)(h.qW,{asChild:!0,disableOutsidePointerEvents:g,onInteractOutside:o,onEscapeKeyDown:k,onPointerDownOutside:m,onFocusOutside:n,onDismiss:()=>q.onOpenChange(!1),children:(0,t.jsx)(l.UC,{"data-state":P(q.open),role:"dialog",id:q.contentId,...r,...p,ref:b,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),O="PopoverClose";function P(a){return a?"open":"closed"}d.forwardRef((a,b)=>{let{__scopePopover:c,...d}=a,f=z(O,c);return(0,t.jsx)(o.sG.button,{type:"button",...d,ref:b,onClick:(0,e.mK)(a.onClick,()=>f.onOpenChange(!1))})}).displayName=O,d.forwardRef((a,b)=>{let{__scopePopover:c,...d}=a,e=x(c);return(0,t.jsx)(l.i3,{...e,...d,ref:b})}).displayName="PopoverArrow";var Q=A,R=D,S=H,T=J},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8294:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25634:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["dashboard",{children:["customers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,99935)),"/Users/apple/Desktop/Projects/October/GajkesariSales-Oct23/app/dashboard/customers/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,69694)),"/Users/apple/Desktop/Projects/October/GajkesariSales-Oct23/app/dashboard/layout.tsx"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,16953)),"/Users/apple/Desktop/Projects/October/GajkesariSales-Oct23/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,I=["/Users/apple/Desktop/Projects/October/GajkesariSales-Oct23/app/dashboard/customers/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/dashboard/customers/page",pathname:"/dashboard/customers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/dashboard/customers/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw aF||b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},36963:(a,b,c)=>{Promise.resolve().then(c.bind(c,94162))},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},42797:(a,b,c)=>{"use strict";var d=c(38301),e="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},f=d.useState,g=d.useEffect,h=d.useLayoutEffect,i=d.useDebugValue;function j(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!e(a,c)}catch(a){return!0}}var k="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(a,b){return b()}:function(a,b){var c=b(),d=f({inst:{value:c,getSnapshot:b}}),e=d[0].inst,k=d[1];return h(function(){e.value=c,e.getSnapshot=b,j(e)&&k({inst:e})},[a,c,b]),g(function(){return j(e)&&k({inst:e}),a(function(){j(e)&&k({inst:e})})},[a]),i(c),c};b.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:k},49269:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},55224:(a,b,c)=>{"use strict";c.d(b,{E:()=>f});var d=c(21124),e=c(15514);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"skeleton",className:(0,e.cn)("bg-accent animate-pulse rounded-md",a),...b})}},61254:(a,b,c)=>{"use strict";c.d(b,{eu:()=>x,q5:()=>z,BK:()=>y});var d=c(21124),e=c(38301),f=c(2332),g=c(71700),h=c(68829),i=c(6406),j=c(99088);function k(){return()=>{}}var l="Avatar",[m,n]=(0,f.A)(l),[o,p]=m(l),q=e.forwardRef((a,b)=>{let{__scopeAvatar:c,...f}=a,[g,h]=e.useState("idle");return(0,d.jsx)(o,{scope:c,imageLoadingStatus:g,onImageLoadingStatusChange:h,children:(0,d.jsx)(i.sG.span,{...f,ref:b})})});q.displayName=l;var r="AvatarImage",s=e.forwardRef((a,b)=>{let{__scopeAvatar:c,src:f,onLoadingStatusChange:l=()=>{},...m}=a,n=p(r,c),o=function(a,{referrerPolicy:b,crossOrigin:c}){let d=(0,j.useSyncExternalStore)(k,()=>!0,()=>!1),f=e.useRef(null),g=d?(f.current||(f.current=new window.Image),f.current):null,[i,l]=e.useState(()=>v(g,a));return(0,h.N)(()=>{l(v(g,a))},[g,a]),(0,h.N)(()=>{let a=a=>()=>{l(a)};if(!g)return;let d=a("loaded"),e=a("error");return g.addEventListener("load",d),g.addEventListener("error",e),b&&(g.referrerPolicy=b),"string"==typeof c&&(g.crossOrigin=c),()=>{g.removeEventListener("load",d),g.removeEventListener("error",e)}},[g,c,b]),i}(f,m),q=(0,g.c)(a=>{l(a),n.onImageLoadingStatusChange(a)});return(0,h.N)(()=>{"idle"!==o&&q(o)},[o,q]),"loaded"===o?(0,d.jsx)(i.sG.img,{...m,ref:b,src:f}):null});s.displayName=r;var t="AvatarFallback",u=e.forwardRef((a,b)=>{let{__scopeAvatar:c,delayMs:f,...g}=a,h=p(t,c),[j,k]=e.useState(void 0===f);return e.useEffect(()=>{if(void 0!==f){let a=window.setTimeout(()=>k(!0),f);return()=>window.clearTimeout(a)}},[f]),j&&"loaded"!==h.imageLoadingStatus?(0,d.jsx)(i.sG.span,{...g,ref:b}):null});function v(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}u.displayName=t;var w=c(15514);function x({className:a,...b}){return(0,d.jsx)(q,{"data-slot":"avatar",className:(0,w.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...b})}function y({className:a,...b}){return(0,d.jsx)(s,{"data-slot":"avatar-image",className:(0,w.cn)("aspect-square size-full",a),...b})}function z({className:a,...b}){return(0,d.jsx)(u,{"data-slot":"avatar-fallback",className:(0,w.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...b})}},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68877:(a,b,c)=>{"use strict";c.d(b,{Xi:()=>j,av:()=>k,j7:()=>i,tU:()=>h});var d=c(21124),e=c(38301),f=c(89989),g=c(15514);let h=f.bL,i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.B8,{ref:c,className:(0,g.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...b}));i.displayName=f.B8.displayName;let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.l9,{ref:c,className:(0,g.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...b}));j.displayName=f.l9.displayName;let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.UC,{ref:c,className:(0,g.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...b}));k.displayName=f.UC.displayName},77291:(a,b,c)=>{Promise.resolve().then(c.bind(c,99935))},81808:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},81925:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},89989:(a,b,c)=>{"use strict";c.d(b,{B8:()=>D,UC:()=>F,bL:()=>C,l9:()=>E});var d=c(38301),e=c(87868),f=c(2332),g=c(88617),h=c(29988),i=c(6406),j=c(10498),k=c(11720),l=c(75656),m=c(21124),n="Tabs",[o,p]=(0,f.A)(n,[g.RG]),q=(0,g.RG)(),[r,s]=o(n),t=d.forwardRef((a,b)=>{let{__scopeTabs:c,value:d,onValueChange:e,defaultValue:f,orientation:g="horizontal",dir:h,activationMode:o="automatic",...p}=a,q=(0,j.jH)(h),[s,t]=(0,k.i)({prop:d,onChange:e,defaultProp:f??"",caller:n});return(0,m.jsx)(r,{scope:c,baseId:(0,l.B)(),value:s,onValueChange:t,orientation:g,dir:q,activationMode:o,children:(0,m.jsx)(i.sG.div,{dir:q,"data-orientation":g,...p,ref:b})})});t.displayName=n;var u="TabsList",v=d.forwardRef((a,b)=>{let{__scopeTabs:c,loop:d=!0,...e}=a,f=s(u,c),h=q(c);return(0,m.jsx)(g.bL,{asChild:!0,...h,orientation:f.orientation,dir:f.dir,loop:d,children:(0,m.jsx)(i.sG.div,{role:"tablist","aria-orientation":f.orientation,...e,ref:b})})});v.displayName=u;var w="TabsTrigger",x=d.forwardRef((a,b)=>{let{__scopeTabs:c,value:d,disabled:f=!1,...h}=a,j=s(w,c),k=q(c),l=A(j.baseId,d),n=B(j.baseId,d),o=d===j.value;return(0,m.jsx)(g.q7,{asChild:!0,...k,focusable:!f,active:o,children:(0,m.jsx)(i.sG.button,{type:"button",role:"tab","aria-selected":o,"aria-controls":n,"data-state":o?"active":"inactive","data-disabled":f?"":void 0,disabled:f,id:l,...h,ref:b,onMouseDown:(0,e.mK)(a.onMouseDown,a=>{f||0!==a.button||!1!==a.ctrlKey?a.preventDefault():j.onValueChange(d)}),onKeyDown:(0,e.mK)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&j.onValueChange(d)}),onFocus:(0,e.mK)(a.onFocus,()=>{let a="manual"!==j.activationMode;o||f||!a||j.onValueChange(d)})})})});x.displayName=w;var y="TabsContent",z=d.forwardRef((a,b)=>{let{__scopeTabs:c,value:e,forceMount:f,children:g,...j}=a,k=s(y,c),l=A(k.baseId,e),n=B(k.baseId,e),o=e===k.value,p=d.useRef(o);return d.useEffect(()=>{let a=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,m.jsx)(h.C,{present:f||o,children:({present:c})=>(0,m.jsx)(i.sG.div,{"data-state":o?"active":"inactive","data-orientation":k.orientation,role:"tabpanel","aria-labelledby":l,hidden:!c,id:n,tabIndex:0,...j,ref:b,style:{...a.style,animationDuration:p.current?"0s":void 0},children:c&&g})})});function A(a,b){return`${a}-trigger-${b}`}function B(a,b){return`${a}-content-${b}`}z.displayName=y;var C=t,D=v,E=x,F=z},94162:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>P});var d=c(21124),e=c(38301),f=c(45119),g=c(22544),h=c(61254),i=c(19217),j=c(17677),k=c(9188),l=c(86276),m=c(7629),n=c(53199),o=c(28241),p=c(8294),q=c(59405),r=c(47089),s=c(81925),t=c(23339);let u=(0,t.A)("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);var v=c(71613),w=c(49269),x=c(10578),y=c(78733),z=c(71213),A=c(81808),B=c(82042),C=c(85351),D=c(32717);let E=(0,t.A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var F=c(38882),G=c(77243),H=c(33305),I=c(68877);let J=({isOpen:a,onClose:b,token:c,existingData:f,onCustomerAdded:g,userRole:h,userData:j})=>{let[l,o]=(0,e.useState)(f||{clientFirstName:"",clientLastName:"",email:""}),[p,q]=(0,e.useState)("basic"),[r,s]=(0,e.useState)([]),[t,u]=(0,e.useState)(null),[v,w]=(0,e.useState)(null);(0,e.useEffect)(()=>{(async()=>{try{if("ROLE_MANAGER"===h&&j?.employeeId){let a=(await G.n.getTeamByEmployee(Number(j.employeeId))).flatMap(a=>a.fieldOfficers);s(a)}else{let a=await G.n.getAllEmployees();s(a)}}catch(a){console.error("Error fetching employees:",a);try{let a=await G.n.getAllEmployees();s(a)}catch(a){console.error("Error fetching all employees:",a)}}})()},[c,h,j?.employeeId]);let x=(a,b)=>{let c=b;if("primaryContact"===a){let a=b.toString().replace(/\D/g,"");if(a.length>10)return;a.length>0&&a.length<10?u("Primary contact must be exactly 10 digits"):(a.length,u(null)),c=""===a?"":parseInt(a,10)}else if("secondaryContact"===a){let a=b.toString().replace(/\D/g,"");if(a.length>10)return;a.length>0&&a.length<10?w("Secondary contact must be exactly 10 digits"):(a.length,w(null)),c=""===a?"":parseInt(a,10)}else["pincode","monthlySale","primaryContact","secondaryContact","fieldOfficerId"].includes(a)&&(c=""===b?"":parseInt(b.toString(),10));o(b=>({...b,[a]:c}))},y=async()=>{try{let a={...l,primaryContact:l.primaryContact?parseInt(l.primaryContact.toString(),10):void 0,secondaryContact:l.secondaryContact?parseInt(l.secondaryContact.toString(),10):void 0,pincode:l.pincode?parseInt(l.pincode.toString(),10):void 0,monthlySale:l.monthlySale?parseInt(l.monthlySale.toString(),10):void 0,latitude:10,longitude:-23,employeeId:l.fieldOfficerId};console.log("requestBody",a);let d=f&&f.id?`https://api.gajkesaristeels.in/store/update?id=${f.id}`:"https://api.gajkesaristeels.in/store/create",e=f&&f.id?"PUT":"POST",h=await fetch(d,{method:e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(a)});if(console.log(h),h.ok){let a=await h.json();console.log(a),b(),g&&g()}else console.error("Failed to update/create customer")}catch(a){console.error("Error updating/creating customer:",a)}};return(0,d.jsx)(H.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(H.Cf,{className:"sm:max-w-[600px]",children:[(0,d.jsxs)(H.c7,{children:[(0,d.jsx)(H.L3,{children:"Add Customer"}),(0,d.jsx)(H.rr,{children:"Enter the details of the new customer."})]}),(0,d.jsxs)(I.tU,{value:p,onValueChange:q,className:"mt-4",children:[(0,d.jsxs)(I.j7,{children:[(0,d.jsx)(I.Xi,{value:"basic",children:"Basic Info"}),(0,d.jsx)(I.Xi,{value:"contact",children:"Contact"}),(0,d.jsx)(I.Xi,{value:"address",children:"Address"}),(0,d.jsx)(I.Xi,{value:"additional",children:"Additional"})]}),(0,d.jsx)(I.av,{value:"basic",className:"mt-4",children:(0,d.jsxs)("div",{className:"grid gap-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"storeName",className:"text-right",children:"Shop Name"}),(0,d.jsx)(m.p,{id:"storeName",value:l.storeName||"",className:"col-span-3",onChange:a=>x("storeName",a.target.value)})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"clientFirstName",className:"text-right",children:"First Name"}),(0,d.jsx)(m.p,{id:"clientFirstName",value:l.clientFirstName||"",className:"col-span-3",onChange:a=>x("clientFirstName",a.target.value)})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"clientLastName",className:"text-right",children:"Last Name"}),(0,d.jsx)(m.p,{id:"clientLastName",value:l.clientLastName||"",className:"col-span-3",onChange:a=>x("clientLastName",a.target.value)})]})]})}),(0,d.jsx)(I.av,{value:"contact",className:"mt-4",children:(0,d.jsxs)("div",{className:"grid gap-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"primaryContact",className:"text-right",children:"Primary Contact"}),(0,d.jsxs)("div",{className:"col-span-3",children:[(0,d.jsx)(m.p,{id:"primaryContact",type:"tel",value:l.primaryContact||"",className:t?"border-red-500":"",onChange:a=>x("primaryContact",a.target.value)}),t&&(0,d.jsx)("p",{className:"text-sm text-red-600 mt-1",children:t})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"secondaryContact",className:"text-right",children:"Secondary Contact"}),(0,d.jsxs)("div",{className:"col-span-3",children:[(0,d.jsx)(m.p,{id:"secondaryContact",type:"tel",value:l.secondaryContact||"",className:v?"border-red-500":"",onChange:a=>x("secondaryContact",a.target.value)}),v&&(0,d.jsx)("p",{className:"text-sm text-red-600 mt-1",children:v})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"email",className:"text-right",children:"Email"}),(0,d.jsx)(m.p,{id:"email",type:"email",value:l.email||"",className:"col-span-3",onChange:a=>x("email",a.target.value)})]})]})}),(0,d.jsx)(I.av,{value:"address",className:"mt-4",children:(0,d.jsxs)("div",{className:"grid gap-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"addressLine1",className:"text-right",children:"Address Line 1"}),(0,d.jsx)(m.p,{id:"addressLine1",value:l.addressLine1||"",className:"col-span-3",onChange:a=>x("addressLine1",a.target.value)})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"addressLine2",className:"text-right",children:"Address Line 2"}),(0,d.jsx)(m.p,{id:"addressLine2",value:l.addressLine2||"",className:"col-span-3",onChange:a=>x("addressLine2",a.target.value)})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"city",className:"text-right",children:"City"}),(0,d.jsx)(m.p,{id:"city",value:l.city||"",className:"col-span-3",onChange:a=>x("city",a.target.value)})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"state",className:"text-right",children:"State"}),(0,d.jsx)(m.p,{id:"state",value:l.state||"",className:"col-span-3",onChange:a=>x("state",a.target.value)})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"country",className:"text-right",children:"Country"}),(0,d.jsx)(m.p,{id:"country",value:l.country||"",className:"col-span-3",onChange:a=>x("country",a.target.value)})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"pincode",className:"text-right",children:"Pincode"}),(0,d.jsx)(m.p,{id:"pincode",type:"number",value:l.pincode||"",className:"col-span-3",onChange:a=>x("pincode",a.target.value)})]})]})}),(0,d.jsx)(I.av,{value:"additional",className:"mt-4",children:(0,d.jsxs)("div",{className:"grid gap-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"gstNumber",className:"text-right",children:"GST Number"}),(0,d.jsx)(m.p,{id:"gstNumber",value:l.gstNumber||"",className:"col-span-3",onChange:a=>x("gstNumber",a.target.value)})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"monthlySale",className:"text-right",children:"Monthly Sale"}),(0,d.jsx)(m.p,{id:"monthlySale",type:"number",value:l.monthlySale||"",className:"col-span-3",onChange:a=>x("monthlySale",a.target.value)})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"clientType",className:"text-right",children:"Client Type"}),(0,d.jsx)("div",{className:"col-span-3",children:(0,d.jsxs)(k.rI,{children:[(0,d.jsx)(k.ty,{className:"w-full",children:(0,d.jsx)(m.p,{id:"clientType",value:l.clientType||"",placeholder:"Select Client Type",readOnly:!0,className:"cursor-pointer text-gray-400"})}),(0,d.jsxs)(k.SQ,{children:[(0,d.jsx)(k._2,{onClick:()=>x("clientType","Project"),children:"Project"}),(0,d.jsx)(k._2,{onClick:()=>x("clientType","Shop"),children:"Shop"})]})]})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(n.J,{htmlFor:"fieldOfficer",className:"text-right",children:"Field Officer"}),(0,d.jsx)("div",{className:"col-span-3",children:(0,d.jsxs)(k.rI,{children:[(0,d.jsx)(k.ty,{className:"w-full",children:(0,d.jsx)(m.p,{id:"fieldOfficer",value:l.fieldOfficerId?r.find(a=>a.id===l.fieldOfficerId)?.firstName:"",placeholder:"Select Field Officer",readOnly:!0,className:"cursor-pointer text-gray-400"})}),(0,d.jsx)(k.SQ,{children:r.map(a=>(0,d.jsxs)(k._2,{onClick:()=>x("fieldOfficerId",a.id.toString()),children:[a.firstName," ",a.lastName]},a.id))})]})})]})]})})]}),(0,d.jsxs)(H.Es,{children:[(0,d.jsx)(i.$,{variant:"outline",onClick:b,children:"Cancel"}),"basic"!==p&&(0,d.jsx)(i.$,{variant:"outline",onClick:()=>{"additional"===p?q("address"):"address"===p?q("contact"):"contact"===p&&q("basic")},children:"Previous"}),"additional"!==p?(0,d.jsx)(i.$,{onClick:()=>{"basic"===p?q("contact"):"contact"===p?q("address"):"address"===p&&q("additional")},children:"Next"}):(0,d.jsx)(i.$,{onClick:y,disabled:!!t||!!v,children:"Add Customer"})]})]})})};var K=c(55224),L=c(5561),M=c(15514),N=c(42378),O=c(49876);function P(){return(0,d.jsx)(Q,{})}function Q(){let a=(0,N.useRouter)();(0,e.useRef)(!1);let[b,c]=(0,e.useState)(!1),{token:t,userData:H}=(0,L.A)(),[I,P]=(0,e.useState)(["shopName","ownerName","city","state","phone","monthlySales","intentLevel","fieldOfficer","clientType","totalVisits","lastVisitDate"]),[Q,R]=(0,e.useState)({storeName:"",primaryContact:"",ownerName:"",city:"",state:"",clientType:"",employeeName:""}),[S,T]=(0,e.useState)({storeName:"",primaryContact:"",ownerName:"",city:"",state:"",clientType:"",employeeName:""}),[U,V]=(0,e.useState)(!1),[W,X]=(0,e.useState)(!1),[Y,Z]=(0,e.useState)([]),[$,_]=(0,e.useState)(1),[aa,ab]=(0,e.useState)(10),[ac,ad]=(0,e.useState)(!1),[ae,af]=(0,e.useState)(null),[ag,ah]=(0,e.useState)(!1),[ai,aj]=(0,e.useState)("storeName"),[ak,al]=(0,e.useState)("asc"),[am,an]=(0,e.useState)(!1),[ao,ap]=(0,e.useState)("Please wait, downloading..."),[aq,ar]=(0,e.useState)([]),[as,at]=(0,e.useState)(1),[au,av]=(0,e.useState)(!0),[aw,ax]=(0,e.useState)(null),[ay,az]=(0,e.useState)([]),[aA,aB]=(0,e.useState)(!1),[aC,aD]=(0,e.useState)("all"),[aE,aF]=(0,e.useState)("all"),[aG,aH]=(0,e.useState)(!1),[aI,aJ]=(0,e.useState)(!1),[aK,aL]=(0,e.useState)(!1),[aM,aN]=(0,e.useState)(null),[aO,aP]=(0,e.useState)(null),[aQ,aR]=(0,e.useState)(!1),[aS,aT]=(0,e.useState)(null),[aU,aV]=(0,e.useState)(!1),aW=(0,e.useMemo)(()=>{let a=ay.map(a=>{let b=[a.firstName,a.lastName].filter(Boolean).join(" ").trim(),c=a.userDto?.employeeId??null,d=b||a.userName||a.email||`Employee ${c??a.id}`,e=null!==c?`${d} (${c})`:d;return{value:String(a.id),label:e,data:{fullName:b||d}}});return a.sort((a,b)=>a.label.localeCompare(b.label)),[{value:"all",label:"All Field Officers"},...a]},[ay]),aX=a=>{let b=a;"ownerName"===a?b="ownerFirstName":"totalVisits"===a&&(b="visitCount"),ai===b?al(a=>"asc"===a?"desc":"asc"):(aj(b),al("asc"))},aY=async()=>{if(b&&aU){av(!0),ax(null);try{let a;if((aG||aK)&&null==aO)return;if(aG){if(!aO){console.log("Manager role detected but no teamId available, skipping API call"),ar([]),at(1);return}console.log("Manager API call for team:",aO),a=await G.n.getStoresForTeam(aO,$-1,aa),console.log("Manager API response:",a)}else if(aK){if(!aO){console.log("Field Officer role detected but no teamId available, skipping API call"),ar([]),at(1);return}console.log("Field Officer API call for team:",aO),a=await G.n.getStoresForTeam(aO,$-1,aa),console.log("Field Officer API response:",a)}else aI?(console.log("Admin API call"),Q.employeeName):console.log("Default (Admin) API call for unknown role"),a=await G.n.getStoresFilteredPaginated({storeName:Q.storeName||void 0,ownerName:Q.ownerName||void 0,city:Q.city||void 0,state:Q.state||void 0,clientType:Q.clientType||void 0,employeeName:Q.employeeName||void 0,primaryContact:Q.primaryContact||void 0,page:$-1,size:aa,sortBy:ai,sortOrder:ak});let b=(a.content||[]).map(a=>({...a,storeId:a.storeId,clientFirstName:a.clientFirstName||"",clientLastName:a.clientLastName||"",employeeName:a.employeeName||"",totalVisitCount:a.totalVisitCount||0}));ar(b);let c=a.totalPages&&a.totalPages>0?a.totalPages:1;if(at(c),$>c){let a=Math.max(c,1);a!==$&&_(a)}}catch(a){ax(a?.message||"Failed to load customers"),ar([])}finally{av(!1)}}},aZ=a=>{af(a),ad(!0)},a$=()=>{af(null),ad(!1)},a_=(a,b)=>{"ownerName"===a?R(c=>({...c,[a]:b.toLowerCase()})):R(c=>({...c,[a]:b})),_(1)},a0=(a,b)=>{"ownerName"===a?T(c=>({...c,[a]:b.toLowerCase()})):T(c=>({...c,[a]:b}))},a1=async()=>{if(ae)try{console.log("Attempting to delete customer with ID:",ae),console.log("Using token:",t?"Token present":"No token");try{await G.n.deleteStore(Number(ae)),console.log("Customer deleted successfully via API service"),aY(),a$();return}catch(a){console.log("API service failed, trying direct fetch:",a)}let a=await fetch(`https://api.gajkesaristeels.in/store/deleteById?id=${ae}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(console.log("Delete response status:",a.status),console.log("Delete response ok:",a.ok),a.ok)console.log("Customer deleted successfully via direct fetch"),aY(),a$();else{let b=await a.text();console.error("Failed to delete customer. Status:",a.status),console.error("Error response:",b)}}catch(a){console.error("Error deleting customer:",a)}},a2=(0,e.useCallback)(async()=>{an(!0),ap("Please wait, downloading...");try{console.log("Starting export process...");let a=await fetch("https://api.gajkesaristeels.in/store/export",{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(console.log("Export response status:",a.status),console.log("Export response ok:",a.ok),!a.ok){console.error("Failed to fetch export data"),ap("Failed to download. Please try again.");return}let b=await a.text();console.log("CSV content received, length:",b.length);let c=new Blob([b],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a");if(void 0!==d.download){let a=URL.createObjectURL(c);d.setAttribute("href",a),d.setAttribute("download","customers_export.csv"),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d),ap("Download complete!"),console.log("Export completed successfully")}}catch(a){console.error("Error exporting data:",a),ap("Failed to download. Please try again.")}finally{setTimeout(()=>{an(!1),ap("Please wait, downloading...")},2e3)}},[t]),a3=(a,b,c,e)=>(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)(n.J,{htmlFor:a,className:"sr-only",children:b}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(m.p,{id:a,placeholder:b,value:e?S[a]:Q[a],onChange:b=>e?a0(a,b.target.value):a_(a,b.target.value),className:"pl-8 pr-8 h-9"}),(0,d.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none text-gray-400",children:c}),!e&&Q[a]&&(0,d.jsx)("button",{onClick:()=>{R(b=>({...b,[a]:""})),"employeeName"===a&&aD("all"),_(1)},className:"absolute inset-y-0 right-0 flex items-center pr-2 text-gray-400 hover:text-gray-600",children:(0,d.jsx)(r.A,{className:"h-4 w-4"})})]})]});return(0,d.jsx)("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,d.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>{ah(!0)},children:"Add Customer"}),(0,d.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>V(!U),className:"hidden md:inline-flex",children:[(0,d.jsx)(s.A,{className:"mr-2 h-4 w-4"}),U?"Hide Filters":"Show Filters"]}),(0,d.jsxs)(k.rI,{children:[(0,d.jsx)(k.ty,{asChild:!0,children:(0,d.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,d.jsx)(u,{className:"mr-2 h-4 w-4"}),"Columns"]})}),(0,d.jsxs)(k.SQ,{align:"end",className:"w-56",children:[(0,d.jsx)(k.lp,{children:"Toggle columns"}),(0,d.jsx)(k.mB,{}),[{value:"shopName",label:"Shop Name"},{value:"ownerName",label:"Owner Name"},{value:"city",label:"City"},{value:"state",label:"State"},{value:"phone",label:"Phone"},{value:"monthlySales",label:"Monthly Sales"},{value:"intentLevel",label:"Intent Level"},{value:"fieldOfficer",label:"Field Officer"},{value:"clientType",label:"Client Type"},{value:"totalVisits",label:"Total Visits"},{value:"lastVisitDate",label:"Last Visit Date"}].map(a=>(0,d.jsx)(k.hO,{checked:I.includes(a.value),onCheckedChange:()=>{var b;return b=a.value,void P(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},children:(0,d.jsxs)("div",{className:"flex items-center justify-between w-full",children:[a.label,I.includes(a.value)&&(0,d.jsx)(v.A,{className:"h-4 w-4"})]})},a.value))]})]}),(0,d.jsx)(i.$,{variant:"outline",size:"sm",onClick:a2,disabled:am,children:am?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),ao]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(w.A,{className:"mr-2 h-4 w-4"}),"Export"]})}),(0,d.jsx)(i.$,{variant:"outline",size:"icon",onClick:()=>X(!0),className:"md:hidden",children:(0,d.jsx)(s.A,{className:"h-4 w-4"})})]})}),U&&(0,d.jsx)(f.Zp,{className:"mb-6 hidden md:block",children:(0,d.jsx)(f.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[a3("storeName","Shop Name",(0,d.jsx)(x.A,{className:"h-4 w-4"}),!1),a3("ownerName","Owner Name",(0,d.jsx)(x.A,{className:"h-4 w-4"}),!1),a3("city","City",(0,d.jsx)(y.A,{className:"h-4 w-4"}),!1),a3("state","State",(0,d.jsx)(y.A,{className:"h-4 w-4"}),!1),a3("primaryContact","Phone",(0,d.jsx)(z.A,{className:"h-4 w-4"}),!1),a3("clientType","Client Type",(0,d.jsx)(A.A,{className:"h-4 w-4"}),!1),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)(n.J,{className:"sr-only",children:"Field Officer"}),(0,d.jsx)(O.Z,{options:aW,value:aC,onSelect:a=>{a&&"all"!==a.value?(aD(a.value),a_("employeeName",a.data?.fullName??"")):(aD("all"),a_("employeeName",""))},placeholder:"Field Officer",loading:aA,triggerClassName:"w-full justify-between h-9",contentClassName:"w-[var(--radix-popover-trigger-width)]",searchPlaceholder:"Search employees..."})]})]})})}),aG&&(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsx)("h2",{className:"text-xl font-semibold",children:"Team Customers"})}),(0,d.jsx)(l.cj,{open:W,onOpenChange:X,children:(0,d.jsxs)(l.h,{children:[(0,d.jsx)(l.Fm,{children:(0,d.jsx)(l.qp,{children:"Customer Filters"})}),(0,d.jsxs)("div",{className:"py-4 space-y-4",children:[a3("storeName","Shop Name",(0,d.jsx)(x.A,{className:"h-4 w-4"}),!0),a3("ownerName","Owner Name",(0,d.jsx)(x.A,{className:"h-4 w-4"}),!0),a3("city","City",(0,d.jsx)(y.A,{className:"h-4 w-4"}),!0),a3("state","State",(0,d.jsx)(y.A,{className:"h-4 w-4"}),!0),a3("primaryContact","Phone",(0,d.jsx)(z.A,{className:"h-4 w-4"}),!0),a3("clientType","Client Type",(0,d.jsx)(A.A,{className:"h-4 w-4"}),!0),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)(n.J,{className:"sr-only",children:"Field Officer"}),(0,d.jsx)(O.Z,{options:aW,value:aE,onSelect:a=>{a&&"all"!==a.value?(aF(a.value),a0("employeeName",a.data?.fullName??"")):(aF("all"),a0("employeeName",""))},placeholder:"Field Officer",loading:aA,triggerClassName:"w-full justify-between h-11",contentClassName:"w-[var(--radix-popover-trigger-width)]",searchPlaceholder:"Search employees..."})]})]}),(0,d.jsxs)(l.XW,{className:"flex gap-2",children:[(0,d.jsx)(i.$,{variant:"outline",onClick:()=>{let a={storeName:"",primaryContact:"",ownerName:"",city:"",state:"",clientType:"",employeeName:""};R(a),T(a),aD("all"),aF("all"),_(1)},children:"Clear All"}),(0,d.jsx)(i.$,{onClick:()=>{R(S),aD(aE),X(!1),_(1)},children:"Apply Filters"})]})]})}),(0,d.jsx)("div",{className:"md:hidden space-y-4",children:au||!aU?(0,d.jsx)(d.Fragment,{children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsxs)(f.Zp,{className:"overflow-hidden",children:[(0,d.jsx)(f.aR,{className:"pb-2",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)(K.E,{className:"h-12 w-12 rounded-full"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(K.E,{className:"h-4 w-40"}),(0,d.jsx)(K.E,{className:"h-3 w-24"})]})]}),(0,d.jsx)(K.E,{className:"h-6 w-16"})]})}),(0,d.jsxs)(f.Wu,{className:"pt-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(K.E,{className:"h-4 w-32"}),(0,d.jsx)(K.E,{className:"h-8 w-8"})]}),(0,d.jsx)("div",{className:"mt-4 flex justify-end",children:(0,d.jsx)(K.E,{className:"h-8 w-20"})})]})]},`mobile-skeleton-${b}`))}):aq.map((b,c)=>(0,d.jsxs)(f.Zp,{className:"overflow-hidden",children:[(0,d.jsx)(f.aR,{className:"pb-2",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsxs)(h.eu,{children:[(0,d.jsx)(h.BK,{src:`https://source.boringavatars.com/beam/120/${b.clientFirstName}${b.clientLastName}?colors=264653,2a9d8f,e9c46a,f4a261,e76f51`}),(0,d.jsx)(h.q5,{children:((a,b)=>{let c=a?.charAt(0)||"",d=b?.charAt(0)||"";return`${c}${d}`.toUpperCase()})(b.clientFirstName,b.clientLastName)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(f.ZB,{className:"text-lg",children:b.storeName}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:[b.city,", ",b.state]})]})]}),b.clientType&&(0,d.jsx)(g.E,{variant:"outline",children:b.clientType})]})}),(0,d.jsxs)(f.Wu,{className:"pt-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(x.A,{className:"text-blue-500"}),(0,d.jsx)("span",{className:"font-medium",children:"Owner:"}),(0,d.jsxs)("span",{children:[b.clientFirstName," ",b.clientLastName]})]}),(0,d.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{var a;return a=b.storeId,void Z(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},children:Y.includes(b.storeId)?(0,d.jsx)(B.A,{className:"h-4 w-4"}):(0,d.jsx)(C.A,{className:"h-4 w-4"})})]}),Y.includes(b.storeId)&&(0,d.jsxs)("div",{className:"mt-4 space-y-3 text-sm",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(z.A,{className:"text-green-500"}),(0,d.jsx)("span",{className:"font-medium",children:"Phone:"}),(0,d.jsx)("span",{children:b.primaryContact})]}),b.monthlySale&&(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(D.A,{className:"text-yellow-500"}),(0,d.jsx)("span",{className:"font-medium",children:"Monthly Sales:"}),(0,d.jsxs)("span",{children:[b.monthlySale.toLocaleString()," tonnes"]})]}),b.intent&&(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(A.A,{className:"text-red-500"}),(0,d.jsx)("span",{className:"font-medium",children:"Intent:"}),(0,d.jsx)("span",{children:b.intent})]}),b.employeeName&&(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(E,{className:"text-purple-500"}),(0,d.jsx)("span",{className:"font-medium",children:"Field Officer:"}),(0,d.jsx)("span",{children:b.employeeName})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(x.A,{className:"text-indigo-500"}),(0,d.jsx)("span",{className:"font-medium",children:"Total Visits:"}),(0,d.jsx)("span",{children:b.totalVisitCount})]})]}),(0,d.jsx)("div",{className:"mt-4 flex justify-end items-center",children:(0,d.jsxs)(k.rI,{children:[(0,d.jsx)(k.ty,{asChild:!0,children:(0,d.jsx)(i.$,{variant:"ghost",size:"sm",children:(0,d.jsx)(F.A,{className:"h-4 w-4"})})}),(0,d.jsxs)(k.SQ,{align:"end",children:[(0,d.jsx)(k._2,{onSelect:()=>{a.push(`/dashboard/customers/${b.storeId}`)},children:"View"}),(0,d.jsx)(k.mB,{}),(0,d.jsx)(k._2,{onSelect:()=>aZ(b.storeId.toString()),children:"Delete"})]})]})})]})]},`mobile-customer-${b.storeId}-${c}`))}),(0,d.jsx)("div",{className:"hidden md:block",children:(0,d.jsxs)(j.XI,{className:"text-sm font-poppins",children:[(0,d.jsx)(j.A0,{children:(0,d.jsxs)(j.Hj,{children:[I.includes("shopName")&&(0,d.jsxs)(j.nd,{className:"cursor-pointer",onClick:()=>aX("storeName"),children:["Shop Name","storeName"===ai&&(0,d.jsx)("span",{className:"text-black text-sm",children:"asc"===ak?" ":" "})]}),I.includes("ownerName")&&(0,d.jsxs)(j.nd,{className:"cursor-pointer",onClick:()=>aX("ownerName"),children:["Owner Name","ownerFirstName"===ai&&(0,d.jsx)("span",{className:"text-black text-sm",children:"asc"===ak?" ":" "})]}),I.includes("city")&&(0,d.jsxs)(j.nd,{className:"cursor-pointer",onClick:()=>aX("city"),children:["City","city"===ai&&(0,d.jsx)("span",{className:"text-black text-sm",children:"asc"===ak?" ":" "})]}),I.includes("state")&&(0,d.jsxs)(j.nd,{className:"cursor-pointer",onClick:()=>aX("state"),children:["State","state"===ai&&(0,d.jsx)("span",{className:"text-black text-sm",children:"asc"===ak?" ":" "})]}),I.includes("phone")&&(0,d.jsxs)(j.nd,{className:"cursor-pointer",onClick:()=>aX("primaryContact"),children:["Phone","primaryContact"===ai&&(0,d.jsx)("span",{className:"text-black text-sm",children:"asc"===ak?" ":" "})]}),I.includes("monthlySales")&&(0,d.jsxs)(j.nd,{className:"cursor-pointer",onClick:()=>aX("monthlySale"),children:["Monthly Sales","monthlySale"===ai&&(0,d.jsx)("span",{className:"text-black text-sm",children:"asc"===ak?" ":" "})]}),I.includes("intentLevel")&&(0,d.jsxs)(j.nd,{className:"cursor-pointer",onClick:()=>aX("intent"),children:["Intent Level","intent"===ai&&(0,d.jsx)("span",{className:"text-black text-sm",children:"asc"===ak?" ":" "})]}),I.includes("fieldOfficer")&&(0,d.jsxs)(j.nd,{className:"cursor-pointer",onClick:()=>aX("employeeName"),children:["Field Officer","employeeName"===ai&&(0,d.jsx)("span",{className:"text-black text-sm",children:"asc"===ak?" ":" "})]}),I.includes("clientType")&&(0,d.jsxs)(j.nd,{className:"cursor-pointer",onClick:()=>aX("clientType"),children:["Client Type","clientType"===ai&&(0,d.jsx)("span",{className:"text-black text-sm",children:"asc"===ak?" ":" "})]}),I.includes("totalVisits")&&(0,d.jsxs)(j.nd,{className:"cursor-pointer",onClick:()=>aX("totalVisits"),children:["Total Visits","visitCount"===ai&&(0,d.jsx)("span",{className:"text-black text-sm",children:"asc"===ak?" ":" "})]}),I.includes("lastVisitDate")&&(0,d.jsxs)(j.nd,{className:"cursor-pointer",onClick:()=>aX("lastVisitDate"),children:["Last Visit Date","lastVisitDate"===ai&&(0,d.jsx)("span",{className:"text-black text-sm",children:"asc"===ak?" ":" "})]}),(0,d.jsx)(j.nd,{className:"w-20",children:"Actions"})]})}),(0,d.jsx)(j.BF,{children:au||!aU?(0,d.jsx)(d.Fragment,{children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsxs)(j.Hj,{children:[I.includes("shopName")&&(0,d.jsx)(j.nA,{children:(0,d.jsx)(K.E,{className:"h-4 w-32"})}),I.includes("ownerName")&&(0,d.jsx)(j.nA,{children:(0,d.jsx)(K.E,{className:"h-4 w-28"})}),I.includes("city")&&(0,d.jsx)(j.nA,{children:(0,d.jsx)(K.E,{className:"h-4 w-20"})}),I.includes("state")&&(0,d.jsx)(j.nA,{children:(0,d.jsx)(K.E,{className:"h-4 w-16"})}),I.includes("phone")&&(0,d.jsx)(j.nA,{children:(0,d.jsx)(K.E,{className:"h-4 w-24"})}),I.includes("monthlySales")&&(0,d.jsx)(j.nA,{children:(0,d.jsx)(K.E,{className:"h-4 w-20"})}),I.includes("intentLevel")&&(0,d.jsx)(j.nA,{children:(0,d.jsx)(K.E,{className:"h-4 w-8"})}),I.includes("fieldOfficer")&&(0,d.jsx)(j.nA,{children:(0,d.jsx)(K.E,{className:"h-4 w-24"})}),I.includes("clientType")&&(0,d.jsx)(j.nA,{children:(0,d.jsx)(K.E,{className:"h-6 w-16"})}),I.includes("totalVisits")&&(0,d.jsx)(j.nA,{children:(0,d.jsx)(K.E,{className:"h-4 w-8"})}),I.includes("lastVisitDate")&&(0,d.jsx)(j.nA,{children:(0,d.jsx)(K.E,{className:"h-4 w-20"})}),(0,d.jsx)(j.nA,{className:"w-20",children:(0,d.jsx)(K.E,{className:"h-8 w-8"})})]},`skeleton-${b}`))}):aq.map((b,c)=>(0,d.jsxs)(j.Hj,{children:[I.includes("shopName")&&(0,d.jsx)(j.nA,{children:b.storeName||""}),I.includes("ownerName")&&(0,d.jsx)(j.nA,{children:b.clientFirstName||b.clientLastName?`${b.clientFirstName||""} ${b.clientLastName||""}`.trim():""}),I.includes("city")&&(0,d.jsx)(j.nA,{children:b.city||""}),I.includes("state")&&(0,d.jsx)(j.nA,{children:b.state||""}),I.includes("phone")&&(0,d.jsx)(j.nA,{children:b.primaryContact||""}),I.includes("monthlySales")&&(0,d.jsx)(j.nA,{children:null!==b.monthlySale&&void 0!==b.monthlySale?`${b.monthlySale.toLocaleString()} tonnes`:""}),I.includes("intentLevel")&&(0,d.jsx)(j.nA,{children:null!==b.intent&&void 0!==b.intent?b.intent:""}),I.includes("fieldOfficer")&&(0,d.jsx)(j.nA,{children:b.employeeName||""}),I.includes("clientType")&&(0,d.jsx)(j.nA,{children:(0,d.jsx)(g.E,{variant:"outline",children:b.clientType||""})}),I.includes("totalVisits")&&(0,d.jsx)(j.nA,{children:b.totalVisitCount}),I.includes("lastVisitDate")&&(0,d.jsx)(j.nA,{children:b.lastVisitDate?(0,M.V5)(b.lastVisitDate):""}),(0,d.jsx)(j.nA,{className:"w-20",children:(0,d.jsxs)(k.rI,{children:[(0,d.jsx)(k.ty,{asChild:!0,children:(0,d.jsx)(i.$,{variant:"ghost",size:"sm",children:(0,d.jsx)(F.A,{className:"h-4 w-4"})})}),(0,d.jsxs)(k.SQ,{align:"end",children:[(0,d.jsx)(k._2,{onSelect:()=>{a.push(`/dashboard/customers/${b.storeId}`)},children:"View"}),(0,d.jsx)(k.mB,{}),(0,d.jsx)(k._2,{onSelect:()=>aZ(b.storeId.toString()),children:"Delete"})]})]})})]},`customer-${b.storeId}-${c}`))})]})}),aU&&aq.length>0&&(0,d.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(n.J,{htmlFor:"pageSize",children:"Rows per page:"}),(0,d.jsxs)(o.l6,{value:aa.toString(),onValueChange:a=>ab(parseInt(a)),children:[(0,d.jsx)(o.bq,{className:"w-20",children:(0,d.jsx)(o.yv,{})}),(0,d.jsxs)(o.gC,{children:[(0,d.jsx)(o.eb,{value:"10",children:"10"}),(0,d.jsx)(o.eb,{value:"25",children:"25"}),(0,d.jsx)(o.eb,{value:"50",children:"50"}),(0,d.jsx)(o.eb,{value:"100",children:"100"})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>_(Math.max(1,$-1)),disabled:1===$,children:[(0,d.jsx)(p.A,{className:"h-4 w-4"}),"Previous"]}),(0,d.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Page ",$," of ",as]}),(0,d.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>_(Math.min(as,$+1)),disabled:$>=as,children:["Next",(0,d.jsx)(q.A,{className:"h-4 w-4"})]})]})]}),ac&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,d.jsxs)("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Confirm Delete"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this customer? This action cannot be undone."}),(0,d.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,d.jsx)(i.$,{variant:"outline",onClick:a$,children:"Cancel"}),(0,d.jsx)(i.$,{variant:"destructive",onClick:a1,children:"Delete"})]})]})}),(0,d.jsx)(J,{isOpen:ag,onClose:()=>{ah(!1)},token:t||"",employeeId:null,onCustomerAdded:()=>{aY()},userRole:aM||void 0,userData:H||void 0})]})})}},99088:(a,b,c)=>{"use strict";a.exports=c(42797)},99935:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/apple/Desktop/Projects/October/GajkesariSales-Oct23/app/dashboard/customers/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/apple/Desktop/Projects/October/GajkesariSales-Oct23/app/dashboard/customers/page.tsx","default")}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[4586,238,7692,5116,3266,2216,6764,9145,5271,7243,7195],()=>b(b.s=25634));module.exports=c})();