"use strict";exports.id=4036,exports.ids=[4036],exports.modules={15982:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},76180:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},80944:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]])},91292:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},93930:(a,b,c)=>{c.d(b,{A:()=>s});var d=c(21124),e=c(38301),f=c(45119),g=c(7629),h=c(53199),i=c(19217),j=c(45334),k=c(8849),l=c(75219),m=c(91292),n=c(14263),o=c(76180),p=c(40284),q=c(33305),r=c(99042);function s({brands:a,setBrands:b,visitId:c,token:s,fetchVisitDetail:t}){let[u,v]=(0,e.useState)(!1),[w,x]=(0,e.useState)(!1),[y,z]=(0,e.useState)({brandName:"",pros:[],cons:[]}),[A,B]=(0,e.useState)(null),[C,D]=(0,e.useState)(!1),[E,F]=(0,e.useState)(!1),[G,H]=(0,e.useState)(null),[I,J]=(0,e.useState)(!1);(0,e.useCallback)(async()=>{try{let a=await fetch(`https://api.gajkesaristeels.in/visit/getProCons?visitId=${c}`,{headers:{Authorization:`Bearer ${s}`}}),d=await a.json(),e=d?.map(a=>({id:a.id,brandName:a.brandName,pros:a.pros,cons:a.cons}))||[];b(e)}catch(a){console.error("Error fetching brands:",a)}},[s,c,b]);let K=a=>{y[a].length<3&&z({...y,[a]:[...y[a],""]})},L=(a,b,c)=>{let d=[...y[a]];d[b]=c,z({...y,[a]:d})},M=async()=>{if(""!==y.brandName.trim()){let d={brandName:y.brandName,pros:y.pros.filter(a=>""!==a.trim()),cons:y.cons.filter(a=>""!==a.trim())};try{D(!0);let e=await fetch(`https://api.gajkesaristeels.in/visit/addProCons?visitId=${c}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify([...a,d])});e.ok?(b([...a,{...d,id:new Date().getTime()}]),z({brandName:"",pros:[],cons:[]}),v(!1)):console.error("Error adding brand:",e.statusText)}catch(a){console.error("Error adding brand:",a)}finally{D(!1)}}},N=async()=>{if(""!==y.brandName.trim()){let d=a.map(a=>a.id===A?{...a,brandName:y.brandName,pros:y.pros.filter(a=>""!==a.trim()),cons:y.cons.filter(a=>""!==a.trim())}:a);try{D(!0);let a=await fetch(`https://api.gajkesaristeels.in/visit/addProCons?visitId=${c}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(d.map(a=>({brandName:a.brandName,pros:a.pros,cons:a.cons})))});a.ok?(b(d),z({brandName:"",pros:[],cons:[]}),x(!1),B(null)):console.error("Error updating brand:",a.statusText)}catch(a){console.error("Error updating brand:",a)}finally{D(!1)}}},O=async()=>{if(!G)return;let d=a.filter(a=>a.id!==G.id);try{J(!0);let a=await fetch(`https://api.gajkesaristeels.in/visit/deleteProCons?visitId=${c}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify([{brandName:G.brandName}])});a.ok?(b(d),F(!1),H(null)):console.error("Error deleting brand:",a.statusText)}catch(a){console.error("Error deleting brand:",a)}finally{J(!1)}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"w-full",children:[!u&&!w&&a&&0===a.length&&(0,d.jsx)("div",{className:"text-center py-8",children:(0,d.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,d.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:(0,d.jsx)(j.A,{className:"h-6 w-6 text-muted-foreground"})}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(r.DZ,{size:"md",weight:"medium",children:"No brands available"}),(0,d.jsx)(r.EY,{size:"sm",tone:"muted",children:"Add brand information to track pros and cons"})]}),(0,d.jsxs)(i.$,{onClick:()=>v(!0),className:"mt-2",children:[(0,d.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Add Brand"]})]})}),(u||w)&&(0,d.jsx)(f.Zp,{className:"w-full mb-4 border border-border bg-card shadow-sm",children:(0,d.jsxs)(f.Wu,{className:"p-4",children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)(h.J,{className:"text-sm font-medium text-foreground mb-2 block",children:"Brand Name"}),(0,d.jsx)(g.p,{name:"brandName",value:y.brandName,onChange:a=>{z({...y,[a.target.name]:a.target.value})},placeholder:"Enter brand name",className:"w-full"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(l.A,{className:"h-3 w-3 text-green-600"}),(0,d.jsx)(h.J,{className:"text-sm font-medium text-foreground",children:"Pros"})]}),(0,d.jsx)("div",{className:"space-y-1",children:y.pros.map((a,b)=>(0,d.jsx)(g.p,{value:a,onChange:a=>L("pros",b,a.target.value),placeholder:`Pro ${b+1}`,className:"w-full"},b))}),y.pros.length<3&&(0,d.jsxs)(i.$,{onClick:()=>K("pros"),variant:"outline",size:"sm",className:"w-full",children:[(0,d.jsx)(k.A,{className:"mr-2 h-3 w-3"}),"Add Pro"]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(m.A,{className:"h-3 w-3 text-red-600"}),(0,d.jsx)(h.J,{className:"text-sm font-medium text-foreground",children:"Cons"})]}),(0,d.jsx)("div",{className:"space-y-1",children:y.cons.map((a,b)=>(0,d.jsx)(g.p,{value:a,onChange:a=>L("cons",b,a.target.value),placeholder:`Con ${b+1}`,className:"w-full"},b))}),y.cons.length<3&&(0,d.jsxs)(i.$,{onClick:()=>K("cons"),variant:"outline",size:"sm",className:"w-full",children:[(0,d.jsx)(k.A,{className:"mr-2 h-3 w-3"}),"Add Con"]})]})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-border",children:[(0,d.jsx)(i.$,{onClick:()=>{v(!1),x(!1),B(null),z({brandName:"",pros:[],cons:[]})},variant:"outline",children:"Cancel"}),(0,d.jsx)(i.$,{onClick:w?N:M,variant:"default",disabled:C,children:C?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.A,{className:"mr-2 h-4 w-4 animate-spin"}),w?"Updating...":"Adding..."]}):w?"Update Brand":"Add Brand"})]})]})}),a.length>0&&(0,d.jsx)("div",{className:"space-y-3",children:a.map(b=>(0,d.jsx)(f.Zp,{className:"w-full border border-border bg-card shadow-sm hover:shadow-md transition-all duration-200",children:(0,d.jsxs)(f.Wu,{className:"p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-primary/10",children:(0,d.jsx)(j.A,{className:"h-4 w-4 text-primary"})}),(0,d.jsx)("div",{children:(0,d.jsx)(r.DZ,{size:"md",weight:"semibold",className:"text-foreground",children:b.brandName})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(i.$,{onClick:()=>(b=>{x(!0),B(b);let c=a.find(a=>a.id===b);c?z({brandName:c.brandName,pros:c.pros,cons:c.cons}):console.error("Brand not found")})(b.id),variant:"ghost",size:"icon",className:"h-7 w-7",children:(0,d.jsx)(o.A,{className:"h-3 w-3"})}),(0,d.jsx)(i.$,{onClick:()=>{H(b),F(!0)},variant:"ghost",size:"icon",className:"h-7 w-7 text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,d.jsx)(p.A,{className:"h-3 w-3"})})]})]}),(b.pros.length>0||b.cons.length>0)&&(0,d.jsxs)("div",{className:`grid gap-4 ${b.pros.length>0&&b.cons.length>0?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:[b.pros.length>0&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-green-100",children:(0,d.jsx)(l.A,{className:"h-3 w-3 text-green-600"})}),(0,d.jsx)(r.DZ,{size:"sm",weight:"medium",className:"text-foreground",children:"Pros"})]}),(0,d.jsx)("ul",{className:"space-y-1",children:b.pros.map((a,b)=>(0,d.jsxs)("li",{className:"flex items-start gap-2",children:[(0,d.jsx)("div",{className:"flex h-1 w-1 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),(0,d.jsx)(r.EY,{size:"sm",className:"text-foreground",children:a})]},b))})]}),b.cons.length>0&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-red-100",children:(0,d.jsx)(m.A,{className:"h-3 w-3 text-red-600"})}),(0,d.jsx)(r.DZ,{size:"sm",weight:"medium",className:"text-foreground",children:"Cons"})]}),(0,d.jsx)("ul",{className:"space-y-1",children:b.cons.map((a,b)=>(0,d.jsxs)("li",{className:"flex items-start gap-2",children:[(0,d.jsx)("div",{className:"flex h-1 w-1 rounded-full bg-red-500 mt-1.5 flex-shrink-0"}),(0,d.jsx)(r.EY,{size:"sm",className:"text-foreground",children:a})]},b))})]})]})]})},b.id))}),!u&&!w&&a.length>0&&(0,d.jsx)("div",{className:"mt-6 pt-4 border-t border-border",children:(0,d.jsxs)(i.$,{onClick:()=>v(!0),className:"w-full md:w-auto",children:[(0,d.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Add Brand"]})})]}),(0,d.jsx)(q.lG,{open:E,onOpenChange:F,children:(0,d.jsxs)(q.Cf,{children:[(0,d.jsxs)(q.c7,{children:[(0,d.jsx)(q.L3,{children:"Delete Brand"}),(0,d.jsx)(q.rr,{children:"This will remove the brand and its pros/cons for this visit. This action cannot be undone."})]}),(0,d.jsx)("div",{className:"py-2",children:(0,d.jsxs)(r.EY,{size:"sm",children:["Brand: ",(0,d.jsx)("span",{className:"font-medium",children:G?.brandName})]})}),(0,d.jsxs)(q.Es,{children:[(0,d.jsx)(i.$,{variant:"outline",onClick:()=>F(!1),disabled:I,children:"Cancel"}),(0,d.jsx)(i.$,{variant:"destructive",onClick:O,disabled:I,children:I?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.A,{className:"mr-2 h-4 w-4 animate-spin"})," Deleting..."]}):"Delete"})]})]})})]})}}};