exports.id=5271,exports.ids=[5271],exports.modules={7629:(a,b,c)=>{"use strict";c.d(b,{p:()=>f});var d=c(21124);c(38301);var e=c(15514);function f({className:a,type:b,...c}){return(0,d.jsx)("input",{type:b,"data-slot":"input",className:(0,e.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...c})}},9188:(a,b,c)=>{"use strict";c.d(b,{Hr:()=>n,Ht:()=>o,SQ:()=>k,_2:()=>l,hO:()=>m,lp:()=>p,mB:()=>q,rI:()=>i,ty:()=>j});var d=c(21124);c(38301);var e=c(12927),f=c(71613),g=c(90133),h=c(15514);function i({...a}){return(0,d.jsx)(e.bL,{"data-slot":"dropdown-menu",...a})}function j({...a}){return(0,d.jsx)(e.l9,{"data-slot":"dropdown-menu-trigger",...a})}function k({className:a,sideOffset:b=4,...c}){return(0,d.jsx)(e.ZL,{children:(0,d.jsx)(e.UC,{"data-slot":"dropdown-menu-content",sideOffset:b,className:(0,h.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...c})})}function l({className:a,inset:b,variant:c="default",...f}){return(0,d.jsx)(e.q7,{"data-slot":"dropdown-menu-item","data-inset":b,"data-variant":c,className:(0,h.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...f})}function m({className:a,children:b,checked:c,...g}){return(0,d.jsxs)(e.H_,{"data-slot":"dropdown-menu-checkbox-item",className:(0,h.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),checked:c,...g,children:[(0,d.jsx)("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:(0,d.jsx)(e.VF,{children:(0,d.jsx)(f.A,{className:"size-4"})})}),b]})}function n({...a}){return(0,d.jsx)(e.z6,{"data-slot":"dropdown-menu-radio-group",...a})}function o({className:a,children:b,...c}){return(0,d.jsxs)(e.hN,{"data-slot":"dropdown-menu-radio-item",className:(0,h.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...c,children:[(0,d.jsx)("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:(0,d.jsx)(e.VF,{children:(0,d.jsx)(g.A,{className:"size-2 fill-current"})})}),b]})}function p({className:a,inset:b,...c}){return(0,d.jsx)(e.JU,{"data-slot":"dropdown-menu-label","data-inset":b,className:(0,h.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",a),...c})}function q({className:a,...b}){return(0,d.jsx)(e.wv,{"data-slot":"dropdown-menu-separator",className:(0,h.cn)("bg-border -mx-1 my-1 h-px",a),...b})}},15514:(a,b,c)=>{"use strict";c.d(b,{$:()=>k,V5:()=>l,cn:()=>j,hI:()=>m});var d=c(43249),e=c(58829),f=c(31115),g=c(96635),h=c(63386),i=c(61163);function j(...a){return(0,e.QP)((0,d.$)(a))}function k(a){if(!a)return"";try{let[b,c]=a.split(":"),d=new Date;return d.setHours(parseInt(b,10),parseInt(c,10),0,0),(0,f.GP)(d,"h:mm a")}catch(b){return console.error("Error formatting time:",b),a}}function l(a){if(!a)return"";try{let b=(0,g.H)(a);if((0,h.c)(b))return"Today";if((0,i.P)(b))return"Yesterday";return(0,f.GP)(b,"dd MMM yyyy")}catch(b){return console.error("Error formatting date:",b),a}}function m(a){if(!a)return"";try{let b;if(a.includes("T"))b=(0,g.H)(a);else{let c=a.split(" ");if(c.length>=2){let a=c[0],d=c[1],[e,f,g]=a.split("-").map(Number),[h,i]=d.split(":").map(Number);b=new Date(e,f-1,g,h,i)}else b=(0,g.H)(a)}let c=l((0,f.GP)(b,"yyyy-MM-dd")),d=k((0,f.GP)(b,"HH:mm"));return`${c} ${d}`}catch(b){return console.error("Error formatting last updated:",b),a}}},19217:(a,b,c)=>{"use strict";c.d(b,{$:()=>i,r:()=>h});var d=c(21124);c(38301);var e=c(96425),f=c(26691),g=c(15514);let h=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:b,size:c,asChild:f=!1,...i}){let j=f?e.DX:"button";return(0,d.jsx)(j,{"data-slot":"button",className:(0,g.cn)(h({variant:b,size:c,className:a})),...i})}},29636:(a,b,c)=>{Promise.resolve().then(c.bind(c,69694))},33305:(a,b,c)=>{"use strict";c.d(b,{Cf:()=>l,Es:()=>n,L3:()=>o,ZJ:()=>j,c7:()=>m,lG:()=>h,rr:()=>p,zM:()=>i});var d=c(21124);c(38301);var e=c(39641),f=c(47089),g=c(15514);function h({...a}){return(0,d.jsx)(e.bL,{"data-slot":"dialog",...a})}function i({...a}){return(0,d.jsx)(e.l9,{"data-slot":"dialog-trigger",...a})}function j({...a}){return(0,d.jsx)(e.ZL,{"data-slot":"dialog-portal",...a})}function k({className:a,...b}){return(0,d.jsx)(e.hJ,{"data-slot":"dialog-overlay",className:(0,g.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function l({className:a,children:b,showCloseButton:c=!0,...h}){return(0,d.jsxs)(j,{"data-slot":"dialog-portal",children:[(0,d.jsx)(k,{}),(0,d.jsxs)(e.UC,{"data-slot":"dialog-content",className:(0,g.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...h,children:[b,c&&(0,d.jsxs)(e.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,d.jsx)(f.A,{}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"dialog-header",className:(0,g.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function n({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"dialog-footer",className:(0,g.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function o({className:a,...b}){return(0,d.jsx)(e.hE,{"data-slot":"dialog-title",className:(0,g.cn)("text-lg leading-none font-semibold",a),...b})}function p({className:a,...b}){return(0,d.jsx)(e.VY,{"data-slot":"dialog-description",className:(0,g.cn)("text-muted-foreground text-sm",a),...b})}},45119:(a,b,c)=>{"use strict";c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(21124);c(38301);var e=c(15514),f=c(99042);function g({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function h({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-header",className:(0,e.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function i({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-title",className:(0,e.cn)((0,f.DW)({size:"md"}),"leading-none",a),...b})}function j({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-description",className:(0,e.cn)((0,f.eu)({size:"sm",tone:"muted"}),a),...b})}function k({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:(0,e.cn)("px-6",a),...b})}},53199:(a,b,c)=>{"use strict";c.d(b,{J:()=>g});var d=c(21124);c(38301);var e=c(46029),f=c(15514);function g({className:a,...b}){return(0,d.jsx)(e.b,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...b})}},55250:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>Z});var d=c(21124),e=c(19217),f=c(86276),g=c(65893),h=c(71213),i=c(17220),j=c(46681),k=c(72567),l=c(94104),m=c(50349),n=c(63091),o=c(10578),p=c(75219),q=c(32717),r=c(67748),s=c(3663),t=c(40732),u=c(23593),v=c(78733),w=c(94684),x=c(85351),y=c(59405),z=c(19710),A=c(3991),B=c.n(A),C=c(42378),D=c(38301),E=c(70175),F=c(60988),G=c(64385);function H(){let{theme:a,setTheme:b}=(0,G.D)(),[c,f]=(0,D.useState)(!1);return c?(0,d.jsxs)(e.$,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>b("dark"===a?"light":"dark"),children:["dark"===a?(0,d.jsx)(E.A,{className:"h-4 w-4"}):(0,d.jsx)(F.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Toggle theme"})]}):(0,d.jsx)(e.$,{variant:"outline",size:"icon",className:"h-8 w-8",children:(0,d.jsx)(E.A,{className:"h-4 w-4"})})}var I=c(99042);function J({heading:a,subheading:b}){return(0,d.jsxs)("header",{className:"flex h-10 items-center gap-4 border-b bg-background px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6",children:[(0,d.jsx)("div",{className:"flex-1 min-w-0",children:(0,d.jsxs)("div",{className:"flex flex-col",children:[a&&(0,d.jsx)(I.DZ,{as:"h1",size:"lg",className:"truncate leading-tight",weight:"semibold",children:a}),b&&(0,d.jsx)(I.EY,{as:"p",size:"sm",tone:"muted",className:"truncate -mt-2 leading-tight",children:b})]})}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsx)(H,{})})]})}var K=c(9188),L=c(62781),M=c(5561),N=c(33305),O=c(7629),P=c(53199);let Q=({open:a,onOpenChange:b,onCreateSuccess:c})=>{let{token:f}=(0,M.A)(),[g,h]=(0,D.useState)({brandName:"Gajkesari",price:"",city:""}),[i,j]=(0,D.useState)(!1);(0,D.useEffect)(()=>{a||h({brandName:"Gajkesari",price:"",city:""})},[a]);let k=async()=>{j(!0);try{let a={...g,price:parseFloat(g.price),employeeDto:{id:86}};if(!(await fetch("https://api.gajkesaristeels.in/brand/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(a)})).ok)throw Error("API Error");b(!1),c?.()}catch(a){console.error("Error creating pricing:",a)}finally{j(!1)}};return(0,d.jsx)(N.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(N.Cf,{className:"sm:max-w-[425px] p-6",children:[(0,d.jsxs)(N.c7,{children:[(0,d.jsx)(N.L3,{children:"Create Pricing"}),(0,d.jsx)(N.rr,{children:"Daily Pricing for today has not been created. Please fill out the details below."})]}),(0,d.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(P.J,{htmlFor:"brandName",children:"Brand Name"}),(0,d.jsx)(O.p,{id:"brandName",value:g.brandName,disabled:!0,className:"col-span-3"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(P.J,{htmlFor:"price",children:"Price"}),(0,d.jsx)(O.p,{id:"price",type:"number",value:g.price,onChange:a=>h({...g,price:a.target.value}),className:"col-span-3"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,d.jsx)(P.J,{htmlFor:"city",children:"City"}),(0,d.jsx)(O.p,{id:"city",value:g.city,onChange:a=>h({...g,city:a.target.value}),className:"col-span-3"})]})]}),(0,d.jsx)(N.Es,{children:(0,d.jsx)(e.$,{onClick:k,disabled:i||!g.price||!g.city,type:"button",children:i?"Creating...":"Create"})})]})})},R=()=>{let{token:a}=(0,M.A)(),[b,c]=(0,D.useState)(!1),[e,f]=(0,D.useState)(!1),g=(0,D.useCallback)(async()=>{if(a&&!e)try{let b=new Date().toISOString().split("T")[0],c=await fetch(`https://api.gajkesaristeels.in/brand/getByDateRange?start=${b}&end=${b}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});if(!c.ok)return;let d=(await c.json()).find(a=>"Gajkesari"===a.brandName);!d||d.employeeDto&&d.employeeDto.id,f(!0)}catch(a){console.error("Error checking daily pricing:",a)}},[a,e]);return(0,D.useEffect)(()=>{g()},[g]),(0,d.jsx)(Q,{open:b,onOpenChange:c,onCreateSuccess:()=>{console.log("Daily pricing created successfully")}})};var S=c(38882),T=c(47089);function U({isOpen:a,onClose:b,sidebarCategories:c,isManager:e,visibleItems:f}){let g=(0,C.usePathname)(),{currentUser:h}=(0,M.A)(),i=(()=>{let a=[{name:"Dashboard",href:"/dashboard",icon:v.A}];return e||a.push({name:"Settings",href:"/dashboard/settings",icon:w.A}),c.forEach(b=>{b.items.forEach(b=>{a.push(b)})}),a})().filter(a=>!f.some(b=>b.href===a.href));return a?(0,d.jsxs)(D.Fragment,{children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 md:hidden backdrop-enter",onClick:b}),(0,d.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden bottom-sheet-enter",children:(0,d.jsxs)("div",{className:"bg-background/95 backdrop-blur-sm rounded-t-3xl shadow-2xl border-t border-border max-h-[80vh] overflow-hidden",children:[(0,d.jsx)("div",{className:"flex justify-center pt-3 pb-2 cursor-pointer",onClick:b,children:(0,d.jsx)("div",{className:"w-12 h-1.5 bg-muted-foreground/30 rounded-full hover:bg-muted-foreground/50 transition-colors"})}),(0,d.jsx)("div",{className:"px-6 pb-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold",children:"More Pages"}),(0,d.jsx)("button",{onClick:b,className:"p-2 rounded-full hover:bg-muted transition-colors",children:(0,d.jsx)(T.A,{className:"h-5 w-5"})})]})}),(0,d.jsxs)("div",{className:"overflow-y-auto px-6 pb-6 max-h-[60vh] safe-area-pb",children:[(0,d.jsx)("div",{className:"grid grid-cols-2 gap-4",children:i.map(a=>{let c=a.icon,e=g===a.href;return(0,d.jsxs)(B(),{href:a.href,onClick:b,className:`flex flex-col items-center justify-center p-5 rounded-xl border-2 transition-all duration-200 ${e?"text-primary bg-primary/10 border-primary/30 scale-105 shadow-md":"text-muted-foreground hover:text-foreground hover:bg-muted/50 border-border hover:border-muted-foreground/30 hover:scale-105"}`,children:[(0,d.jsx)(c,{className:`h-7 w-7 mb-3 ${e?"drop-shadow-sm":""}`}),(0,d.jsx)("span",{className:`text-sm font-medium text-center leading-tight ${e?"font-semibold":""}`,children:a.name})]},a.href)})}),0===i.length&&(0,d.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,d.jsx)(S.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,d.jsx)("p",{className:"text-lg font-medium",children:"All pages are already visible"}),(0,d.jsx)("p",{className:"text-sm mt-1",children:"Check the bottom navigation bar"})]})]})]})})]}):null}function V({sidebarCategories:a,isManager:b}){let c=(0,C.usePathname)(),{currentUser:e}=(0,M.A)(),[f,j]=(0,D.useState)(!1),n=(()=>{let c=[{name:"Dashboard",href:"/dashboard",icon:v.A}];return[{name:"Visits",href:"/dashboard/visits",icon:k.A},{name:"Customers",href:"/dashboard/customers",icon:g.A},{name:"Requirements",href:"/dashboard/requirements",icon:l.A},{name:"Complaints",href:"/dashboard/complaints",icon:i.A},{name:"Pricing",href:"/dashboard/pricing",icon:m.A},{name:"Approvals",href:"/dashboard/approvals",icon:s.A},{name:"Enquiries",href:"/dashboard/enquiries",icon:h.A}].forEach(b=>{a.some(a=>a.items.some(a=>a.href===b.href))&&c.push(b)}),b||c.push({name:"Settings",href:"/dashboard/settings",icon:w.A}),c})(),o=n.slice(0,4);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-sm border-t border-border md:hidden z-50 shadow-lg",children:(0,d.jsxs)("div",{className:"flex items-center justify-around py-3 px-1 safe-area-pb",children:[o.map(a=>{let b=a.icon,e=c===a.href;return(0,d.jsxs)(B(),{href:a.href,className:`flex flex-col items-center justify-center p-2 rounded-lg transition-all min-w-0 flex-1 mx-0.5 ${e?"text-primary bg-primary/10 scale-105":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[(0,d.jsx)(b,{className:`h-5 w-5 mb-1 ${e?"drop-shadow-sm":""}`}),(0,d.jsx)("span",{className:`text-xs font-medium text-center leading-tight ${e?"font-semibold":""}`,style:{wordBreak:"break-word",lineHeight:"1.2"},children:a.name})]},a.href)}),(0,d.jsxs)("button",{onClick:()=>j(!0),className:"flex flex-col items-center justify-center p-2 rounded-lg transition-all min-w-0 flex-1 mx-0.5 text-muted-foreground hover:text-foreground hover:bg-muted/50 active:scale-95",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(S.A,{className:"h-5 w-5 mb-1"}),n.length>4&&(0,d.jsx)("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-primary rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-xs text-primary-foreground font-bold",children:n.length-4})})]}),(0,d.jsx)("span",{className:"text-xs font-medium text-center leading-tight",style:{wordBreak:"break-word",lineHeight:"1.2"},children:"More"})]})]})}),(0,d.jsx)(U,{isOpen:f,onClose:()=>j(!1),sidebarCategories:a,isManager:b,visibleItems:o})]})}let W=[{name:"Customers",icon:g.A,items:[{name:"Customers",href:"/dashboard/customers",icon:g.A},{name:"Enquiries",href:"/dashboard/enquiries",icon:h.A},{name:"Complaints",href:"/dashboard/complaints",icon:i.A}]},{name:"Sales",icon:j.A,items:[{name:"Visits",href:"/dashboard/visits",icon:k.A},{name:"Requirements",href:"/dashboard/requirements",icon:l.A},{name:"Pricing",href:"/dashboard/pricing",icon:m.A}]},{name:"Employees",icon:n.A,items:[{name:"Employees",href:"/dashboard/employees",icon:o.A},{name:"Attendance",href:"/dashboard/attendance",icon:p.A},{name:"Expenses",href:"/dashboard/expenses",icon:q.A}]},{name:"Reports",icon:r.A,items:[{name:"Approvals",href:"/dashboard/approvals",icon:s.A},{name:"Reports",href:"/dashboard/reports",icon:t.A}]}],X=["/dashboard/customers","/dashboard/enquiries","/dashboard/complaints","/dashboard/visits","/dashboard/requirements","/dashboard/pricing","/dashboard/approvals"];function Y({children:a,heading:b,subheading:c}){let{userRole:g,currentUser:h}=(0,M.A)(),i=(0,C.usePathname)(),j=(0,C.useRouter)(),{logout:k}=(0,M.A)(),[l,m]=(0,D.useState)(!1),n="MANAGER"===g||h?.authorities?.some(a=>"ROLE_MANAGER"===a.authority)?W.map(a=>({...a,items:a.items.filter(a=>X.includes(a.href))})).filter(a=>a.items.length>0):W,[o,p]=(0,D.useState)(()=>{let a={};return n.forEach(b=>{a[b.name]=!0}),a}),q=()=>"MANAGER"===g||h?.authorities?.some(a=>"ROLE_MANAGER"===a.authority)?"Manager":"ADMIN"===g||h?.authorities?.some(a=>"ROLE_ADMIN"===a.authority)?"Admin":"FIELD OFFICER"===g||h?.authorities?.some(a=>"ROLE_FIELD OFFICER"===a.authority)?"Field Officer":"User",r="MANAGER"===g||h?.authorities?.some(a=>"ROLE_MANAGER"===a.authority),s=a=>{p(b=>({...b,[a]:!b[a]}))},t=async()=>{try{await k(),j.push("/login")}catch(a){console.error("Logout error:",a),j.push("/login")}};return(0,d.jsxs)("div",{className:"min-h-screen w-full grid md:grid-cols-[220px_1fr] lg:grid-cols-[240px_1fr]",children:[(0,d.jsx)(R,{}),(0,d.jsx)(V,{sidebarCategories:n,isManager:r||!1}),(0,d.jsxs)(f.cj,{open:l,onOpenChange:m,children:[(0,d.jsx)(f.CG,{asChild:!0,children:(0,d.jsxs)(e.$,{variant:"outline",size:"icon",className:"shrink-0 hidden md:hidden absolute top-4 left-4 z-50",children:[(0,d.jsx)(u.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),(0,d.jsxs)(f.h,{side:"left",className:"flex flex-col w-64 z-50",children:[(0,d.jsx)("nav",{className:"grid gap-2 text-base font-medium pt-4 px-2",children:(0,d.jsxs)(B(),{href:"/dashboard",className:"flex items-center gap-2 text-lg font-semibold px-3 py-2",onClick:()=>m(!1),children:[(0,d.jsx)(v.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{className:"font-bold",children:"Gajkesari"})]})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto py-4",children:(0,d.jsxs)("nav",{className:"grid gap-1 px-2",children:[(0,d.jsxs)(B(),{href:"/dashboard",onClick:()=>m(!1),className:`flex items-center gap-2 rounded-lg px-3 py-2 transition-all ${"/dashboard"===i?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:[(0,d.jsx)(v.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"text-sm",children:"Dashboard"})]}),!r&&(0,d.jsxs)(B(),{href:"/dashboard/settings",onClick:()=>m(!1),className:`flex items-center gap-2 rounded-lg px-3 py-2 transition-all ${i.startsWith("/dashboard/settings")?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:[(0,d.jsx)(w.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"text-sm",children:"Settings"})]}),n.map(a=>{let b=a.icon,c=o[a.name];return(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)(e.$,{variant:"ghost",className:"justify-between px-3 py-2 h-auto",onClick:()=>s(a.name),children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(b,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:a.name})]}),c?(0,d.jsx)(x.A,{className:"h-4 w-4"}):(0,d.jsx)(y.A,{className:"h-4 w-4"})]}),c&&(0,d.jsx)("div",{className:"pl-4 py-1 space-y-1",children:a.items.map(a=>{let b=a.icon;return(0,d.jsxs)(B(),{href:a.href,onClick:()=>m(!1),className:`flex items-center gap-2 rounded-lg px-3 py-2 transition-all ${i===a.href?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:[(0,d.jsx)(b,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"text-sm",children:a.name})]},a.name)})})]},a.name)})]})}),(0,d.jsx)("div",{className:"mt-auto pt-4 border-t",children:(0,d.jsxs)(K.rI,{children:[(0,d.jsx)(K.ty,{asChild:!0,children:(0,d.jsxs)(e.$,{variant:"ghost",className:"w-full justify-start gap-2 px-3 py-2 h-auto",children:[(0,d.jsx)(L.A,{className:"h-4 w-4"}),(0,d.jsxs)("div",{className:"flex flex-col items-start",children:[(0,d.jsx)("span",{className:"font-medium text-xs",children:h?.username||"User"}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:q()})]})]})}),(0,d.jsxs)(K.SQ,{align:"end",className:"w-48",children:[!r&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(K._2,{onClick:()=>j.push("/dashboard/settings"),children:[(0,d.jsx)(w.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Settings"})]}),(0,d.jsx)(K.mB,{})]}),(0,d.jsxs)(K._2,{onClick:t,children:[(0,d.jsx)(z.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Logout"})]})]})]})})]})]}),(0,d.jsx)("div",{className:"hidden border-r bg-background md:block sticky top-0 h-screen",children:(0,d.jsxs)("div",{className:"flex h-full max-h-screen flex-col",children:[(0,d.jsx)("div",{className:"flex h-10 items-center border-b px-4 lg:px-6",children:(0,d.jsxs)(B(),{href:"/dashboard",className:"flex items-center gap-2 font-semibold",children:[(0,d.jsx)(v.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{className:"font-bold",children:"Gajkesari"})]})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto py-4",children:(0,d.jsxs)("nav",{className:"grid gap-1 px-2",children:[(0,d.jsxs)(B(),{href:"/dashboard",className:`flex items-center gap-2 rounded-lg px-3 py-2 transition-all ${"/dashboard"===i?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:[(0,d.jsx)(v.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"text-sm",children:"Dashboard"})]}),!r&&(0,d.jsxs)(B(),{href:"/dashboard/settings",className:`flex items-center gap-2 rounded-lg px-3 py-2 transition-all ${i.startsWith("/dashboard/settings")?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:[(0,d.jsx)(w.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"text-sm",children:"Settings"})]}),n.map(a=>{let b=a.icon,c=o[a.name];return(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)(e.$,{variant:"ghost",className:"justify-between px-3 py-2 h-auto",onClick:()=>s(a.name),children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(b,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:a.name})]}),c?(0,d.jsx)(x.A,{className:"h-4 w-4"}):(0,d.jsx)(y.A,{className:"h-4 w-4"})]}),c&&(0,d.jsx)("div",{className:"pl-4 py-1 space-y-1",children:a.items.map(a=>{let b=a.icon;return(0,d.jsxs)(B(),{href:a.href,className:`flex items-center gap-2 rounded-lg px-3 py-2 transition-all ${i===a.href?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:[(0,d.jsx)(b,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"text-sm",children:a.name})]},a.name)})})]},a.name)})]})}),(0,d.jsx)("div",{className:"p-4 border-t",children:(0,d.jsxs)(K.rI,{children:[(0,d.jsx)(K.ty,{asChild:!0,children:(0,d.jsxs)(e.$,{variant:"ghost",className:"w-full justify-start gap-2 px-2 h-auto",children:[(0,d.jsx)(L.A,{className:"h-4 w-4"}),(0,d.jsxs)("div",{className:"flex flex-col items-start",children:[(0,d.jsx)("span",{className:"font-medium text-xs",children:h?.username||"User"}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:q()})]})]})}),(0,d.jsxs)(K.SQ,{align:"end",className:"w-48",children:[!r&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(K._2,{onClick:()=>j.push("/dashboard/settings"),children:[(0,d.jsx)(w.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Settings"})]}),(0,d.jsx)(K.mB,{})]}),(0,d.jsxs)(K._2,{onClick:t,children:[(0,d.jsx)(z.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Logout"})]})]})]})})]})}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)(J,{heading:b,subheading:c}),(0,d.jsx)("main",{className:"flex flex-1 flex-col gap-4 p-3 lg:gap-6 lg:p-4 pb-24 md:pb-6",children:a})]})]})}function Z({children:a}){let b=(0,C.usePathname)(),c={"/dashboard":{heading:"Dashboard",subheading:"Welcome to your sales dashboard"},"/dashboard/visits":{heading:"Visits",subheading:"Track and manage all visits"},"/dashboard/expenses":{heading:"Expenses",subheading:"Track and manage all expenses"},"/dashboard/attendance":{heading:"Attendance",subheading:"Track and manage employee attendance"},"/dashboard/requirements":{heading:"Requirements",subheading:"Manage project and client requirements"},"/dashboard/complaints":{heading:"Complaints",subheading:"Track and manage customer complaints"},"/dashboard/pricing":{heading:"Pricing",subheading:"Manage product and service pricing"},"/dashboard/reports":{heading:"Reports",subheading:"View and generate reports"},"/dashboard/reports/monthly-target":{heading:"Monthly Target Report",subheading:"Track city-wise targets, achievements, and team member performance"},"/dashboard/customers":{heading:"Customers",subheading:"Manage your customer relationships"},"/dashboard/employees":{heading:"Employees",subheading:"Manage employee information"},"/dashboard/enquiries":{heading:"Enquiries",subheading:"Manage customer enquiries"},"/dashboard/settings":{heading:"Settings",subheading:"Manage your organization settings and preferences"},"/dashboard/live-locations":{heading:"Live Locations",subheading:"Track real-time employee locations"},"/dashboard/approvals":{heading:"Approvals",subheading:"Manage leave and approval requests"}},e=(a=>{let b=a.match(/^\/dashboard\/visits\/(\d+)$/);if(b){let a=b[1];return{heading:"Visit Details",subheading:`Visit #${a} - Detailed information and analysis`}}let c=a.match(/^\/dashboard\/customers\/(\d+)$/);if(c){let a=c[1];return{heading:"Customer Details",subheading:`Customer #${a} - Detailed information and history`}}let d=a.match(/^\/dashboard\/employee\/(\d+)$/);if(d){let a=d[1];return{heading:"Employee Details",subheading:`Employee #${a} - Performance and activity details`}}return null})(b)||c[b]||c["/dashboard"];return(0,d.jsx)(Y,{heading:e.heading,subheading:e.subheading,children:a})}},59492:(a,b,c)=>{Promise.resolve().then(c.bind(c,55250))},69694:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/apple/Desktop/Projects/October/GajkesariSales-Oct23/app/dashboard/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/apple/Desktop/Projects/October/GajkesariSales-Oct23/app/dashboard/layout.tsx","default")},86276:(a,b,c)=>{"use strict";c.d(b,{CG:()=>k,Fm:()=>p,XW:()=>q,cj:()=>j,h:()=>o,qp:()=>r});var d=c(21124),e=c(38301),f=c(39641),g=c(26691),h=c(47089),i=c(15514);let j=f.bL,k=f.l9;f.bm;let l=f.ZL,m=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b,ref:c}));m.displayName=f.hJ.displayName;let n=(0,g.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),o=e.forwardRef(({side:a="right",className:b,children:c,...e},g)=>(0,d.jsxs)(l,{children:[(0,d.jsx)(m,{}),(0,d.jsxs)(f.UC,{ref:g,className:(0,i.cn)(n({side:a}),b),...e,children:[c,(0,d.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,d.jsx)(h.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));o.displayName=f.UC.displayName;let p=({className:a,...b})=>(0,d.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...b});p.displayName="SheetHeader";let q=({className:a,...b})=>(0,d.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...b});q.displayName="SheetFooter";let r=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hE,{ref:c,className:(0,i.cn)("text-lg font-semibold text-foreground",a),...b}));r.displayName=f.hE.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.VY,{ref:c,className:(0,i.cn)("text-sm text-muted-foreground",a),...b})).displayName=f.VY.displayName},99042:(a,b,c)=>{"use strict";c.d(b,{DW:()=>h,DZ:()=>j,EY:()=>k,eu:()=>i});var d=c(21124),e=c(38301),f=c(26691),g=c(15514);let h=(0,f.F)("font-semibold tracking-tight text-foreground",{variants:{size:{xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl"},weight:{normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold"}},defaultVariants:{size:"lg",weight:"semibold"}}),i=(0,f.F)("text-foreground",{variants:{size:{xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg"},tone:{default:"text-foreground",muted:"text-muted-foreground",subtle:"text-muted-foreground/80"},weight:{normal:"font-normal",medium:"font-medium",semibold:"font-semibold"},tracking:{tight:"tracking-tight",normal:"tracking-normal",wide:"tracking-wide"}},defaultVariants:{size:"md",tone:"default",weight:"normal",tracking:"normal"}}),j=e.forwardRef(({className:a,size:b,weight:c,as:e="h2",...f},i)=>(0,d.jsx)(e,{ref:i,className:(0,g.cn)(h({size:b,weight:c}),a),...f}));j.displayName="Heading";let k=e.forwardRef(({className:a,size:b,tone:c,weight:e,tracking:f,as:h="p",...j},k)=>(0,d.jsx)(h,{ref:k,className:(0,g.cn)(i({size:b,tone:c,weight:e,tracking:f}),a),...j}));k.displayName="Text"}};