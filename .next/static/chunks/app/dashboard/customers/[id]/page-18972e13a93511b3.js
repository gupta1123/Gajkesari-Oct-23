(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5483],{20063:(e,s,t)=>{"use strict";var a=t(47260);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},25016:(e,s,t)=>{"use strict";t.d(s,{$:()=>d,V5:()=>m,cn:()=>c,hI:()=>u});var a=t(2821),r=t(75889),n=t(71163),i=t(26467),l=t(35504),o=t(92365);function c(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}function d(e){if(!e)return"";try{let[s,t]=e.split(":"),a=new Date;return a.setHours(parseInt(s,10),parseInt(t,10),0,0),(0,n.GP)(a,"h:mm a")}catch(s){return console.error("Error formatting time:",s),e}}function m(e){if(!e)return"";try{let s=(0,i.H)(e);if((0,l.c)(s))return"Today";if((0,o.P)(s))return"Yesterday";return(0,n.GP)(s,"dd MMM yyyy")}catch(s){return console.error("Error formatting date:",s),e}}function u(e){if(!e)return"";try{let s;if(e.includes("T"))s=(0,i.H)(e);else{let t=e.split(" ");if(t.length>=2){let e=t[0],a=t[1],[r,n,i]=e.split("-").map(Number),[l,o]=a.split(":").map(Number);s=new Date(r,n-1,i,l,o)}else s=(0,i.H)(e)}let t=m((0,n.GP)(s,"yyyy-MM-dd")),a=d((0,n.GP)(s,"HH:mm"));return"".concat(t," ").concat(a)}catch(s){return console.error("Error formatting last updated:",s),e}}},27346:(e,s,t)=>{"use strict";t.d(s,{F:()=>l});var a=t(95155),r=t(12115),n=t(59034),i=t(25016);let l=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(n.bL,{ref:s,className:(0,i.cn)("relative overflow-hidden",t),...l,children:[(0,a.jsx)(n.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,a.jsx)(o,{}),(0,a.jsx)(n.OK,{})]})});l.displayName=n.bL.displayName;let o=r.forwardRef((e,s)=>{let{className:t,orientation:r="vertical",...l}=e;return(0,a.jsx)(n.VM,{ref:s,orientation:r,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...l,children:(0,a.jsx)(n.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=n.VM.displayName},37772:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},45345:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},46282:(e,s,t)=>{"use strict";t.d(s,{default:()=>$});var a=t(95155),r=t(12115),n=t(83209),i=t(67812),l=t(51631),o=t(97003),c=t(33789),d=t(90235),m=t(54679),u=t(47507),x=t(90923),h=t(20063),p=t(11010),g=t(71847);let f=(0,g.A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var j=t(87066),N=t(20508),v=t(23664),y=t(69141),b=t(55136),w=t(45345),k=t(21873),C=t(71871);let S=(0,g.A)("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]);var T=t(71360),A=t(16485),D=t(86651),I=t(5917),E=t(92381),L=t(71163),z=t(60028),P=t(97450),q=t(27346),F=t(86502),M=t(68122),_=t(25016);function B(e){let{className:s,...t}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,_.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}function $(e){var s,t,g,$,J,R,O,G,W;let{customer:V}=e,Z=(0,h.useRouter)(),H=(0,h.useParams)().id,[U,X]=(0,r.useState)(null),[K,Y]=(0,r.useState)(!0),[Q,ee]=(0,r.useState)([]),[es,et]=(0,r.useState)([]),[ea,er]=(0,r.useState)([]),[en,ei]=(0,r.useState)([]),[el,eo]=(0,r.useState)([]),[ec,ed]=(0,r.useState)([]),[em,eu]=(0,r.useState)([]),[ex,eh]=(0,r.useState)(null),[ep,eg]=(0,r.useState)("leads-info"),[ef,ej]=(0,r.useState)(!1),[eN,ev]=(0,r.useState)(""),[ey,eb]=(0,r.useState)("visits"),[ew,ek]=(0,r.useState)(null),[eC,eS]=(0,r.useState)("basic-info"),[eT,eA]=(0,r.useState)(!1),[eD,eI]=(0,r.useState)({storeId:0,storeName:"",clientFirstName:"",clientLastName:"",email:"",primaryContact:0,gstNumber:"",clientType:"",otherClientType:"",addressLine1:"",addressLine2:"",village:"",taluka:"",city:"",state:"",pincode:""}),[eE,eL]=(0,r.useState)(!1),[ez,eP]=(0,r.useState)(!1),[eq,eF]=(0,r.useState)(!1),[eM,e_]=(0,r.useState)(!1),[eB,e$]=(0,r.useState)(!1),[eJ,eR]=(0,r.useState)(!1),[eO,eG]=(0,r.useState)({taskTitle:"",taskDesciption:"",dueDate:"",assignedToId:0,assignedToName:"",assignedById:86,status:"Assigned",priority:"low",taskType:"requirement",storeId:parseInt(H),category:"Requirement",storeName:""}),[eW,eV]=(0,r.useState)("general"),[eZ,eH]=(0,r.useState)({taskTitle:"",taskDesciption:"",dueDate:"",assignedToId:0,assignedToName:"",assignedById:86,status:"Assigned",priority:"low",taskType:"complaint",storeId:parseInt(H),category:"Complaint",storeName:""}),[eU,eX]=(0,r.useState)("general"),[eK,eY]=(0,r.useState)(!1),[eQ,e0]=(0,r.useState)(!1),[e1,e2]=(0,r.useState)(""),[e4,e3]=(0,r.useState)(""),[e5,e6]=(0,r.useState)(new Date),[e8,e7]=(0,r.useState)((0,E.f)(new Date,5)),[e9,se]=(0,r.useState)(!1),[ss,st]=(0,r.useState)({visits:!0,notes:!1,complaints:!1,requirements:!1}),[sa,sr]=(0,r.useState)({visits:1,notes:1,complaints:1,requirements:1}),[sn,si]=(0,r.useState)([]),[sl,so]=(0,r.useState)([]),[sc,sd]=(0,r.useState)([]),sm=localStorage.getItem("authToken"),su=localStorage.getItem("employeeId"),sx=(0,r.useCallback)(async e=>{try{let s=await fetch("https://api.gajkesaristeels.in/intent-audit/getByStore?id=".concat(e),{headers:{Authorization:"Bearer ".concat(sm)}}),t=await s.json();so(t)}catch(e){console.error("Error fetching intent data:",e)}},[sm]),sh=(0,r.useCallback)(async e=>{try{let s=await fetch("https://api.gajkesaristeels.in/monthly-sale/getByStore?storeId=".concat(e),{headers:{Authorization:"Bearer ".concat(sm)}}),t=await s.json();sd(t)}catch(e){console.error("Error fetching sales data:",e)}},[sm]),sp=(0,r.useCallback)(async e=>{try{var s;Y(!0);let t=await fetch("https://api.gajkesaristeels.in/store/getById?id=".concat(e),{headers:{Authorization:"Bearer ".concat(sm)}}),a=await t.json();X(a),se(["builder","site visit","architect","engineer"].includes((null==(s=a.clientType)?void 0:s.toLowerCase())||""))}catch(e){console.error("Error fetching customer data:",e)}finally{Y(!1)}},[sm]),sg=(0,r.useCallback)(async e=>{try{let s=await fetch("https://api.gajkesaristeels.in/notes/getByStore?id=".concat(e),{headers:{Authorization:"Bearer ".concat(sm)}}),t=await s.json();ee(t)}catch(e){console.error("Error fetching notes data:",e)}},[sm]),sf=(0,r.useCallback)(async e=>{try{let s=await fetch("https://api.gajkesaristeels.in/visit/getByStore?id=".concat(e),{headers:{Authorization:"Bearer ".concat(sm)}}),t=(await s.json()||[]).slice().sort((e,s)=>{let t=new Date(e.visit_date).getTime();return new Date(s.visit_date).getTime()-t});er(t),si(t)}catch(e){console.error("Error fetching visits data:",e)}},[sm]),sj=(0,r.useCallback)(async(e,s,t)=>{try{let a=await fetch("https://api.gajkesaristeels.in/task/getByStoreAndDate?storeId=".concat(e,"&start=").concat(s.toISOString().split("T")[0],"&end=").concat(t.toISOString().split("T")[0]),{headers:{Authorization:"Bearer ".concat(sm)}}),r=await a.json();ei(r.filter(e=>"requirement"===e.taskType))}catch(e){console.error("Error fetching requirements data:",e)}},[sm]),sN=(0,r.useCallback)(async(e,s,t)=>{try{let a=await fetch("https://api.gajkesaristeels.in/task/getByStoreAndDate?storeId=".concat(e,"&start=").concat(s.toISOString().split("T")[0],"&end=").concat(t.toISOString().split("T")[0]),{headers:{Authorization:"Bearer ".concat(sm)}}),r=await a.json();eo(r.filter(e=>"complaint"===e.taskType))}catch(e){console.error("Error fetching complaints data:",e)}},[sm]),sv=(0,r.useCallback)(async()=>{try{e0(!0);let e=await fetch("https://api.gajkesaristeels.in/employee/getFieldOfficer",{headers:{Authorization:"Bearer ".concat(sm)}}),s=await e.json();ed(s)}catch(e){console.error("Error fetching field officers:",e)}finally{e0(!1)}},[sm]),sy=(0,r.useCallback)(async()=>{try{eY(!0);let e=await fetch("https://api.gajkesaristeels.in/store/names",{headers:{Authorization:"Bearer ".concat(sm)}}),s=await e.json();eu(s)}catch(e){console.error("Error fetching stores:",e)}finally{eY(!1)}},[sm]),sb=(0,r.useCallback)(()=>{let e=parseInt("string"==typeof H?H:Array.isArray(H)?H[0]:"",10);return Number.isNaN(e)?0:e},[H]),sw=(0,r.useCallback)(()=>{eP(!1),eF(!1),ev(""),ek(null)},[]),sk=(0,r.useCallback)(()=>{eH({taskTitle:"",taskDesciption:"",dueDate:"",assignedToId:0,assignedToName:"",assignedById:86,status:"Assigned",priority:"low",taskType:"complaint",storeId:sb(),category:"Complaint",storeName:(null==U?void 0:U.storeName)||""}),e2(""),eX("general")},[null==U?void 0:U.storeName,sb]),sC=(0,r.useCallback)(()=>{eG({taskTitle:"",taskDesciption:"",dueDate:"",assignedToId:0,assignedToName:"",assignedById:86,status:"Assigned",priority:"low",taskType:"requirement",storeId:sb(),category:"Requirement",storeName:(null==U?void 0:U.storeName)||""}),e3(""),eV("general")},[null==U?void 0:U.storeName,sb]),sS=(0,r.useCallback)(()=>{eR(!1),sk()},[sk]),sT=(0,r.useCallback)(()=>{e$(!1),sC()},[sC]),sA=(0,r.useCallback)(()=>{ej(!1),eS("basic-info"),eA(!1)},[]),sD=(0,r.useCallback)(e=>{("address-info"!==e||eT)&&eS(e)},[eT]),sI=async()=>{try{(await fetch("https://api.gajkesaristeels.in/notes/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sm)},body:JSON.stringify({content:eN,employeeId:su,storeId:parseInt(H)})})).ok&&(await sg(H),sw(),console.log("Note added successfully!"))}catch(e){console.error("Error creating note:",e)}},sE=async()=>{try{(await fetch("https://api.gajkesaristeels.in/notes/edit?id=".concat(ew),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sm)},body:JSON.stringify({content:eN,employeeId:su,storeId:parseInt(H)})})).ok&&(await sg(H),sw(),console.log("Note updated successfully!"))}catch(e){console.error("Error updating note:",e)}},sL=async e=>{try{(await fetch("https://api.gajkesaristeels.in/notes/delete?id=".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(sm)}})).ok&&(await sg(H),console.log("Note deleted successfully!"))}catch(e){console.error("Error deleting note:",e)}},sz=(e,s)=>{sr(t=>({...t,[e]:s}))},sP=e=>{let s,t=[];switch(e){case"visits":s=ea.length;break;case"notes":s=Q.length;break;case"complaints":s=el.length;break;case"requirements":s=en.length;break;default:s=0}let r=Math.ceil(s/3);for(let s=1;s<=r;s++)(1===s||s===r||s>=sa[e]-1&&s<=sa[e]+1)&&t.push((0,a.jsx)(l.cU,{children:(0,a.jsx)(l.n$,{size:"default",isActive:sa[e]===s,onClick:()=>sz(e,s),children:s})},s));return t},sq=async()=>{try{let e=await fetch("https://api.gajkesaristeels.in/task/getByStoreAndDate?storeId=".concat(H,"&start=").concat((0,L.GP)(e5,"yyyy-MM-dd"),"&end=").concat((0,L.GP)(e8,"yyyy-MM-dd")),{headers:{Authorization:"Bearer ".concat(sm)}}),s=await e.json();ei(s.filter(e=>"requirement"===e.taskType)),eo(s.filter(e=>"complaint"===e.taskType)),console.log("Tasks refreshed successfully!")}catch(e){console.error("Error fetching updated tasks:",e)}},sF=e=>e?e.split(" ").map(e=>e[0]).join(""):"",sM=()=>{try{let e=sessionStorage.getItem("nav.return.to");if(e){let s=JSON.parse(e);if((null==s?void 0:s.page)==="complaints"||(null==s?void 0:s.page)==="requirements")return void window.history.back()}}catch(e){}Z.push("/dashboard/customers")},s_=e=>e.checkinTime&&e.checkoutTime?{emoji:"✅",status:"Complete",color:"bg-purple-100 text-purple-800"}:{emoji:"\uD83D\uDCC5",status:"Assigned",color:"bg-blue-100 text-blue-800"},sB=(e,s)=>{let t=(s-1)*3;return e.slice(t,t+3)},s$=async(e,s)=>{try{(await fetch("https://api.gajkesaristeels.in/task/updateTask?taskId=".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sm)},body:JSON.stringify({status:s,priority:"Medium"})})).ok&&(console.log("Status updated successfully!"),sq())}catch(e){console.error("Error updating status:",e)}},sJ=async e=>{try{let s={clientLastName:e.clientLastName,email:e.email,clientType:e.clientType,brandsInUse:[],brandProsCons:[],likes:{}};console.log("Sending data:",s);let t=await fetch("https://api.gajkesaristeels.in/store/edit?id=".concat(H),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sm)},body:JSON.stringify(s)});if(t.ok)await sp(H),sA(),console.log("Customer updated successfully!");else{let e=await t.text();console.error("Failed to update customer:",t.status,e)}}catch(e){console.error("Error updating customer:",e)}},sR=e=>{let{name:s,value:t}=e.target;eI(e=>({...e,[s]:t}))},sO=async()=>{try{let e=await fetch("https://api.gajkesaristeels.in/task/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sm)},body:JSON.stringify({...eZ,dueDate:eZ.dueDate.split("T")[0],storeId:eZ.storeId,taskType:"complaint"})});e.ok?(console.log("Complaint created successfully!"),await sq(),sS()):console.error("Failed to create complaint:",e.statusText)}catch(e){console.error("Error creating complaint:",e)}},sG=async()=>{try{let e=await fetch("https://api.gajkesaristeels.in/task/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(sm)},body:JSON.stringify({...eO,dueDate:eO.dueDate.split("T")[0],storeId:eO.storeId,taskType:"requirement"})});e.ok?(console.log("Requirement created successfully!"),await sq(),sT()):console.error("Failed to create requirement:",e.statusText)}catch(e){console.error("Error creating requirement:",e)}},{dates:sW,intentLevels:sV}={dates:sl.map(e=>e.changeDate),intentLevels:sl.map(e=>e.newIntentLevel)},{dates:sZ,salesAmounts:sH}={dates:sc.map(e=>e.visitDate),salesAmounts:sc.map(e=>e.newMonthlySale)};return((0,r.useEffect)(()=>{sm&&H&&(sp(H),sg(H),sf(H),sj(H,e5,e8),sN(H,e5,e8),sv(),sy(),sx(H),sh(H))},[sm,H,e5,e8,sp,sg,sf,sj,sN,sv,sy,sx,sh]),(0,r.useEffect)(()=>{if(U){var e;let s=(null==(e=U.clientType)?void 0:e.toLowerCase())||"",t=["shop","site visit","architect","engineer"].includes(s);eI({storeId:U.storeId,storeName:U.storeName,clientFirstName:U.clientFirstName,clientLastName:U.clientLastName,email:U.email||"",primaryContact:U.primaryContact,gstNumber:U.gstNumber||"",clientType:t?s:"others",otherClientType:t?"":U.clientType||"",addressLine1:U.addressLine1||"",addressLine2:U.addressLine2||"",village:U.district||"",taluka:U.subDistrict||"",city:U.city,state:U.state,pincode:U.pincode||""}),eL(!t)}},[U]),(0,r.useEffect)(()=>{(async()=>{if(eJ&&H)try{await sv();let e=await fetch("https://api.gajkesaristeels.in/task/getByStoreAndDate?storeId=".concat(H,"&start=2024-06-01&end=2024-06-30"),{headers:{Authorization:"Bearer ".concat(sm)}}),s=await e.json();if(Array.isArray(s)&&s.length>0){let e=s[0];eH(s=>({...s,assignedToId:e.assignedToId,assignedToName:e.assignedToName,storeName:(null==U?void 0:U.storeName)||e.storeName}))}}catch(e){console.error("Error fetching task details:",e)}})()},[eJ,H,sm,U,sv]),(0,r.useEffect)(()=>{(async()=>{if(eB&&H)try{await sv();let e=await fetch("https://api.gajkesaristeels.in/task/getByStoreAndDate?storeId=".concat(H,"&start=2024-06-01&end=2024-06-30"),{headers:{Authorization:"Bearer ".concat(sm)}}),s=await e.json();if(Array.isArray(s)&&s.length>0){let e=s[0];eG(s=>({...s,assignedToId:e.assignedToId,assignedToName:e.assignedToName,storeName:(null==U?void 0:U.storeName)||e.storeName}))}}catch(e){console.error("Error fetching requirement task details:",e)}})()},[eB,H,sm,U,sv]),K)?(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)(n.Zp,{className:"border-0 shadow-sm",children:[(0,a.jsx)(n.aR,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.ZB,{className:"text-xl font-semibold text-foreground",children:"Customer Details"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Customer information and actions"})]}),(0,a.jsxs)(o.$,{variant:"ghost",size:"sm",onClick:sM,children:[(0,a.jsx)("i",{className:"fas fa-arrow-left mr-2"})," Back"]})]})}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)(M.E,{className:"h-14 w-14 rounded-xl"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,a.jsx)(M.E,{className:"h-6 w-32"}),(0,a.jsx)(M.E,{className:"h-4 w-24"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(M.E,{className:"h-4 w-16"}),(0,a.jsx)(M.E,{className:"h-8 w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(M.E,{className:"h-4 w-20"}),(0,a.jsx)(M.E,{className:"h-8 w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(M.E,{className:"h-4 w-24"}),(0,a.jsx)(M.E,{className:"h-8 w-full"})]})]})]})]})}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(n.Zp,{className:"border-0 shadow-sm",children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-xl font-semibold text-foreground",children:"Customer Information"})}),(0,a.jsx)(n.Wu,{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(M.E,{className:"h-4 w-20"}),(0,a.jsx)(M.E,{className:"h-8 w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(M.E,{className:"h-4 w-16"}),(0,a.jsx)(M.E,{className:"h-8 w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(M.E,{className:"h-4 w-24"}),(0,a.jsx)(M.E,{className:"h-8 w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(M.E,{className:"h-4 w-18"}),(0,a.jsx)(M.E,{className:"h-8 w-full"})]})]})})]})})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(n.Zp,{className:"border-0 shadow-sm",children:(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"h-14 w-14 rounded-xl border-2 border-dashed bg-muted flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-lg font-semibold text-muted-foreground",children:U?sF("".concat(U.clientFirstName," ").concat(U.clientLastName)):""})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground truncate max-w-[200px]",children:U?"".concat(U.clientFirstName," ").concat(U.clientLastName):""}),(0,a.jsxs)(o.$,{variant:"ghost",size:"sm",onClick:sM,className:"ml-2 flex-shrink-0",children:[(0,a.jsx)("i",{className:"fas fa-arrow-left mr-2"})," Back"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:U?U.storeName:""})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)(o.$,{variant:"outline",size:"icon",onClick:()=>{eS("basic-info"),eA(!1),ej(!0)},className:"h-10 w-10",children:(0,a.jsx)(p.A,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:"Edit Customer"})]}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)(o.$,{variant:"outline",size:"icon",onClick:()=>{sk(),eR(!0)},className:"h-10 w-10",children:(0,a.jsx)(f,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:"Log Complaint"})]}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)(o.$,{variant:"outline",size:"icon",onClick:()=>{sC(),e$(!0)},className:"h-10 w-10",children:(0,a.jsx)(j.A,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:"Add Requirement"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex border-b",children:[(0,a.jsx)("button",{className:"px-3 py-2 text-sm font-medium border-b-2 transition-colors ".concat("leads-info"===ep?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>eg("leads-info"),children:"Leads Info"}),(0,a.jsx)("button",{className:"px-3 py-2 text-sm font-medium border-b-2 transition-colors ".concat("address-info"===ep?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>eg("address-info"),children:"Address Info"})]}),"leads-info"===ep&&U&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Customer Name"}),(0,a.jsxs)("p",{className:"text-sm text-foreground",children:[U.clientFirstName," ",U.clientLastName]})]})]}),U.email&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),(0,a.jsx)("p",{className:"text-sm text-foreground",children:U.email})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),(0,a.jsx)("p",{className:"text-sm text-foreground",children:U.primaryContact})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Store Name"}),(0,a.jsx)("p",{className:"text-sm text-foreground",children:U.storeName})]})]}),U.clientType&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(w.A,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Client Type"}),(0,a.jsx)("p",{className:"text-sm text-foreground",children:U.clientType})]})]})]}),"address-info"===ep&&U&&(0,a.jsxs)("div",{className:"space-y-3",children:[(()=>{let e=[];return U.addressLine1&&e.push(U.addressLine1),U.addressLine2&&e.push(U.addressLine2),U.village&&e.push(U.village),U.taluka&&e.push(U.taluka),U.city&&e.push(U.city),U.district&&e.push(U.district),U.state&&e.push(U.state),U.pincode&&e.push(U.pincode),e.length>0?(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Address"}),(0,a.jsx)("p",{className:"text-sm text-foreground",children:e.join(", ")})]})]}):null})(),U.city&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"City"}),(0,a.jsx)("p",{className:"text-sm text-foreground",children:U.city})]})]}),U.state&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(S,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"State"}),(0,a.jsx)("p",{className:"text-sm text-foreground",children:U.state})]})]})]})]})]})})}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(n.Zp,{className:"border-0 shadow-sm",children:[(0,a.jsx)(n.aR,{className:"pb-4",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(n.ZB,{className:"text-xl font-semibold text-foreground",children:"Customer Activity"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"View visits, notes, complaints, and requirements"})]})})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex border-b",children:[(0,a.jsxs)("button",{className:"px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ".concat("visits"===ey?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>eb("visits"),children:[(0,a.jsx)("i",{className:"fas fa-calendar-check"})," Visits"]}),(0,a.jsxs)("button",{className:"px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ".concat("brands"===ey?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>eb("brands"),children:[(0,a.jsx)("i",{className:"fas fa-building"})," Brands"]}),(0,a.jsxs)("button",{className:"px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ".concat("notes"===ey?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>eb("notes"),children:[(0,a.jsx)("i",{className:"fas fa-sticky-note"})," Notes"]}),(0,a.jsxs)("button",{className:"px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ".concat("complaints"===ey?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>eb("complaints"),children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"})," Complaints"]}),(0,a.jsxs)("button",{className:"px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ".concat("requirements"===ey?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>eb("requirements"),children:[(0,a.jsx)("i",{className:"fas fa-tasks"})," Requirements"]}),e9&&(0,a.jsxs)("button",{className:"px-4 py-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ".concat("sites"===ey?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>eb("sites"),children:[(0,a.jsx)("i",{className:"fas fa-map-marker-alt"})," Sites"]})]}),"visits"===ey&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("select",{onChange:e=>{var s;"All Statuses"===(s=e.target.value)?si(ea):si(ea.filter(e=>s_(e).status===s))},className:"px-3 py-2 border border-input bg-background rounded-md text-sm",children:[(0,a.jsx)("option",{value:"All Statuses",children:"All Statuses"}),(0,a.jsx)("option",{value:"Assigned",children:"Assigned"}),(0,a.jsx)("option",{value:"On Going",children:"On Going"}),(0,a.jsx)("option",{value:"Complete",children:"Complete"})]})}),(0,a.jsx)("div",{className:"space-y-3",children:sB(sn,sa.visits).map((e,s)=>{let{emoji:t,status:r,color:n}=s_(e);return(0,a.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-calendar-alt text-muted-foreground"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:["Visit scheduled by ",e.employeeName]})]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,_.V5)(e.visit_date)})]}),(0,a.jsx)("p",{className:"text-sm text-foreground mb-3",children:e.purpose}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Status:"}),(0,a.jsxs)(i.E,{variant:"secondary",className:n,children:[t," ",r]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Purpose:"}),(0,a.jsx)("span",{className:"text-xs text-primary",children:e.purpose})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-6 w-6 rounded-full bg-muted flex items-center justify-center text-xs font-medium",children:sF(e.employeeName)}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.employeeName})]})]}),(0,a.jsx)("div",{className:"flex justify-end mt-3",children:(0,a.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>Z.push("/dashboard/visits/".concat(e.id)),className:"text-xs",children:"View Visit"})})]},s)})}),ss.visits&&ea.length>3&&(0,a.jsxs)(l.dK,{children:[(0,a.jsx)(l.Eb,{size:"default",onClick:1===sa.visits?void 0:()=>sr(e=>({...e,visits:Math.max(e.visits-1,1)}))}),(0,a.jsx)(l.Iu,{children:sP("visits")}),(0,a.jsx)(l.WA,{size:"default",onClick:sa.visits===Math.ceil(ea.length/3)?void 0:()=>sr(e=>({...e,visits:Math.min(e.visits+1,Math.ceil(ea.length/3))}))})]}),ea.length>3&&(0,a.jsx)(o.$,{variant:"outline",onClick:()=>st(e=>({...e,visits:!e.visits})),children:ss.visits?"Show Less":"Show More"})]}),"brands"===ey&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)(F.A,{brands:es,setBrands:et,visitId:String((null==(s=ea[0])?void 0:s.id)||""),token:localStorage.getItem("authToken"),fetchVisitDetail:async()=>{H&&await sf(String(H))}})}),"notes"===ey&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)(o.$,{onClick:()=>{eF(!1),ev(""),ek(null),eP(!0)},children:[(0,a.jsx)("i",{className:"fas fa-plus mr-2"})," Add Note"]})}),(0,a.jsx)("div",{className:"space-y-3",children:sB(Q,sa.notes).map(e=>(0,a.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,_.V5)(e.createdDate)}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(o.$,{variant:"ghost",size:"sm",onClick:()=>{ek(e.id),ev(e.content),eF(!0),eP(!0)},children:[(0,a.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"Edit"]}),(0,a.jsxs)(o.$,{variant:"ghost",size:"sm",onClick:()=>sL(e.id),children:[(0,a.jsx)(T.A,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]}),(0,a.jsx)("div",{className:"text-sm text-foreground",children:e.content})]},e.id))}),ss.notes&&Q.length>3&&(0,a.jsxs)(l.dK,{children:[(0,a.jsx)(l.Eb,{size:"default",onClick:1===sa.notes?void 0:()=>sr(e=>({...e,notes:Math.max(e.notes-1,1)}))}),(0,a.jsx)(l.Iu,{children:sP("notes")}),(0,a.jsx)(l.WA,{size:"default",onClick:sa.notes===Math.ceil(Q.length/3)?void 0:()=>sr(e=>({...e,notes:Math.min(e.notes+1,Math.ceil(Q.length/3))}))})]}),Q.length>3&&(0,a.jsx)(o.$,{variant:"outline",onClick:()=>st(e=>({...e,notes:!e.notes})),children:ss.notes?"Show Less":"Show More"})]}),"complaints"===ey&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(P.AM,{children:[(0,a.jsx)(P.Wv,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",className:"w-[200px] justify-start text-left font-normal ".concat(!e5&&"text-muted-foreground"),children:[(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),e5?(0,L.GP)(new Date(e5),"PPP"):(0,a.jsx)("span",{children:"Start Date"})]})}),(0,a.jsx)(P.hl,{className:"w-auto p-0",children:(0,a.jsx)(z.R,{mode:"single",selected:e5,onSelect:e=>{e6(e||new Date),e7((0,E.f)(e||new Date,5))},initialFocus:!0})})]}),(0,a.jsxs)(P.AM,{children:[(0,a.jsx)(P.Wv,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",className:"w-[200px] justify-start text-left font-normal ".concat(!e8&&"text-muted-foreground"),children:[(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),e8?(0,L.GP)(new Date(e8),"PPP"):(0,a.jsx)("span",{children:"End Date"})]})}),(0,a.jsx)(P.hl,{className:"w-auto p-0",children:(0,a.jsx)(z.R,{mode:"single",selected:e8,onSelect:e=>e7(e||new Date),initialFocus:!0})})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:sB(el,sa.complaints).map(e=>(0,a.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.taskTitle})]}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]}),(0,a.jsx)("p",{className:"text-sm text-foreground mb-3",children:e.taskDescription}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Status:"}),(0,a.jsxs)("select",{onChange:s=>s$(e.id,s.target.value),value:e.status,className:"px-2 py-1 border border-input bg-background rounded text-xs",children:[(0,a.jsx)("option",{value:"Assigned",children:"Assigned"}),(0,a.jsx)("option",{value:"On Going",children:"On Going"}),(0,a.jsx)("option",{value:"Complete",children:"Complete"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Priority:"}),(0,a.jsx)(i.E,{variant:"outline",children:e.priority})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-6 w-6 rounded-full bg-muted flex items-center justify-center text-xs font-medium",children:sF(e.assignedToName)}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.assignedToName})]})]})]},e.id))}),ss.complaints&&el.length>3&&(0,a.jsxs)(l.dK,{children:[(0,a.jsx)(l.Eb,{size:"default",onClick:1===sa.complaints?void 0:()=>sr(e=>({...e,complaints:Math.max(e.complaints-1,1)}))}),(0,a.jsx)(l.Iu,{children:sP("complaints")}),(0,a.jsx)(l.WA,{size:"default",onClick:sa.complaints===Math.ceil(el.length/3)?void 0:()=>sr(e=>({...e,complaints:Math.min(e.complaints+1,Math.ceil(el.length/3))}))})]}),el.length>3&&(0,a.jsx)(o.$,{variant:"outline",onClick:()=>st(e=>({...e,complaints:!e.complaints})),children:ss.complaints?"Show Less":"Show More"})]}),"requirements"===ey&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(P.AM,{children:[(0,a.jsx)(P.Wv,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",className:"w-[200px] justify-start text-left font-normal ".concat(!e5&&"text-muted-foreground"),children:[(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),e5?(0,L.GP)(new Date(e5),"PPP"):(0,a.jsx)("span",{children:"Start Date"})]})}),(0,a.jsx)(P.hl,{className:"w-auto p-0",children:(0,a.jsx)(z.R,{mode:"single",selected:e5,onSelect:e=>{e6(e||new Date),e7((0,E.f)(e||new Date,5))},initialFocus:!0})})]}),(0,a.jsxs)(P.AM,{children:[(0,a.jsx)(P.Wv,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",className:"w-[200px] justify-start text-left font-normal ".concat(!e8&&"text-muted-foreground"),children:[(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),e8?(0,L.GP)(new Date(e8),"PPP"):(0,a.jsx)("span",{children:"End Date"})]})}),(0,a.jsx)(P.hl,{className:"w-auto p-0",children:(0,a.jsx)(z.R,{mode:"single",selected:e8,onSelect:e=>e7(e||new Date),initialFocus:!0})})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:sB(en,sa.requirements).map(e=>(0,a.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-tasks text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.taskTitle})]}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]}),(0,a.jsx)("p",{className:"text-sm text-foreground mb-3",children:e.taskDescription}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Status:"}),(0,a.jsxs)("select",{onChange:s=>s$(e.id,s.target.value),value:e.status,className:"px-2 py-1 border border-input bg-background rounded text-xs",children:[(0,a.jsx)("option",{value:"Assigned",children:"Assigned"}),(0,a.jsx)("option",{value:"On Going",children:"On Going"}),(0,a.jsx)("option",{value:"Complete",children:"Complete"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Priority:"}),(0,a.jsx)(i.E,{variant:"outline",children:e.priority})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-6 w-6 rounded-full bg-muted flex items-center justify-center text-xs font-medium",children:sF(e.assignedToName)}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.assignedToName})]})]})]},e.id))}),ss.requirements&&en.length>3&&(0,a.jsxs)(l.dK,{children:[(0,a.jsx)(l.Eb,{size:"default",onClick:1===sa.requirements?void 0:()=>sr(e=>({...e,requirements:Math.max(e.requirements-1,1)}))}),(0,a.jsx)(l.Iu,{children:sP("requirements")}),(0,a.jsx)(l.WA,{size:"default",onClick:sa.requirements===Math.ceil(en.length/3)?void 0:()=>sr(e=>({...e,requirements:Math.min(e.requirements+1,Math.ceil(en.length/3))}))})]}),en.length>3&&(0,a.jsx)(o.$,{variant:"outline",onClick:()=>st(e=>({...e,requirements:!e.requirements})),children:ss.requirements?"Show Less":"Show More"})]})]})})]})})]}),(0,a.jsx)(m.lG,{open:ez,onOpenChange:e=>{e||sw()},children:(0,a.jsxs)(m.Cf,{className:"max-w-md border-0 shadow-lg max-h-[85vh] overflow-y-auto",children:[(0,a.jsxs)(m.c7,{className:"gap-1",children:[(0,a.jsx)(m.L3,{children:eq?"Edit Note":"Add Note"}),(0,a.jsx)(m.rr,{children:"Add quick context so everyone stays aligned on this customer."})]}),(0,a.jsx)(B,{placeholder:"Write a note that teammates can follow up on...",value:eN,onChange:e=>ev(e.target.value),className:"min-h-[140px]"}),(0,a.jsxs)(m.Es,{children:[(0,a.jsx)(o.$,{variant:"outline",onClick:sw,children:"Cancel"}),(0,a.jsx)(o.$,{onClick:eq?sE:sI,children:eq?"Update Note":"Add Note"})]})]})}),(0,a.jsx)(m.lG,{open:ef,onOpenChange:e=>{e||sA()},children:(0,a.jsxs)(m.Cf,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(m.c7,{className:"gap-1",children:[(0,a.jsx)(m.L3,{children:"Edit Customer"}),(0,a.jsx)(m.rr,{children:"Update customer contact or address details."})]}),(0,a.jsxs)(x.tU,{value:eC,onValueChange:sD,className:"w-full",children:[(0,a.jsxs)(x.j7,{className:"grid w-full grid-cols-2 mb-6",children:[(0,a.jsx)(x.Xi,{value:"basic-info",className:"flex items-center gap-2",children:(0,a.jsx)("span",{children:"Basic Info"})}),(0,a.jsx)(x.Xi,{value:"address-info",className:"flex items-center gap-2",disabled:!eT&&"address-info"!==eC,children:(0,a.jsx)("span",{children:"Address Info"})})]}),(0,a.jsx)(x.av,{value:"basic-info",children:(0,a.jsxs)("div",{className:"space-y-6 py-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"storeName",className:"text-sm font-medium text-foreground",children:"Store Name"}),(0,a.jsx)(c.p,{id:"storeName",name:"storeName",value:eD.storeName,disabled:!0,className:"h-11 bg-muted text-muted-foreground font-medium cursor-not-allowed"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Store name is managed centrally; contact your admin to update it."})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"gstNumber",className:"text-sm font-medium text-foreground",children:"GST Number"}),(0,a.jsx)(c.p,{id:"gstNumber",name:"gstNumber",value:eD.gstNumber,onChange:sR,placeholder:"Enter GST number",className:"h-11"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"clientFirstName",className:"text-sm font-medium text-foreground",children:"First Name *"}),(0,a.jsx)(c.p,{id:"clientFirstName",name:"clientFirstName",value:eD.clientFirstName,onChange:sR,placeholder:"Enter first name",className:"h-11"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"clientLastName",className:"text-sm font-medium text-foreground",children:"Last Name *"}),(0,a.jsx)(c.p,{id:"clientLastName",name:"clientLastName",value:eD.clientLastName,onChange:sR,placeholder:"Enter last name",className:"h-11"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"email",className:"text-sm font-medium text-foreground",children:"Email"}),(0,a.jsx)(c.p,{id:"email",name:"email",type:"email",value:eD.email||"",onChange:sR,placeholder:"Enter email address",className:"h-11"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"primaryContact",className:"text-sm font-medium text-foreground",children:"Phone"}),(0,a.jsx)(c.p,{id:"primaryContact",name:"primaryContact",value:eD.primaryContact,disabled:!0,className:"h-11 bg-muted text-muted-foreground font-medium cursor-not-allowed"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Phone numbers sync from customer master and can’t be changed here."})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"clientType",className:"text-sm font-medium text-foreground",children:"Client Type"}),(0,a.jsxs)(u.l6,{onValueChange:e=>{let s=e.toLowerCase();eL("others"===s),eI(e=>({...e,clientType:s,otherClientType:"others"===s?e.otherClientType:""}))},value:eD.clientType||"",children:[(0,a.jsx)(u.bq,{className:"h-11",children:(0,a.jsx)(u.yv,{placeholder:"Select Client Type"})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"shop",children:"Shop"}),(0,a.jsx)(u.eb,{value:"site visit",children:"Site Visit"}),(0,a.jsx)(u.eb,{value:"architect",children:"Architect"}),(0,a.jsx)(u.eb,{value:"engineer",children:"Engineer"}),(0,a.jsx)(u.eb,{value:"others",children:"Others"})]})]})]}),eE&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"otherClientType",className:"text-sm font-medium text-foreground",children:"Other Client Type"}),(0,a.jsx)(c.p,{id:"otherClientType",name:"otherClientType",value:eD.otherClientType,placeholder:"Enter client type",className:"h-11",onChange:sR})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,a.jsx)(o.$,{variant:"ghost",onClick:sA,children:"Cancel"}),(0,a.jsx)(o.$,{className:"h-11 px-6",onClick:()=>{eA(!0),eS("address-info")},children:"Continue"})]})]})}),(0,a.jsx)(x.av,{value:"address-info",children:(0,a.jsxs)("div",{className:"space-y-6 py-2",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"addressLine1",className:"text-sm font-medium text-foreground",children:"Address Line 1"}),(0,a.jsx)(c.p,{id:"addressLine1",name:"addressLine1",value:eD.addressLine1,onChange:sR,placeholder:"Enter address line 1",className:"h-11"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"addressLine2",className:"text-sm font-medium text-foreground",children:"Address Line 2"}),(0,a.jsx)(c.p,{id:"addressLine2",name:"addressLine2",value:eD.addressLine2,onChange:sR,placeholder:"Enter address line 2",className:"h-11"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"village",className:"text-sm font-medium text-foreground",children:"Village (District)"}),(0,a.jsx)(c.p,{id:"village",name:"village",value:eD.village,onChange:sR,placeholder:"Enter village",className:"h-11"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"taluka",className:"text-sm font-medium text-foreground",children:"Taluka (Sub District)"}),(0,a.jsx)(c.p,{id:"taluka",name:"taluka",value:eD.taluka,onChange:sR,placeholder:"Enter taluka",className:"h-11"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"city",className:"text-sm font-medium text-foreground",children:"City"}),(0,a.jsx)(c.p,{id:"city",name:"city",value:eD.city,onChange:sR,placeholder:"Enter city",className:"h-11"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"state",className:"text-sm font-medium text-foreground",children:"State"}),(0,a.jsx)(c.p,{id:"state",name:"state",value:eD.state,onChange:sR,placeholder:"Enter state",className:"h-11"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"pincode",className:"text-sm font-medium text-foreground",children:"Pincode"}),(0,a.jsx)(c.p,{id:"pincode",name:"pincode",value:eD.pincode,onChange:sR,placeholder:"Enter pincode",className:"h-11"})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 pt-4 border-t",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.$,{variant:"outline",onClick:()=>eS("basic-info"),className:"h-11 px-6",children:"Back"}),(0,a.jsx)(o.$,{variant:"ghost",onClick:sA,className:"h-11 px-6",children:"Cancel"})]}),(0,a.jsx)(o.$,{onClick:()=>{let e={...eD};eE&&(e.clientType=eD.otherClientType||"Others"),sJ(e)},className:"h-11 px-6",children:"Save Changes"})]})]})})]})]})}),eJ&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-2xl border-0 shadow-lg max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(n.aR,{className:"pb-4",children:[(0,a.jsx)(n.ZB,{className:"text-lg md:text-xl font-semibold text-foreground",children:"Log Complaint"}),(0,a.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground",children:"Capture the complaint details and assign the right teammate to resolve it."})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)(x.tU,{value:eU,onValueChange:eX,className:"w-full",children:[(0,a.jsxs)(x.j7,{className:"grid w-full grid-cols-2 mb-4",children:[(0,a.jsx)(x.Xi,{value:"general",children:"General"}),(0,a.jsx)(x.Xi,{value:"details",children:"Details"})]}),(0,a.jsx)(x.av,{value:"general",children:(0,a.jsxs)("div",{className:"space-y-6 py-2",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"complaintTitle",className:"text-sm font-medium text-foreground",children:"Complaint Title *"}),(0,a.jsx)(c.p,{id:"complaintTitle",placeholder:"Add a short title",value:eZ.taskTitle,onChange:e=>eH({...eZ,taskTitle:e.target.value}),className:"w-full h-11"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"complaintDescription",className:"text-sm font-medium text-foreground",children:"Complaint Description *"}),(0,a.jsx)(B,{id:"complaintDescription",placeholder:"Describe the complaint so the assignee has the right context...",value:eZ.taskDesciption,onChange:e=>eH({...eZ,taskDesciption:e.target.value}),className:"min-h-[140px]"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"complaintCategory",className:"text-sm font-medium text-foreground",children:"Category"}),(0,a.jsx)(c.p,{id:"complaintCategory",value:"Complaint",readOnly:!0,className:"h-11 bg-muted text-muted-foreground font-medium cursor-not-allowed"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Category is fixed for complaint records."})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"complaintStoreName",className:"text-sm font-medium text-foreground",children:"Store"}),(0,a.jsx)(c.p,{id:"complaintStoreName",value:(null==U?void 0:U.storeName)||"Loading...",disabled:!0,className:"w-full h-11 bg-muted text-muted-foreground font-medium cursor-not-allowed"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,a.jsx)(o.$,{variant:"ghost",onClick:sS,children:"Cancel"}),(0,a.jsx)(o.$,{onClick:()=>{eX("details")},className:"h-11 px-6",children:"Continue"})]})]})}),(0,a.jsx)(x.av,{value:"details",children:(0,a.jsxs)("div",{className:"space-y-6 py-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"complaintDueDate",className:"text-sm font-medium text-foreground",children:"Due Date"}),(0,a.jsxs)(P.AM,{children:[(0,a.jsx)(P.Wv,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",className:"w-full h-11 justify-start text-left font-normal ".concat(!eZ.dueDate&&"text-muted-foreground"),children:[(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),eZ.dueDate?(0,L.GP)(new Date(eZ.dueDate),"PPP"):(0,a.jsx)("span",{children:"Select due date"})]})}),(0,a.jsx)(P.hl,{className:"w-auto p-0",children:(0,a.jsx)(z.R,{mode:"single",selected:eZ.dueDate?new Date(eZ.dueDate+"T00:00:00"):void 0,onSelect:e=>{if(e){let s=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),r="".concat(s,"-").concat(t,"-").concat(a);eH({...eZ,dueDate:r})}},initialFocus:!0})})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"complaintPriority",className:"text-sm font-medium text-foreground",children:"Priority"}),(0,a.jsxs)(u.l6,{value:eZ.priority,onValueChange:e=>eH({...eZ,priority:e}),children:[(0,a.jsx)(u.bq,{className:"w-full h-11",children:(0,a.jsx)(u.yv,{placeholder:"Select a priority"})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"low",children:"Low"}),(0,a.jsx)(u.eb,{value:"medium",children:"Medium"}),(0,a.jsx)(u.eb,{value:"high",children:"High"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"complaintAssignedTo",className:"text-sm font-medium text-foreground",children:"Assigned To"}),eQ?(0,a.jsxs)("div",{className:"w-full h-11 bg-muted rounded-md flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading employees..."})]}):(0,a.jsxs)(P.AM,{children:[(0,a.jsx)(P.Wv,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",role:"combobox",className:"w-full h-11 justify-between",children:[eZ.assignedToId>0&&ec.find(e=>e.id===eZ.assignedToId)?"".concat(null==(t=ec.find(e=>e.id===eZ.assignedToId))?void 0:t.firstName," ").concat(null==(g=ec.find(e=>e.id===eZ.assignedToId))?void 0:g.lastName).concat((null==($=ec.find(e=>e.id===eZ.assignedToId))?void 0:$.employeeId)?" (".concat(null==(J=ec.find(e=>e.id===eZ.assignedToId))?void 0:J.employeeId,")"):""):"Select an employee",(0,a.jsx)(D.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,a.jsxs)(P.hl,{className:"w-[--radix-popover-trigger-width] max-h-[200px] p-0",children:[(0,a.jsx)("div",{className:"p-2 border-b",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(D.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(c.p,{placeholder:"Search employees...",value:e1,onChange:e=>e2(e.target.value),className:"pl-8 border-0 focus-visible:ring-0"})]})}),(0,a.jsx)(q.F,{className:"max-h-[150px]",children:(0,a.jsxs)("div",{className:"p-1",children:[ec.filter(e=>"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(e1.toLowerCase())).map(e=>(0,a.jsxs)(o.$,{variant:"ghost",className:"w-full justify-start font-normal h-9 px-2",onClick:()=>{eH({...eZ,assignedToId:e.id,assignedToName:"".concat(e.firstName," ").concat(e.lastName)}),e2("")},children:[(0,a.jsx)(I.A,{className:"mr-2 h-4 w-4 ".concat(eZ.assignedToId===e.id?"opacity-100":"opacity-0")}),(0,a.jsxs)("span",{className:"truncate",children:[e.firstName," ",e.lastName,e.employeeId?" (".concat(e.employeeId,")"):""]})]},e.id)),0===ec.filter(e=>"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(e1.toLowerCase())).length&&(0,a.jsx)("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No employees found"})]})})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 pt-4 border-t",children:[(0,a.jsx)(o.$,{variant:"outline",onClick:()=>{eX("general")},className:"h-11 px-6",children:"Back"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.$,{variant:"ghost",onClick:sS,className:"h-11 px-6",children:"Cancel"}),(0,a.jsx)(o.$,{onClick:sO,className:"h-11 px-6",children:"Save Complaint"})]})]})]})})]})})]})}),eB&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-2xl border-0 shadow-lg max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(n.aR,{className:"pb-4",children:[(0,a.jsx)(n.ZB,{className:"text-lg md:text-xl font-semibold text-foreground",children:"Add Requirement"}),(0,a.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground",children:"Capture the requirement and assign it to the right teammate."})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)(x.tU,{value:eW,onValueChange:eV,className:"w-full",children:[(0,a.jsxs)(x.j7,{className:"grid w-full grid-cols-2 mb-4",children:[(0,a.jsx)(x.Xi,{value:"general",children:"General"}),(0,a.jsx)(x.Xi,{value:"details",children:"Details"})]}),(0,a.jsx)(x.av,{value:"general",children:(0,a.jsxs)("div",{className:"space-y-6 py-2",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"requirementTitle",className:"text-sm font-medium text-foreground",children:"Requirement Title *"}),(0,a.jsx)(c.p,{id:"requirementTitle",placeholder:"What does the customer need?",value:eO.taskTitle,onChange:e=>eG({...eO,taskTitle:e.target.value}),className:"w-full h-11"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"requirementDescription",className:"text-sm font-medium text-foreground",children:"Requirement Description *"}),(0,a.jsx)(B,{id:"requirementDescription",placeholder:"Document the requirement so the assignee understands the scope...",value:eO.taskDesciption,onChange:e=>eG({...eO,taskDesciption:e.target.value}),className:"min-h-[140px]"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"requirementCategory",className:"text-sm font-medium text-foreground",children:"Category"}),(0,a.jsx)(c.p,{id:"requirementCategory",value:"Requirement",readOnly:!0,className:"h-11 bg-muted text-muted-foreground font-medium cursor-not-allowed"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Category stays fixed for requirements."})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"requirementStoreName",className:"text-sm font-medium text-foreground",children:"Store"}),(0,a.jsx)(c.p,{id:"requirementStoreName",value:(null==U?void 0:U.storeName)||"Loading...",disabled:!0,className:"w-full h-11 bg-muted text-muted-foreground font-medium cursor-not-allowed"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,a.jsx)(o.$,{variant:"ghost",onClick:sT,children:"Cancel"}),(0,a.jsx)(o.$,{onClick:()=>{eV("details")},className:"h-11 px-6",children:"Continue"})]})]})}),(0,a.jsx)(x.av,{value:"details",children:(0,a.jsxs)("div",{className:"space-y-6 py-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"requirementDueDate",className:"text-sm font-medium text-foreground",children:"Due Date"}),(0,a.jsxs)(P.AM,{children:[(0,a.jsx)(P.Wv,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",className:"w-full h-11 justify-start text-left font-normal ".concat(!eO.dueDate&&"text-muted-foreground"),children:[(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),eO.dueDate?(0,L.GP)(new Date(eO.dueDate),"PPP"):(0,a.jsx)("span",{children:"Select due date"})]})}),(0,a.jsx)(P.hl,{className:"w-auto p-0",children:(0,a.jsx)(z.R,{mode:"single",selected:eO.dueDate?new Date(eO.dueDate+"T00:00:00"):void 0,onSelect:e=>{if(e){let s=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),r="".concat(s,"-").concat(t,"-").concat(a);eG({...eO,dueDate:r})}},initialFocus:!0})})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"requirementPriority",className:"text-sm font-medium text-foreground",children:"Priority"}),(0,a.jsxs)(u.l6,{value:eO.priority,onValueChange:e=>eG({...eO,priority:e}),children:[(0,a.jsx)(u.bq,{className:"w-full h-11",children:(0,a.jsx)(u.yv,{placeholder:"Select a priority"})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"low",children:"Low"}),(0,a.jsx)(u.eb,{value:"medium",children:"Medium"}),(0,a.jsx)(u.eb,{value:"high",children:"High"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d.J,{htmlFor:"requirementAssignedTo",className:"text-sm font-medium text-foreground",children:"Assigned To"}),eQ?(0,a.jsxs)("div",{className:"w-full h-11 bg-muted rounded-md flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading employees..."})]}):(0,a.jsxs)(P.AM,{children:[(0,a.jsx)(P.Wv,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",role:"combobox",className:"w-full h-11 justify-between",children:[eO.assignedToId>0&&ec.find(e=>e.id===eO.assignedToId)?"".concat(null==(R=ec.find(e=>e.id===eO.assignedToId))?void 0:R.firstName," ").concat(null==(O=ec.find(e=>e.id===eO.assignedToId))?void 0:O.lastName).concat((null==(G=ec.find(e=>e.id===eO.assignedToId))?void 0:G.employeeId)?" (".concat(null==(W=ec.find(e=>e.id===eO.assignedToId))?void 0:W.employeeId,")"):""):"Select an employee",(0,a.jsx)(D.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,a.jsxs)(P.hl,{className:"w-[--radix-popover-trigger-width] max-h-[200px] p-0",children:[(0,a.jsx)("div",{className:"p-2 border-b",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(D.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(c.p,{placeholder:"Search employees...",value:e4,onChange:e=>e3(e.target.value),className:"pl-8 border-0 focus-visible:ring-0"})]})}),(0,a.jsx)(q.F,{className:"max-h-[150px]",children:(0,a.jsxs)("div",{className:"p-1",children:[ec.filter(e=>"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(e4.toLowerCase())).map(e=>(0,a.jsxs)(o.$,{variant:"ghost",className:"w-full justify-start font-normal h-9 px-2",onClick:()=>{eG({...eO,assignedToId:e.id,assignedToName:"".concat(e.firstName," ").concat(e.lastName)}),e3("")},children:[(0,a.jsx)(I.A,{className:"mr-2 h-4 w-4 ".concat(eO.assignedToId===e.id?"opacity-100":"opacity-0")}),(0,a.jsxs)("span",{className:"truncate",children:[e.firstName," ",e.lastName,e.employeeId?" (".concat(e.employeeId,")"):""]})]},e.id)),0===ec.filter(e=>"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(e4.toLowerCase())).length&&(0,a.jsx)("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No employees found"})]})})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 pt-4 border-t",children:[(0,a.jsx)(o.$,{variant:"outline",onClick:()=>{eV("general")},className:"h-11 px-6",children:"Back"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.$,{variant:"ghost",onClick:sT,className:"h-11 px-6",children:"Cancel"}),(0,a.jsx)(o.$,{onClick:sG,className:"h-11 px-6",children:"Save Requirement"})]})]})]})})]})})]})})]})}},50411:(e,s,t)=>{Promise.resolve().then(t.bind(t,46282))},51631:(e,s,t)=>{"use strict";t.d(s,{Eb:()=>h,Iu:()=>m,M_:()=>g,WA:()=>p,cU:()=>u,dK:()=>d,n$:()=>x});var a=t(95155),r=t(12115),n=t(90368),i=t(27937),l=t(37772),o=t(25016),c=t(97003);let d=e=>{let{className:s,...t}=e;return(0,a.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,o.cn)("mx-auto flex w-full justify-center",s),...t})};d.displayName="Pagination";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("ul",{ref:s,className:(0,o.cn)("flex flex-row items-center gap-1",t),...r})});m.displayName="PaginationContent";let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("li",{ref:s,className:(0,o.cn)("",t),...r})});u.displayName="PaginationItem";let x=e=>{let{className:s,isActive:t,size:r="icon",...n}=e;return(0,a.jsx)("a",{"aria-current":t?"page":void 0,className:(0,o.cn)((0,c.r)({variant:t?"outline":"ghost",size:r}),s),...n})};x.displayName="PaginationLink";let h=e=>{let{className:s,...t}=e;return(0,a.jsxs)(x,{"aria-label":"Go to previous page",size:"default",className:(0,o.cn)("gap-1 pl-2.5",s),...t,children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Previous"})]})};h.displayName="PaginationPrevious";let p=e=>{let{className:s,...t}=e;return(0,a.jsxs)(x,{"aria-label":"Go to next page",size:"default",className:(0,o.cn)("gap-1 pr-2.5",s),...t,children:[(0,a.jsx)("span",{children:"Next"}),(0,a.jsx)(i.A,{className:"h-4 w-4"})]})};p.displayName="PaginationNext";let g=e=>{let{className:s,...t}=e;return(0,a.jsxs)("span",{"aria-hidden":!0,className:(0,o.cn)("flex h-9 w-9 items-center justify-center",s),...t,children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"More pages"})]})};g.displayName="PaginationEllipsis"},60028:(e,s,t)=>{"use strict";t.d(s,{R:()=>p});var a=t(3648),r=t(95155),n=t(12115),i=t(90368),l=t(27937),o=t(24033),c=t(74854),d=t(51352),m=t(25016),u=t(97003);function x(){let e=(0,a._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return x=function(){return e},e}function h(){let e=(0,a._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return h=function(){return e},e}function p(e){let{className:s,classNames:t,showOutsideDays:a=!0,captionLayout:n="label",buttonVariant:p="ghost",formatters:f,components:j,...N}=e,v=(0,c.a)();return(0,r.jsx)(d.h,{showOutsideDays:a,className:(0,m.cn)("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(x()),String.raw(h()),s),captionLayout:n,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...f},classNames:{root:(0,m.cn)("w-fit",v.root),months:(0,m.cn)("flex gap-4 flex-col md:flex-row relative",v.months),month:(0,m.cn)("flex flex-col w-full gap-4",v.month),nav:(0,m.cn)("flex items-center gap-2 w-full absolute top-0 inset-x-0 justify-between",v.nav),button_previous:(0,m.cn)((0,u.r)({variant:p}),"size-7 aria-disabled:opacity-50 p-0 select-none",v.button_previous),button_next:(0,m.cn)((0,u.r)({variant:p}),"size-7 aria-disabled:opacity-50 p-0 select-none",v.button_next),month_caption:(0,m.cn)("flex items-center justify-center h-7 w-full px-7",v.month_caption),dropdowns:(0,m.cn)("w-full flex items-center text-sm font-medium justify-center h-7 gap-2",v.dropdowns),dropdown_root:(0,m.cn)("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",v.dropdown_root),dropdown:(0,m.cn)("absolute bg-popover inset-0 opacity-0",v.dropdown),caption_label:(0,m.cn)("select-none font-medium","label"===n?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",v.caption_label),table:"w-full border-collapse",weekdays:(0,m.cn)("flex",v.weekdays),weekday:(0,m.cn)("text-muted-foreground rounded-md flex-1 font-normal text-xs select-none py-1",v.weekday),week:(0,m.cn)("flex w-full mt-1",v.week),week_number_header:(0,m.cn)("select-none w-7",v.week_number_header),week_number:(0,m.cn)("text-sm select-none text-muted-foreground",v.week_number),day:(0,m.cn)("relative w-full h-full p-0.5 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",v.day),range_start:(0,m.cn)("rounded-l-md bg-accent",v.range_start),range_middle:(0,m.cn)("rounded-none",v.range_middle),range_end:(0,m.cn)("rounded-r-md bg-accent",v.range_end),today:(0,m.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",v.today),outside:(0,m.cn)("text-muted-foreground aria-selected:text-muted-foreground",v.outside),disabled:(0,m.cn)("text-muted-foreground opacity-50",v.disabled),hidden:(0,m.cn)("invisible",v.hidden),...t},components:{Root:e=>{let{className:s,rootRef:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"calendar",ref:t,className:(0,m.cn)(s),...a})},Chevron:e=>{let{className:s,orientation:t,...a}=e;return"left"===t?(0,r.jsx)(i.A,{className:(0,m.cn)("size-4",s),...a}):"right"===t?(0,r.jsx)(l.A,{className:(0,m.cn)("size-4",s),...a}):(0,r.jsx)(o.A,{className:(0,m.cn)("size-4",s),...a})},DayButton:g,WeekNumber:e=>{let{children:s,...t}=e;return(0,r.jsx)("td",{...t,children:(0,r.jsx)("div",{className:"flex size-7 items-center justify-center text-center",children:s})})},...j},...N})}function g(e){let{className:s,day:t,modifiers:a,...i}=e,l=(0,c.a)(),o=n.useRef(null);return n.useEffect(()=>{var e;a.focused&&(null==(e=o.current)||e.focus())},[a.focused]),(0,r.jsx)(u.$,{ref:o,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":a.selected&&!a.range_start&&!a.range_end&&!a.range_middle,"data-range-start":a.range_start,"data-range-end":a.range_end,"data-range-middle":a.range_middle,className:(0,m.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-7 flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70 h-7 w-7 m-0.5",l.day,s),...i})}},68122:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(95155),r=t(25016);function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"skeleton",className:(0,r.cn)("bg-accent animate-pulse rounded-md",s),...t})}},73344:(e,s,t)=>{"use strict";t.d(s,{DW:()=>l,DZ:()=>c,EY:()=>d,eu:()=>o});var a=t(95155),r=t(12115),n=t(83101),i=t(25016);let l=(0,n.F)("font-semibold tracking-tight text-foreground",{variants:{size:{xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl"},weight:{normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold"}},defaultVariants:{size:"lg",weight:"semibold"}}),o=(0,n.F)("text-foreground",{variants:{size:{xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg"},tone:{default:"text-foreground",muted:"text-muted-foreground",subtle:"text-muted-foreground/80"},weight:{normal:"font-normal",medium:"font-medium",semibold:"font-semibold"},tracking:{tight:"tracking-tight",normal:"tracking-normal",wide:"tracking-wide"}},defaultVariants:{size:"md",tone:"default",weight:"normal",tracking:"normal"}}),c=r.forwardRef((e,s)=>{let{className:t,size:r,weight:n,as:o="h2",...c}=e;return(0,a.jsx)(o,{ref:s,className:(0,i.cn)(l({size:r,weight:n}),t),...c})});c.displayName="Heading";let d=r.forwardRef((e,s)=>{let{className:t,size:r,tone:n,weight:l,tracking:c,as:d="p",...m}=e;return(0,a.jsx)(d,{ref:s,className:(0,i.cn)(o({size:r,tone:n,weight:l,tracking:c}),t),...m})});d.displayName="Text"},83209:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>i,aR:()=>l});var a=t(95155);t(12115);var r=t(25016),n=t(73344);function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)((0,n.DW)({size:"md"}),"leading-none",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)((0,n.eu)({size:"sm",tone:"muted"}),s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...t})}},86651:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},97003:(e,s,t)=>{"use strict";t.d(s,{$:()=>o,r:()=>l});var a=t(95155);t(12115);var r=t(32467),n=t(83101),i=t(25016);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:s,variant:t,size:n,asChild:o=!1,...c}=e,d=o?r.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:t,size:n,className:s})),...c})}}},e=>{e.O(0,[9358,9,1052,1691,4627,2632,5257,6810,8441,1255,7358],()=>e(e.s=50411)),_N_E=e.O()}]);