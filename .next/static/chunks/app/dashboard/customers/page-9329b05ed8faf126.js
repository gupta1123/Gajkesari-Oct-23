(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[819],{5838:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>$});var a=t(95155),l=t(12115),i=t(83209),n=t(67812),r=t(33884),c=t(97003),o=t(96633),d=t(7220),m=t(31856),u=t(33789),h=t(90235),x=t(47507),p=t(90368),j=t(27937),N=t(65229),g=t(66955),f=t(64545),y=t(5917),v=t(39867),w=t(20508),b=t(65993),C=t(69141),S=t(30814),A=t(12108),k=t(24033),F=t(91761),E=t(29633),I=t(37772),O=t(37621),T=t(54679),L=t(90923),P=t(68209);let D=e=>{var s;let{isOpen:t,onClose:i,token:n,existingData:r,onCustomerAdded:o,userRole:m,userData:x}=e,[p,j]=(0,l.useState)(r||{clientFirstName:"",clientLastName:"",email:""}),[N,g]=(0,l.useState)("basic"),[f,y]=(0,l.useState)([]),[v,w]=(0,l.useState)(null),[b,C]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{try{if((0,P.N4)(m)&&(null==x?void 0:x.employeeId)){let e=(await O.n.getTeamByEmployee(Number(x.employeeId))).flatMap(e=>e.fieldOfficers);y(e)}else{let e=await O.n.getAllEmployees();y(e)}}catch(e){console.error("Error fetching employees:",e);try{let e=await O.n.getAllEmployees();y(e)}catch(e){console.error("Error fetching all employees:",e)}}})()},[n,m,null==x?void 0:x.employeeId]);let S=(e,s)=>{let t=s;if("primaryContact"===e){let e=s.toString().replace(/\D/g,"");if(e.length>10)return;e.length>0&&e.length<10?w("Primary contact must be exactly 10 digits"):(e.length,w(null)),t=""===e?"":parseInt(e,10)}else if("secondaryContact"===e){let e=s.toString().replace(/\D/g,"");if(e.length>10)return;e.length>0&&e.length<10?C("Secondary contact must be exactly 10 digits"):(e.length,C(null)),t=""===e?"":parseInt(e,10)}else["pincode","monthlySale","primaryContact","secondaryContact","fieldOfficerId"].includes(e)&&(t=""===s?"":parseInt(s.toString(),10));j(s=>({...s,[e]:t}))},A=async()=>{try{let e={...p,primaryContact:p.primaryContact?parseInt(p.primaryContact.toString(),10):void 0,secondaryContact:p.secondaryContact?parseInt(p.secondaryContact.toString(),10):void 0,pincode:p.pincode?parseInt(p.pincode.toString(),10):void 0,monthlySale:p.monthlySale?parseInt(p.monthlySale.toString(),10):void 0,latitude:10,longitude:-23,employeeId:p.fieldOfficerId};console.log("requestBody",e);let s=r&&r.id?"https://api.gajkesaristeels.in/store/update?id=".concat(r.id):"https://api.gajkesaristeels.in/store/create",t=r&&r.id?"PUT":"POST",a=await fetch(s,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(e)});if(console.log(a),a.ok){let e=await a.json();console.log(e),i(),o&&o()}else console.error("Failed to update/create customer")}catch(e){console.error("Error updating/creating customer:",e)}};return(0,a.jsx)(T.lG,{open:t,onOpenChange:i,children:(0,a.jsxs)(T.Cf,{className:"sm:max-w-[600px]",children:[(0,a.jsxs)(T.c7,{children:[(0,a.jsx)(T.L3,{children:"Add Customer"}),(0,a.jsx)(T.rr,{children:"Enter the details of the new customer."})]}),(0,a.jsxs)(L.tU,{value:N,onValueChange:g,className:"mt-4",children:[(0,a.jsxs)(L.j7,{children:[(0,a.jsx)(L.Xi,{value:"basic",children:"Basic Info"}),(0,a.jsx)(L.Xi,{value:"contact",children:"Contact"}),(0,a.jsx)(L.Xi,{value:"address",children:"Address"}),(0,a.jsx)(L.Xi,{value:"additional",children:"Additional"})]}),(0,a.jsx)(L.av,{value:"basic",className:"mt-4",children:(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"storeName",className:"text-right",children:"Shop Name"}),(0,a.jsx)(u.p,{id:"storeName",value:p.storeName||"",className:"col-span-3",onChange:e=>S("storeName",e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"clientFirstName",className:"text-right",children:"First Name"}),(0,a.jsx)(u.p,{id:"clientFirstName",value:p.clientFirstName||"",className:"col-span-3",onChange:e=>S("clientFirstName",e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"clientLastName",className:"text-right",children:"Last Name"}),(0,a.jsx)(u.p,{id:"clientLastName",value:p.clientLastName||"",className:"col-span-3",onChange:e=>S("clientLastName",e.target.value)})]})]})}),(0,a.jsx)(L.av,{value:"contact",className:"mt-4",children:(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"primaryContact",className:"text-right",children:"Primary Contact"}),(0,a.jsxs)("div",{className:"col-span-3",children:[(0,a.jsx)(u.p,{id:"primaryContact",type:"tel",value:p.primaryContact||"",className:v?"border-red-500":"",onChange:e=>S("primaryContact",e.target.value)}),v&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:v})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"secondaryContact",className:"text-right",children:"Secondary Contact"}),(0,a.jsxs)("div",{className:"col-span-3",children:[(0,a.jsx)(u.p,{id:"secondaryContact",type:"tel",value:p.secondaryContact||"",className:b?"border-red-500":"",onChange:e=>S("secondaryContact",e.target.value)}),b&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-1",children:b})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"email",className:"text-right",children:"Email"}),(0,a.jsx)(u.p,{id:"email",type:"email",value:p.email||"",className:"col-span-3",onChange:e=>S("email",e.target.value)})]})]})}),(0,a.jsx)(L.av,{value:"address",className:"mt-4",children:(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"addressLine1",className:"text-right",children:"Address Line 1"}),(0,a.jsx)(u.p,{id:"addressLine1",value:p.addressLine1||"",className:"col-span-3",onChange:e=>S("addressLine1",e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"addressLine2",className:"text-right",children:"Address Line 2"}),(0,a.jsx)(u.p,{id:"addressLine2",value:p.addressLine2||"",className:"col-span-3",onChange:e=>S("addressLine2",e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"city",className:"text-right",children:"City"}),(0,a.jsx)(u.p,{id:"city",value:p.city||"",className:"col-span-3",onChange:e=>S("city",e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"state",className:"text-right",children:"State"}),(0,a.jsx)(u.p,{id:"state",value:p.state||"",className:"col-span-3",onChange:e=>S("state",e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"country",className:"text-right",children:"Country"}),(0,a.jsx)(u.p,{id:"country",value:p.country||"",className:"col-span-3",onChange:e=>S("country",e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"pincode",className:"text-right",children:"Pincode"}),(0,a.jsx)(u.p,{id:"pincode",type:"number",value:p.pincode||"",className:"col-span-3",onChange:e=>S("pincode",e.target.value)})]})]})}),(0,a.jsx)(L.av,{value:"additional",className:"mt-4",children:(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"gstNumber",className:"text-right",children:"GST Number"}),(0,a.jsx)(u.p,{id:"gstNumber",value:p.gstNumber||"",className:"col-span-3",onChange:e=>S("gstNumber",e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"monthlySale",className:"text-right",children:"Monthly Sale"}),(0,a.jsx)(u.p,{id:"monthlySale",type:"number",value:p.monthlySale||"",className:"col-span-3",onChange:e=>S("monthlySale",e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"clientType",className:"text-right",children:"Client Type"}),(0,a.jsx)("div",{className:"col-span-3",children:(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{className:"w-full",children:(0,a.jsx)(u.p,{id:"clientType",value:p.clientType||"",placeholder:"Select Client Type",readOnly:!0,className:"cursor-pointer text-gray-400"})}),(0,a.jsxs)(d.SQ,{children:[(0,a.jsx)(d._2,{onClick:()=>S("clientType","Project"),children:"Project"}),(0,a.jsx)(d._2,{onClick:()=>S("clientType","Shop"),children:"Shop"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(h.J,{htmlFor:"fieldOfficer",className:"text-right",children:"Field Officer"}),(0,a.jsx)("div",{className:"col-span-3",children:(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{className:"w-full",children:(0,a.jsx)(u.p,{id:"fieldOfficer",value:p.fieldOfficerId?null==(s=f.find(e=>e.id===p.fieldOfficerId))?void 0:s.firstName:"",placeholder:"Select Field Officer",readOnly:!0,className:"cursor-pointer text-gray-400"})}),(0,a.jsx)(d.SQ,{children:f.map(e=>(0,a.jsxs)(d._2,{onClick:()=>S("fieldOfficerId",e.id.toString()),children:[e.firstName," ",e.lastName]},e.id))})]})})]})]})})]}),(0,a.jsxs)(T.Es,{children:[(0,a.jsx)(c.$,{variant:"outline",onClick:i,children:"Cancel"}),"basic"!==N&&(0,a.jsx)(c.$,{variant:"outline",onClick:()=>{"additional"===N?g("address"):"address"===N?g("contact"):"contact"===N&&g("basic")},children:"Previous"}),"additional"!==N?(0,a.jsx)(c.$,{onClick:()=>{"basic"===N?g("contact"):"contact"===N?g("address"):"address"===N&&g("additional")},children:"Next"}):(0,a.jsx)(c.$,{onClick:A,disabled:!!v||!!b,children:"Add Customer"})]})]})})};var V=t(68122),z=t(82466),J=t(25016),B=t(20063),_=t(13626);let M="customers.list.state.v1";function $(){return(0,a.jsx)(R,{})}function R(){let e=(0,B.useRouter)(),s=(0,l.useRef)(!1),[t,T]=(0,l.useState)(!1),{token:L,userData:$}=(0,z.A)(),[R,U]=(0,l.useState)(["shopName","ownerName","city","state","phone","monthlySales","intentLevel","fieldOfficer","clientType","totalVisits","lastVisitDate"]),[X,Z]=(0,l.useState)({storeName:"",primaryContact:"",ownerName:"",city:"",state:"",clientType:"",employeeName:""}),[q,H]=(0,l.useState)({storeName:"",primaryContact:"",ownerName:"",city:"",state:"",clientType:"",employeeName:""}),[Q,W]=(0,l.useState)(!1),[G,K]=(0,l.useState)(!1),[Y,ee]=(0,l.useState)([]),[es,et]=(0,l.useState)(1),[ea,el]=(0,l.useState)(10),[ei,en]=(0,l.useState)(!1),[er,ec]=(0,l.useState)(null),[eo,ed]=(0,l.useState)(!1),[em,eu]=(0,l.useState)("storeName"),[eh,ex]=(0,l.useState)("asc"),[ep,ej]=(0,l.useState)(!1),[eN,eg]=(0,l.useState)("Please wait, downloading..."),[ef,ey]=(0,l.useState)([]),[ev,ew]=(0,l.useState)(1),[eb,eC]=(0,l.useState)(!0),[eS,eA]=(0,l.useState)(null),[ek,eF]=(0,l.useState)([]),[eE,eI]=(0,l.useState)(!1),[eO,eT]=(0,l.useState)("all"),[eL,eP]=(0,l.useState)("all"),[eD,eV]=(0,l.useState)(!1),[ez,eJ]=(0,l.useState)(!1),[eB,e_]=(0,l.useState)(!1),[eM,e$]=(0,l.useState)(null),[eR,eU]=(0,l.useState)(null),[eX,eZ]=(0,l.useState)(!1),[eq,eH]=(0,l.useState)(null),[eQ,eW]=(0,l.useState)(!1),eG=localStorage.getItem("employeeId");localStorage.getItem("role"),(0,l.useEffect)(()=>{let e=!0;return(async()=>{try{eI(!0);let s=await O.n.getAllEmployees();if(!e)return;eF(s)}catch(e){console.error("Failed to load employees:",e)}finally{e&&eI(!1)}})(),()=>{e=!1}},[]),(0,l.useEffect)(()=>{if(s.current)return void T(!0);s.current=!0;try{let e=sessionStorage.getItem(M);if(e){let s=JSON.parse(e);Array.isArray(s.selectedColumns)&&s.selectedColumns.length>0&&U(s.selectedColumns),s.desktopFilters&&"object"==typeof s.desktopFilters&&Z(e=>({...e,...s.desktopFilters})),s.mobileFilters&&"object"==typeof s.mobileFilters&&H(e=>({...e,...s.mobileFilters})),"boolean"==typeof s.isDesktopFilterExpanded&&W(s.isDesktopFilterExpanded),"boolean"==typeof s.isMobileFilterExpanded&&K(s.isMobileFilterExpanded),Array.isArray(s.expandedCards)&&ee(s.expandedCards),"number"==typeof s.currentPage&&s.currentPage>=1&&et(s.currentPage),"number"==typeof s.pageSize&&s.pageSize>0&&el(s.pageSize),"string"==typeof s.sortColumn&&""!==s.sortColumn.trim()&&eu(s.sortColumn),("asc"===s.sortDirection||"desc"===s.sortDirection)&&ex(s.sortDirection),"string"==typeof s.selectedEmployeeId&&eT(s.selectedEmployeeId||"all"),"string"==typeof s.mobileSelectedEmployeeId&&eP(s.mobileSelectedEmployeeId||"all")}}catch(e){console.error("Failed to restore customer list state:",e)}finally{T(!0)}},[]),(0,l.useEffect)(()=>{if(t)try{sessionStorage.setItem(M,JSON.stringify({selectedColumns:R,desktopFilters:X,mobileFilters:q,isDesktopFilterExpanded:Q,isMobileFilterExpanded:G,expandedCards:Y,currentPage:es,pageSize:ea,sortColumn:em,sortDirection:eh,selectedEmployeeId:eO,mobileSelectedEmployeeId:eL}))}catch(e){console.error("Failed to persist customer list state:",e)}},[t,R,X,q,Q,G,Y,es,ea,em,eh,eO,eL]);let eK=(0,l.useMemo)(()=>{let e=ek.map(e=>{var s,t;let a=[e.firstName,e.lastName].filter(Boolean).join(" ").trim(),l=null!=(t=null==(s=e.userDto)?void 0:s.employeeId)?t:null,i=a||e.userName||e.email||"Employee ".concat(null!=l?l:e.id),n=null!==l?"".concat(i," (").concat(l,")"):i;return{value:String(e.id),label:n,data:{fullName:a||i}}});return e.sort((e,s)=>e.label.localeCompare(s.label)),[{value:"all",label:"All Field Officers"},...e]},[ek]);(0,l.useEffect)(()=>{if(0===ek.length)return;let e=X.employeeName;if(!e){"all"!==eO&&eT("all");return}let s=eK.find(s=>{var t;return"all"!==s.value&&(null==(t=s.data)?void 0:t.fullName)===e});s?eO!==s.value&&eT(s.value):"all"!==eO&&eT("all")},[X.employeeName,eK,ek,eO]),(0,l.useEffect)(()=>{if(0===ek.length)return;let e=q.employeeName;if(!e){"all"!==eL&&eP("all");return}let s=eK.find(s=>{var t;return"all"!==s.value&&(null==(t=s.data)?void 0:t.fullName)===e});s?eL!==s.value&&eP(s.value):"all"!==eL&&eP("all")},[q.employeeName,eK,ek,eL]),(0,l.useEffect)(()=>{(async()=>{if(L)try{let e=await fetch("https://api.gajkesaristeels.in/user/manage/current-user",{headers:{Authorization:"Bearer ".concat(L),"Content-Type":"application/json"}});if(e.ok){let s=await e.json();console.log("Current user data:",s);let t=s.authorities||[],a=t.length>0?t[0].authority:null;e$(a);let l=(0,P.Xb)(a),i=(0,P.N4)(a),n="ROLE_ADMIN"===l||"ADMIN"===l,r="ROLE_FIELD OFFICER"===l||"FIELD OFFICER"===l;eV(i),eJ(n),e_(r),console.log("Role from API:",a),console.log("isManager:",i),console.log("isAdmin:",n),console.log("isFieldOfficer:",r),eW(!0)}else console.error("Failed to fetch current user data")}catch(e){console.error("Error fetching current user:",e)}})()},[L]),(0,l.useEffect)(()=>{(async()=>{if(!eD&&!eB||!(null==$?void 0:$.employeeId))return eW(!0);eZ(!0),eH(null);try{let e=await O.n.getTeamByEmployee($.employeeId);e.length>0?eU(e[0].id):(eH("No team data found for this user"),eU(6))}catch(e){console.error("Failed to load team data:",e),eH("Failed to load team data"),eU(6)}finally{eZ(!1),eW(!0)}})()},[eD,eB,null==$?void 0:$.employeeId]);let eY=e=>{let s=e;"ownerName"===e?s="ownerFirstName":"totalVisits"===e&&(s="visitCount"),em===s?ex(e=>"asc"===e?"desc":"asc"):(eu(s),ex("asc"))},e0=async()=>{if(t&&eQ){eC(!0),eA(null);try{let e;if((eD||eB)&&null==eR)return;if(eD){if(!eR){console.log("Manager role detected but no teamId available, skipping API call"),ey([]),ew(1);return}console.log("Manager API call for team:",eR),e=await O.n.getStoresForTeam(eR,es-1,ea),console.log("Manager API response:",e)}else if(eB){if(!eR){console.log("Field Officer role detected but no teamId available, skipping API call"),ey([]),ew(1);return}console.log("Field Officer API call for team:",eR),e=await O.n.getStoresForTeam(eR,es-1,ea),console.log("Field Officer API response:",e)}else ez?(console.log("Admin API call"),e=X.employeeName&&eG?await O.n.getStoresByEmployee(Number(eG),{sortBy:em,sortOrder:eh}):await O.n.getStoresFilteredPaginated({storeName:X.storeName||void 0,ownerName:X.ownerName||void 0,city:X.city||void 0,state:X.state||void 0,clientType:X.clientType||void 0,employeeName:X.employeeName||void 0,primaryContact:X.primaryContact||void 0,page:es-1,size:ea,sortBy:em,sortOrder:eh})):(console.log("Default (Admin) API call for unknown role"),e=await O.n.getStoresFilteredPaginated({storeName:X.storeName||void 0,ownerName:X.ownerName||void 0,city:X.city||void 0,state:X.state||void 0,clientType:X.clientType||void 0,employeeName:X.employeeName||void 0,primaryContact:X.primaryContact||void 0,page:es-1,size:ea,sortBy:em,sortOrder:eh}));let s=(e.content||[]).map(e=>({...e,storeId:e.storeId,clientFirstName:e.clientFirstName||"",clientLastName:e.clientLastName||"",employeeName:e.employeeName||"",totalVisitCount:e.totalVisitCount||0}));ey(s);let t=e.totalPages&&e.totalPages>0?e.totalPages:1;if(ew(t),es>t){let e=Math.max(t,1);e!==es&&et(e)}}catch(e){eA((null==e?void 0:e.message)||"Failed to load customers"),ey([])}finally{eC(!1)}}};(0,l.useEffect)(()=>{t&&eQ&&e0()},[t,eQ,X,es,ea,em,eh,eR]);let e4=e=>{ec(e),en(!0)},e1=()=>{ec(null),en(!1)},e2=(e,s)=>{"ownerName"===e?Z(t=>({...t,[e]:s.toLowerCase()})):Z(t=>({...t,[e]:s})),et(1)},e5=(e,s)=>{"ownerName"===e?H(t=>({...t,[e]:s.toLowerCase()})):H(t=>({...t,[e]:s}))},e6=async()=>{if(er)try{console.log("Attempting to delete customer with ID:",er),console.log("Using token:",L?"Token present":"No token");try{await O.n.deleteStore(Number(er)),console.log("Customer deleted successfully via API service"),e0(),e1();return}catch(e){console.log("API service failed, trying direct fetch:",e)}let e=await fetch("https://api.gajkesaristeels.in/store/deleteById?id=".concat(er),{method:"DELETE",headers:{Authorization:"Bearer ".concat(L),"Content-Type":"application/json"}});if(console.log("Delete response status:",e.status),console.log("Delete response ok:",e.ok),e.ok)console.log("Customer deleted successfully via direct fetch"),e0(),e1();else{let s=await e.text();console.error("Failed to delete customer. Status:",e.status),console.error("Error response:",s)}}catch(e){console.error("Error deleting customer:",e)}},e3=(0,l.useCallback)(async()=>{ej(!0),eg("Please wait, downloading...");try{console.log("Starting export process...");let e=await fetch("https://api.gajkesaristeels.in/store/export",{method:"GET",headers:{Authorization:"Bearer ".concat(L)}});if(console.log("Export response status:",e.status),console.log("Export response ok:",e.ok),!e.ok){console.error("Failed to fetch export data"),eg("Failed to download. Please try again.");return}let s=await e.text();console.log("CSV content received, length:",s.length);let t=new Blob([s],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");if(void 0!==a.download){let e=URL.createObjectURL(t);a.setAttribute("href",e),a.setAttribute("download","customers_export.csv"),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),eg("Download complete!"),console.log("Export completed successfully")}}catch(e){console.error("Error exporting data:",e),eg("Failed to download. Please try again.")}finally{setTimeout(()=>{ej(!1),eg("Please wait, downloading...")},2e3)}},[L]),e8=(e,s,t,l)=>(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(h.J,{htmlFor:e,className:"sr-only",children:s}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.p,{id:e,placeholder:s,value:l?q[e]:X[e],onChange:s=>l?e5(e,s.target.value):e2(e,s.target.value),className:"pl-8 pr-8 h-9"}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none text-gray-400",children:t}),!l&&X[e]&&(0,a.jsx)("button",{onClick:()=>{Z(s=>({...s,[e]:""})),"employeeName"===e&&eT("all"),et(1)},className:"absolute inset-y-0 right-0 flex items-center pr-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(N.A,{className:"h-4 w-4"})})]})]});return(0,a.jsx)("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>{ed(!0)},children:"Add Customer"}),(0,a.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>W(!Q),className:"hidden md:inline-flex",children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4"}),Q?"Hide Filters":"Show Filters"]}),(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Columns"]})}),(0,a.jsxs)(d.SQ,{align:"end",className:"w-56",children:[(0,a.jsx)(d.lp,{children:"Toggle columns"}),(0,a.jsx)(d.mB,{}),[{value:"shopName",label:"Shop Name"},{value:"ownerName",label:"Owner Name"},{value:"city",label:"City"},{value:"state",label:"State"},{value:"phone",label:"Phone"},{value:"monthlySales",label:"Monthly Sales"},{value:"intentLevel",label:"Intent Level"},{value:"fieldOfficer",label:"Field Officer"},{value:"clientType",label:"Client Type"},{value:"totalVisits",label:"Total Visits"},{value:"lastVisitDate",label:"Last Visit Date"}].map(e=>(0,a.jsx)(d.hO,{checked:R.includes(e.value),onCheckedChange:()=>{var s;return s=e.value,void U(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s])},children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[e.label,R.includes(e.value)&&(0,a.jsx)(y.A,{className:"h-4 w-4"})]})},e.value))]})]}),(0,a.jsx)(c.$,{variant:"outline",size:"sm",onClick:e3,disabled:ep,children:ep?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),eN]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Export"]})}),(0,a.jsx)(c.$,{variant:"outline",size:"icon",onClick:()=>K(!0),className:"md:hidden",children:(0,a.jsx)(g.A,{className:"h-4 w-4"})})]})}),Q&&(0,a.jsx)(i.Zp,{className:"mb-6 hidden md:block",children:(0,a.jsx)(i.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[e8("storeName","Shop Name",(0,a.jsx)(w.A,{className:"h-4 w-4"}),!1),e8("ownerName","Owner Name",(0,a.jsx)(w.A,{className:"h-4 w-4"}),!1),e8("city","City",(0,a.jsx)(b.A,{className:"h-4 w-4"}),!1),e8("state","State",(0,a.jsx)(b.A,{className:"h-4 w-4"}),!1),e8("primaryContact","Phone",(0,a.jsx)(C.A,{className:"h-4 w-4"}),!1),e8("clientType","Client Type",(0,a.jsx)(S.A,{className:"h-4 w-4"}),!1),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(h.J,{className:"sr-only",children:"Field Officer"}),(0,a.jsx)(_.Z,{options:eK,value:eO,onSelect:e=>{if(e&&"all"!==e.value){var s,t;eT(e.value),e2("employeeName",null!=(t=null==(s=e.data)?void 0:s.fullName)?t:"")}else eT("all"),e2("employeeName","")},placeholder:"Field Officer",loading:eE,triggerClassName:"w-full justify-between h-9",contentClassName:"w-[var(--radix-popover-trigger-width)]",searchPlaceholder:"Search employees..."})]})]})})}),eD&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Team Customers"})}),(0,a.jsx)(m.cj,{open:G,onOpenChange:K,children:(0,a.jsxs)(m.h,{children:[(0,a.jsx)(m.Fm,{children:(0,a.jsx)(m.qp,{children:"Customer Filters"})}),(0,a.jsxs)("div",{className:"py-4 space-y-4",children:[e8("storeName","Shop Name",(0,a.jsx)(w.A,{className:"h-4 w-4"}),!0),e8("ownerName","Owner Name",(0,a.jsx)(w.A,{className:"h-4 w-4"}),!0),e8("city","City",(0,a.jsx)(b.A,{className:"h-4 w-4"}),!0),e8("state","State",(0,a.jsx)(b.A,{className:"h-4 w-4"}),!0),e8("primaryContact","Phone",(0,a.jsx)(C.A,{className:"h-4 w-4"}),!0),e8("clientType","Client Type",(0,a.jsx)(S.A,{className:"h-4 w-4"}),!0),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(h.J,{className:"sr-only",children:"Field Officer"}),(0,a.jsx)(_.Z,{options:eK,value:eL,onSelect:e=>{if(e&&"all"!==e.value){var s,t;eP(e.value),e5("employeeName",null!=(t=null==(s=e.data)?void 0:s.fullName)?t:"")}else eP("all"),e5("employeeName","")},placeholder:"Field Officer",loading:eE,triggerClassName:"w-full justify-between h-11",contentClassName:"w-[var(--radix-popover-trigger-width)]",searchPlaceholder:"Search employees..."})]})]}),(0,a.jsxs)(m.XW,{className:"flex gap-2",children:[(0,a.jsx)(c.$,{variant:"outline",onClick:()=>{let e={storeName:"",primaryContact:"",ownerName:"",city:"",state:"",clientType:"",employeeName:""};Z(e),H(e),eT("all"),eP("all"),et(1)},children:"Clear All"}),(0,a.jsx)(c.$,{onClick:()=>{Z(q),eT(eL),K(!1),et(1)},children:"Apply Filters"})]})]})}),(0,a.jsx)("div",{className:"md:hidden space-y-4",children:eb||!eQ?(0,a.jsx)(a.Fragment,{children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)(i.Zp,{className:"overflow-hidden",children:[(0,a.jsx)(i.aR,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(V.E,{className:"h-12 w-12 rounded-full"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(V.E,{className:"h-4 w-40"}),(0,a.jsx)(V.E,{className:"h-3 w-24"})]})]}),(0,a.jsx)(V.E,{className:"h-6 w-16"})]})}),(0,a.jsxs)(i.Wu,{className:"pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(V.E,{className:"h-4 w-32"}),(0,a.jsx)(V.E,{className:"h-8 w-8"})]}),(0,a.jsx)("div",{className:"mt-4 flex justify-end",children:(0,a.jsx)(V.E,{className:"h-8 w-20"})})]})]},"mobile-skeleton-".concat(s)))}):ef.map((s,t)=>(0,a.jsxs)(i.Zp,{className:"overflow-hidden",children:[(0,a.jsx)(i.aR,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(r.eu,{children:[(0,a.jsx)(r.BK,{src:"https://source.boringavatars.com/beam/120/".concat(s.clientFirstName).concat(s.clientLastName,"?colors=264653,2a9d8f,e9c46a,f4a261,e76f51")}),(0,a.jsx)(r.q5,{children:((e,s)=>{let t=(null==e?void 0:e.charAt(0))||"",a=(null==s?void 0:s.charAt(0))||"";return"".concat(t).concat(a).toUpperCase()})(s.clientFirstName,s.clientLastName)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{className:"text-lg",children:s.storeName}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[s.city,", ",s.state]})]})]}),s.clientType&&(0,a.jsx)(n.E,{variant:"outline",children:s.clientType})]})}),(0,a.jsxs)(i.Wu,{className:"pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(w.A,{className:"text-blue-500"}),(0,a.jsx)("span",{className:"font-medium",children:"Owner:"}),(0,a.jsxs)("span",{children:[s.clientFirstName," ",s.clientLastName]})]}),(0,a.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>{var e;return e=s.storeId,void ee(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},children:Y.includes(s.storeId)?(0,a.jsx)(A.A,{className:"h-4 w-4"}):(0,a.jsx)(k.A,{className:"h-4 w-4"})})]}),Y.includes(s.storeId)&&(0,a.jsxs)("div",{className:"mt-4 space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(C.A,{className:"text-green-500"}),(0,a.jsx)("span",{className:"font-medium",children:"Phone:"}),(0,a.jsx)("span",{children:s.primaryContact})]}),s.monthlySale&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(F.A,{className:"text-yellow-500"}),(0,a.jsx)("span",{className:"font-medium",children:"Monthly Sales:"}),(0,a.jsxs)("span",{children:[s.monthlySale.toLocaleString()," tonnes"]})]}),s.intent&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(S.A,{className:"text-red-500"}),(0,a.jsx)("span",{className:"font-medium",children:"Intent:"}),(0,a.jsx)("span",{children:s.intent})]}),s.employeeName&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(E.A,{className:"text-purple-500"}),(0,a.jsx)("span",{className:"font-medium",children:"Field Officer:"}),(0,a.jsx)("span",{children:s.employeeName})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(w.A,{className:"text-indigo-500"}),(0,a.jsx)("span",{className:"font-medium",children:"Total Visits:"}),(0,a.jsx)("span",{children:s.totalVisitCount})]})]}),(0,a.jsx)("div",{className:"mt-4 flex justify-end items-center",children:(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsx)(c.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(I.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(d.SQ,{align:"end",children:[(0,a.jsx)(d._2,{onSelect:()=>{e.push("/dashboard/customers/".concat(s.storeId))},children:"View"}),(0,a.jsx)(d.mB,{}),(0,a.jsx)(d._2,{onSelect:()=>e4(s.storeId.toString()),children:"Delete"})]})]})})]})]},"mobile-customer-".concat(s.storeId,"-").concat(t)))}),(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsxs)(o.XI,{className:"text-sm font-poppins",children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{children:[R.includes("shopName")&&(0,a.jsxs)(o.nd,{className:"cursor-pointer",onClick:()=>eY("storeName"),children:["Shop Name","storeName"===em&&(0,a.jsx)("span",{className:"text-black text-sm",children:"asc"===eh?" ▲":" ▼"})]}),R.includes("ownerName")&&(0,a.jsxs)(o.nd,{className:"cursor-pointer",onClick:()=>eY("ownerName"),children:["Owner Name","ownerFirstName"===em&&(0,a.jsx)("span",{className:"text-black text-sm",children:"asc"===eh?" ▲":" ▼"})]}),R.includes("city")&&(0,a.jsxs)(o.nd,{className:"cursor-pointer",onClick:()=>eY("city"),children:["City","city"===em&&(0,a.jsx)("span",{className:"text-black text-sm",children:"asc"===eh?" ▲":" ▼"})]}),R.includes("state")&&(0,a.jsxs)(o.nd,{className:"cursor-pointer",onClick:()=>eY("state"),children:["State","state"===em&&(0,a.jsx)("span",{className:"text-black text-sm",children:"asc"===eh?" ▲":" ▼"})]}),R.includes("phone")&&(0,a.jsxs)(o.nd,{className:"cursor-pointer",onClick:()=>eY("primaryContact"),children:["Phone","primaryContact"===em&&(0,a.jsx)("span",{className:"text-black text-sm",children:"asc"===eh?" ▲":" ▼"})]}),R.includes("monthlySales")&&(0,a.jsxs)(o.nd,{className:"cursor-pointer",onClick:()=>eY("monthlySale"),children:["Monthly Sales","monthlySale"===em&&(0,a.jsx)("span",{className:"text-black text-sm",children:"asc"===eh?" ▲":" ▼"})]}),R.includes("intentLevel")&&(0,a.jsxs)(o.nd,{className:"cursor-pointer",onClick:()=>eY("intent"),children:["Intent Level","intent"===em&&(0,a.jsx)("span",{className:"text-black text-sm",children:"asc"===eh?" ▲":" ▼"})]}),R.includes("fieldOfficer")&&(0,a.jsxs)(o.nd,{className:"cursor-pointer",onClick:()=>eY("employeeName"),children:["Field Officer","employeeName"===em&&(0,a.jsx)("span",{className:"text-black text-sm",children:"asc"===eh?" ▲":" ▼"})]}),R.includes("clientType")&&(0,a.jsxs)(o.nd,{className:"cursor-pointer",onClick:()=>eY("clientType"),children:["Client Type","clientType"===em&&(0,a.jsx)("span",{className:"text-black text-sm",children:"asc"===eh?" ▲":" ▼"})]}),R.includes("totalVisits")&&(0,a.jsxs)(o.nd,{className:"cursor-pointer",onClick:()=>eY("totalVisits"),children:["Total Visits","visitCount"===em&&(0,a.jsx)("span",{className:"text-black text-sm",children:"asc"===eh?" ▲":" ▼"})]}),R.includes("lastVisitDate")&&(0,a.jsxs)(o.nd,{className:"cursor-pointer",onClick:()=>eY("lastVisitDate"),children:["Last Visit Date","lastVisitDate"===em&&(0,a.jsx)("span",{className:"text-black text-sm",children:"asc"===eh?" ▲":" ▼"})]}),(0,a.jsx)(o.nd,{className:"w-20",children:"Actions"})]})}),(0,a.jsx)(o.BF,{children:eb||!eQ?(0,a.jsx)(a.Fragment,{children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)(o.Hj,{children:[R.includes("shopName")&&(0,a.jsx)(o.nA,{children:(0,a.jsx)(V.E,{className:"h-4 w-32"})}),R.includes("ownerName")&&(0,a.jsx)(o.nA,{children:(0,a.jsx)(V.E,{className:"h-4 w-28"})}),R.includes("city")&&(0,a.jsx)(o.nA,{children:(0,a.jsx)(V.E,{className:"h-4 w-20"})}),R.includes("state")&&(0,a.jsx)(o.nA,{children:(0,a.jsx)(V.E,{className:"h-4 w-16"})}),R.includes("phone")&&(0,a.jsx)(o.nA,{children:(0,a.jsx)(V.E,{className:"h-4 w-24"})}),R.includes("monthlySales")&&(0,a.jsx)(o.nA,{children:(0,a.jsx)(V.E,{className:"h-4 w-20"})}),R.includes("intentLevel")&&(0,a.jsx)(o.nA,{children:(0,a.jsx)(V.E,{className:"h-4 w-8"})}),R.includes("fieldOfficer")&&(0,a.jsx)(o.nA,{children:(0,a.jsx)(V.E,{className:"h-4 w-24"})}),R.includes("clientType")&&(0,a.jsx)(o.nA,{children:(0,a.jsx)(V.E,{className:"h-6 w-16"})}),R.includes("totalVisits")&&(0,a.jsx)(o.nA,{children:(0,a.jsx)(V.E,{className:"h-4 w-8"})}),R.includes("lastVisitDate")&&(0,a.jsx)(o.nA,{children:(0,a.jsx)(V.E,{className:"h-4 w-20"})}),(0,a.jsx)(o.nA,{className:"w-20",children:(0,a.jsx)(V.E,{className:"h-8 w-8"})})]},"skeleton-".concat(s)))}):ef.map((s,t)=>(0,a.jsxs)(o.Hj,{children:[R.includes("shopName")&&(0,a.jsx)(o.nA,{children:s.storeName||""}),R.includes("ownerName")&&(0,a.jsx)(o.nA,{children:s.clientFirstName||s.clientLastName?"".concat(s.clientFirstName||""," ").concat(s.clientLastName||"").trim():""}),R.includes("city")&&(0,a.jsx)(o.nA,{children:s.city||""}),R.includes("state")&&(0,a.jsx)(o.nA,{children:s.state||""}),R.includes("phone")&&(0,a.jsx)(o.nA,{children:s.primaryContact||""}),R.includes("monthlySales")&&(0,a.jsx)(o.nA,{children:null!==s.monthlySale&&void 0!==s.monthlySale?"".concat(s.monthlySale.toLocaleString()," tonnes"):""}),R.includes("intentLevel")&&(0,a.jsx)(o.nA,{children:null!==s.intent&&void 0!==s.intent?s.intent:""}),R.includes("fieldOfficer")&&(0,a.jsx)(o.nA,{children:s.employeeName||""}),R.includes("clientType")&&(0,a.jsx)(o.nA,{children:(0,a.jsx)(n.E,{variant:"outline",children:s.clientType||""})}),R.includes("totalVisits")&&(0,a.jsx)(o.nA,{children:s.totalVisitCount}),R.includes("lastVisitDate")&&(0,a.jsx)(o.nA,{children:s.lastVisitDate?(0,J.V5)(s.lastVisitDate):""}),(0,a.jsx)(o.nA,{className:"w-20",children:(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsx)(c.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(I.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(d.SQ,{align:"end",children:[(0,a.jsx)(d._2,{onSelect:()=>{e.push("/dashboard/customers/".concat(s.storeId))},children:"View"}),(0,a.jsx)(d.mB,{}),(0,a.jsx)(d._2,{onSelect:()=>e4(s.storeId.toString()),children:"Delete"})]})]})})]},"customer-".concat(s.storeId,"-").concat(t)))})]})}),eQ&&ef.length>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h.J,{htmlFor:"pageSize",children:"Rows per page:"}),(0,a.jsxs)(x.l6,{value:ea.toString(),onValueChange:e=>el(parseInt(e)),children:[(0,a.jsx)(x.bq,{className:"w-20",children:(0,a.jsx)(x.yv,{})}),(0,a.jsxs)(x.gC,{children:[(0,a.jsx)(x.eb,{value:"10",children:"10"}),(0,a.jsx)(x.eb,{value:"25",children:"25"}),(0,a.jsx)(x.eb,{value:"50",children:"50"}),(0,a.jsx)(x.eb,{value:"100",children:"100"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>et(Math.max(1,es-1)),disabled:1===es,children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Previous"]}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Page ",es," of ",ev]}),(0,a.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>et(Math.min(ev,es+1)),disabled:es>=ev,children:["Next",(0,a.jsx)(j.A,{className:"h-4 w-4"})]})]})]}),ei&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Confirm Delete"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this customer? This action cannot be undone."}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)(c.$,{variant:"outline",onClick:e1,children:"Cancel"}),(0,a.jsx)(c.$,{variant:"destructive",onClick:e6,children:"Delete"})]})]})}),(0,a.jsx)(D,{isOpen:eo,onClose:()=>{ed(!1)},token:L||"",employeeId:eG?Number(eG):null,onCustomerAdded:()=>{e0()},userRole:eM||void 0,userData:$||void 0})]})})}},33884:(e,s,t)=>{"use strict";t.d(s,{BK:()=>r,eu:()=>n,q5:()=>c});var a=t(95155);t(12115);var l=t(46591),i=t(25016);function n(e){let{className:s,...t}=e;return(0,a.jsx)(l.bL,{"data-slot":"avatar",className:(0,i.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...t})}function r(e){let{className:s,...t}=e;return(0,a.jsx)(l._V,{"data-slot":"avatar-image",className:(0,i.cn)("aspect-square size-full",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(l.H4,{"data-slot":"avatar-fallback",className:(0,i.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...t})}},54679:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>m,Es:()=>h,L3:()=>x,ZJ:()=>o,c7:()=>u,lG:()=>r,rr:()=>p,zM:()=>c});var a=t(95155);t(12115);var l=t(89511),i=t(65229),n=t(25016);function r(e){let{...s}=e;return(0,a.jsx)(l.bL,{"data-slot":"dialog",...s})}function c(e){let{...s}=e;return(0,a.jsx)(l.l9,{"data-slot":"dialog-trigger",...s})}function o(e){let{...s}=e;return(0,a.jsx)(l.ZL,{"data-slot":"dialog-portal",...s})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(l.hJ,{"data-slot":"dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function m(e){let{className:s,children:t,showCloseButton:r=!0,...c}=e;return(0,a.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,a.jsx)(d,{}),(0,a.jsxs)(l.UC,{"data-slot":"dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...c,children:[t,r&&(0,a.jsxs)(l.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(i.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",s),...t})}function h(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function x(e){let{className:s,...t}=e;return(0,a.jsx)(l.hE,{"data-slot":"dialog-title",className:(0,n.cn)("text-lg leading-none font-semibold",s),...t})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(l.VY,{"data-slot":"dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",s),...t})}},68122:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var a=t(95155),l=t(25016);function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"skeleton",className:(0,l.cn)("bg-accent animate-pulse rounded-md",s),...t})}},68829:(e,s,t)=>{Promise.resolve().then(t.bind(t,5838))},90235:(e,s,t)=>{"use strict";t.d(s,{J:()=>n});var a=t(95155);t(12115);var l=t(10489),i=t(25016);function n(e){let{className:s,...t}=e;return(0,a.jsx)(l.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},90923:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>o,av:()=>d,j7:()=>c,tU:()=>r});var a=t(95155),l=t(12115),i=t(25667),n=t(25016);let r=i.bL,c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...l})});c.displayName=i.B8.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...l})});o.displayName=i.l9.displayName;let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});d.displayName=i.UC.displayName}},e=>{e.O(0,[9358,9,1052,1691,7362,2632,4969,9687,5941,2704,8441,1255,7358],()=>e(e.s=68829)),_N_E=e.O()}]);