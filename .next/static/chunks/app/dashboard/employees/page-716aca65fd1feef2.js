(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7275],{17487:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>B});var t=s(95155),r=s(12115),n=s(96633),l=s(33789),i=s(1375),c=s(15870),o=s(6191),d=s(20508),m=s(69141),h=s(23664),u=s(21873),x=s(71871),p=s(16485),g=s(90368),j=s(27937),f=s(35626),N=s(70532),y=s(57828),v=s(1733),w=s(97003),b=s(67812),C=s(71163),k=s(47507),S=s(98432),A=s(7220),E=s(54679),P=s(90235),z=s(90923),_=s(83209),F=s(60028),J=s(97450),L=s(33884),O=s(84916);let M=()=>{let[e,a]=(0,r.useState)(!1),[s,n]=(0,r.useState)([]),[l,i]=(0,r.useState)([]),[c,o]=(0,r.useState)([]),[d,m]=(0,r.useState)([]),[h,u]=(0,r.useState)([]),[x,p]=(0,r.useState)([]),g=localStorage.getItem("authToken");(0,r.useEffect)(()=>{e||j()},[e]);let j=()=>{n([]),i([]),o([]),p([])},f=(0,r.useCallback)(async()=>{try{let e=await fetch("https://api.gajkesaristeels.in/employee/getAll",{headers:{Authorization:"Bearer ".concat(g)}}),a=await fetch("https://api.gajkesaristeels.in/employee/team/getAll",{headers:{Authorization:"Bearer ".concat(g)}}),s=await e.json(),t=(await a.json()).map(e=>e.officeManager.id),r=s.filter(e=>"Manager"===e.role&&e.deleted).map(e=>e.id),n=s.filter(e=>"Manager"===e.role&&!t.includes(e.id)&&!r.includes(e.id)).sort((e,a)=>"".concat(e.firstName," ").concat(e.lastName).localeCompare("".concat(a.firstName," ").concat(a.lastName))).map(e=>({value:e.id.toString(),label:"".concat(e.firstName," ").concat(e.lastName)}));m(n)}catch(e){console.error("Error fetching Regional managers:",e)}},[g]),N=(0,r.useCallback)(async()=>{try{let e=await fetch("https://api.gajkesaristeels.in/employee/getCities",{headers:{Authorization:"Bearer ".concat(g)}}),a=(await e.json()).filter(e=>e&&""!==e.trim()).sort((e,a)=>e.localeCompare(a)).map(e=>({value:e,label:e}));u(a)}catch(e){console.error("Error fetching cities:",e)}},[g]);(0,r.useEffect)(()=>{e&&g&&(f(),N())},[e,g,f,N]);let y=async e=>{try{let a=e.map(e=>fetch("https://api.gajkesaristeels.in/employee/getFieldOfficerByCity?city=".concat(e),{headers:{Authorization:"Bearer ".concat(g)}})),s=await Promise.all(a),t=(await Promise.all(s.map(e=>e.json()))).flat().filter(e=>"Field Officer"===e.role&&null===e.teamId);p(t)}catch(a){console.error("Error fetching employees for cities ".concat(e.join(", "),":"),a)}},v=async()=>{if(l.length>0&&s.length>0){let e=parseInt(s[0]);try{for(let a of l)await fetch("https://api.gajkesaristeels.in/employee/assignCity?id=".concat(e,"&city=").concat(a),{method:"PUT",headers:{Authorization:"Bearer ".concat(g)}});await y(l)}catch(a){console.error("Error assigning cities to Regional manager ".concat(e,":"),a)}}},b=async()=>{if(0!==s.length&&0!==c.length)try{let e=await fetch("https://api.gajkesaristeels.in/employee/team/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(g)},body:JSON.stringify({officeManager:parseInt(s[0]),fieldOfficers:c})});200===e.status&&(a(!1),j())}catch(e){console.error("Error creating team:",e)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.$,{onClick:()=>a(!0),children:"Add Team"}),(0,t.jsx)(E.lG,{open:e,onOpenChange:a,children:(0,t.jsxs)(E.Cf,{children:[(0,t.jsx)(E.c7,{children:(0,t.jsx)(E.L3,{children:"Add New Team"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(P.J,{htmlFor:"officeManager",children:"Regional Manager"}),(0,t.jsx)(S.A,{options:d,value:s,onChange:n,placeholder:"Select Regional Manager",searchPlaceholder:"Search managers...",className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(P.J,{htmlFor:"city",children:"Cities"}),(0,t.jsx)(S.A,{options:h,value:l,onChange:i,placeholder:"Select cities for Regional Manager",searchPlaceholder:"Search cities...",className:"mt-1"}),(0,t.jsx)(w.$,{className:"mt-2",onClick:v,disabled:0===l.length,children:"Assign Cities"})]}),l.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Team Members"}),(0,t.jsx)("div",{className:"max-h-60 overflow-y-auto",children:x.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(O.S,{id:"employee-".concat(e.id),checked:c.includes(e.id),onCheckedChange:()=>(e=>{o(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])})(e.id)}),(0,t.jsxs)("label",{htmlFor:"employee-".concat(e.id),children:[e.firstName," ",e.lastName]})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 mt-4",children:[(0,t.jsx)(w.$,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),(0,t.jsx)(w.$,{onClick:b,disabled:0===s.length||0===c.length,children:"Create Team"})]})]})})]})};var $=s(68122),R=s(37621),U=s(20063);let I=e=>e?e.toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()):e;function T(){let e=(0,U.useRouter)(),a=(0,U.usePathname)(),s=(0,U.useSearchParams)(),O=s.toString(),[T,B]=(0,r.useState)([]),[q,D]=(0,r.useState)(null),[H,G]=(0,r.useState)(null),[W,V]=(0,r.useState)(!0),[X,Z]=(0,r.useState)(null),[K,Q]=(0,r.useState)(""),Y="employees.list.state.v1",[ee,ea]=(0,r.useState)(!1),[es,et]=(0,r.useState)(1),[er,en]=(0,r.useState)(10),[el,ei]=(0,r.useState)(null),[ec,eo]=(0,r.useState)(["name","email","city","state","role","department","userName","dateOfJoining","primaryContact","actions"]),[ed,em]=(0,r.useState)(!1),[eh,eu]=(0,r.useState)([]),[ex,ep]=(0,r.useState)(""),[eg,ej]=(0,r.useState)(""),[ef,eN]=(0,r.useState)("firstName"),[ey,ev]=(0,r.useState)("asc"),[ew,eb]=(0,r.useState)(!1),[eC,ek]=(0,r.useState)(null),[eS,eA]=(0,r.useState)(!1),[eE,eP]=(0,r.useState)(null),[ez,e_]=(0,r.useState)(""),[eF,eJ]=(0,r.useState)(""),[eL,eO]=(0,r.useState)(null),[eM,e$]=(0,r.useState)(!1),[eR,eU]=(0,r.useState)(!1),[eI,eT]=(0,r.useState)([]),[eB,eq]=(0,r.useState)([]),[eD,eH]=(0,r.useState)("tab1"),[eG,eW]=(0,r.useState)([]),[eV,eX]=(0,r.useState)(!1),[eZ,eK]=(0,r.useState)(""),[eQ,eY]=(0,r.useState)(!1),[e0,e2]=(0,r.useState)(null),[e1,e5]=(0,r.useState)(!1),[e4,e3]=(0,r.useState)(null),[e6,e8]=(0,r.useState)(null),e7=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry"].map(e=>({value:e,label:e})),e9={firstName:"",lastName:"",primaryContact:"",secondaryContact:"",departmentName:"",email:"",role:"",addressLine1:"",addressLine2:"",city:"",state:"",country:"India",pincode:"",dateOfJoining:"",userName:"",password:""},[ae,aa]=(0,r.useState)(e9),[as,at]=(0,r.useState)([]),ar=localStorage.getItem("authToken"),an=localStorage.getItem("role"),al=localStorage.getItem("employeeId");localStorage.getItem("officeManagerId");let ai=(0,r.useCallback)(async()=>{V(!0),Z(null);try{if("MANAGER"===an){let e=await fetch("https://api.gajkesaristeels.in/employee/team/getbyEmployee?id=".concat(al),{headers:{Authorization:"Bearer ".concat(ar)}});if(!e.ok)throw Error("Failed to fetch team data");let a=await e.json();if(!a||0===a.length)throw Error("No team data found for the manager");let s=a[0];D(s),B(s.fieldOfficers.map(e=>{var a;return{...e,userName:(null==(a=e.userDto)?void 0:a.username)||""}}))}else{let e=await fetch("https://api.gajkesaristeels.in/employee/getAll",{headers:{Authorization:"Bearer ".concat(ar)}});if(!e.ok)throw Error("Failed to fetch employees");let a=await e.json();if(!a)throw Error("No data received when fetching all employees");B(a.map(e=>{var a;return{...e,userName:(null==(a=e.userDto)?void 0:a.username)||""}})),eq(a.filter(e=>e.city).map(e=>e.city))}}catch(e){Z(e instanceof Error?e.message:"An unknown error occurred")}finally{V(!1)}},[ar,an,al]);(0,r.useEffect)(()=>{var e,a;if(ee)return;let t={};try{let a=sessionStorage.getItem(Y);a&&(t=null!=(e=JSON.parse(a))?e:{})}catch(e){}let r=s.get("q"),n=Number(s.get("page")),l=Number(s.get("size")),i="string"==typeof r?r:null!=(a=t.searchQuery)?a:"",c=!Number.isNaN(n)&&n>0?n:"number"==typeof t.currentPage&&t.currentPage>0?t.currentPage:1,o=!Number.isNaN(l)&&l>0?l:"number"==typeof t.itemsPerPage&&t.itemsPerPage>0?t.itemsPerPage:10;Q(i),et(c),en(o),ea(!0)},[s,ee]),(0,r.useEffect)(()=>{if(!ee)return;try{sessionStorage.setItem(Y,JSON.stringify({searchQuery:K,currentPage:es,itemsPerPage:er}))}catch(e){}let s=new URLSearchParams(O);K.trim()?s.set("q",K.trim()):s.delete("q"),es>1?s.set("page",es.toString()):s.delete("page"),10!==er?s.set("size",er.toString()):s.delete("size");let t=s.toString();if(t===O)return;let r=t?"".concat(a,"?").concat(t):a;e.replace(r,{scroll:!1})},[K,es,er,ee,a,e,O]);let ac=async()=>{try{console.log("Fetching archived employees...");let e=await fetch("https://api.gajkesaristeels.in/employee/getAllInactive",{headers:{Authorization:"Bearer ".concat(ar)}});if(!e.ok)throw Error("Failed to fetch archived employees: ".concat(e.status," ").concat(e.statusText));let a=await e.json();console.log("Archived employees data:",a),console.log("Number of archived employees:",a.length),eW(a)}catch(e){console.error("Error fetching archived employees:",e)}},ao=async e=>{try{(await fetch("https://api.gajkesaristeels.in/employee/delete?id=".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(ar)}})).ok?B(a=>a.filter(a=>a.id!==e)):console.error("Failed to delete employee")}catch(e){console.error("Error deleting employee:",e)}},ad=async()=>{if(ex!==eg)return void console.error("Passwords do not match!");try{var e;(await fetch("https://api.gajkesaristeels.in/user/manage/update",{method:"PUT",headers:{Authorization:"Bearer ".concat(ar),"Content-Type":"application/json"},body:JSON.stringify({username:null==(e=T.find(e=>e.id===el))?void 0:e.userName,password:ex})})).ok?(em(!1),ep(""),ej("")):console.error("Failed to reset password")}catch(e){console.error("Error resetting password:",e)}},am=async()=>{if(eC)try{(await fetch("https://api.gajkesaristeels.in/employee/edit?empId=".concat(eC.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(ar)},body:JSON.stringify({firstName:eC.firstName,lastName:eC.lastName,email:eC.email,role:eC.role,departmentName:eC.departmentName,userName:eC.userName,primaryContact:eC.primaryContact,city:eC.city,state:eC.state,dateOfJoining:eC.dateOfJoining})})).ok?(B(e=>e.map(e=>e.id===eC.id?eC:e)),eU(!1),at([])):console.error("Failed to update employee")}catch(e){console.error("Error updating employee:",e)}},ah=async()=>{try{if(e5(!0),console.log("Starting employee creation..."),console.log("Token present:",!!ar),console.log("Employee data:",ae),!ar)return void alert("Authentication token not found. Please log in again.");let e="Manager"===ae.role?"Office_Manager":ae.role,a={user:{username:ae.userName,password:ae.password},employee:{firstName:ae.firstName,lastName:ae.lastName,primaryContact:ae.primaryContact,secondaryContact:ae.secondaryContact,departmentName:ae.departmentName,email:ae.email,role:e,addressLine1:ae.addressLine1,addressLine2:ae.addressLine2,city:ae.city,state:ae.state,country:ae.country,pincode:ae.pincode,dateOfJoining:ae.dateOfJoining}};console.log("Request body:",a),console.log("Request URL:","https://api.gajkesaristeels.in/employee-user/create"),console.log("Headers:",{"Content-Type":"application/json",Authorization:"Bearer ".concat(null==ar?void 0:ar.substring(0,20),"...")}),await R.n.createEmployee(a);let s=(await R.n.getAllEmployees()).find(e=>{var a;return(null==e||null==(a=e.userDto)?void 0:a.username)===ae.userName});if(s)try{await R.n.createAttendanceLog(s.id),console.log("Employee added successfully and attendance log created!")}catch(e){console.error("Error creating attendance log:",e),console.log("Employee added successfully but failed to create attendance log.")}eb(!1),ai()}catch(e){console.error("Error adding employee:",e),e instanceof TypeError&&"Failed to fetch"===e.message?alert("Network error: Unable to connect to the server. Please check your internet connection and try again."):alert("Error adding employee: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{e5(!1)}},au=async e=>{try{(await fetch("https://api.gajkesaristeels.in/employee/setActive?id=".concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(ar)}})).ok&&(ac(),ai())}catch(e){console.error("Error unarchiving employee:",e)}},ax=async()=>{if(!(null==e0?void 0:e0.username.trim()))return void console.error("Username cannot be empty");if(e0)try{V(!0);let e=encodeURIComponent(e0.username.trim()),a=await fetch("https://api.gajkesaristeels.in/employee/editUsername?id=".concat(e0.id,"&username=").concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(ar)}}),s=await a.text().catch(()=>"");a.ok&&(eY(!1),e2(null),ai(),s&&console.log("Username update response:",s))}catch(e){console.error("Error updating username:",e)}finally{V(!1)}};(0,r.useEffect)(()=>{ar&&ee&&ai()},[ar,an,al,ee,ai]);let ap=e=>{let a="Manager"===e?"Regional Manager":e;return"Regional Manager"===a?(0,t.jsx)(b.E,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",children:a}):"Field Officer"===a?(0,t.jsx)(b.E,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",children:a}):(0,t.jsx)(b.E,{variant:"secondary",className:"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",children:a})},ag=e=>{ef===e?ev("asc"===ey?"desc":"asc"):(eN(e),ev("asc"))},aj=e=>{let{name:a}=e.target,{value:s}=e.target;if("primaryContact"===a||"secondaryContact"===a){let e=(s||"").replace(/\D/g,"").slice(0,10),t=e.length,r=t>0&&t<10?"Phone number must be 10 digits":null;"primaryContact"===a&&e3(r),"secondaryContact"===a&&e8(r),s=e}aa(e=>({...e,[a]:s}))},af=e=>{let{name:a,value:s}=e.target;ek(e=>e?{...e,[a]:s}:null)},aN=e=>{ek({...e,name:"".concat(e.firstName," ").concat(e.lastName)}),at(e.state?[e.state]:[]),eU(!0)},ay=a=>{try{sessionStorage.setItem("employees.last.view",JSON.stringify({from:"list"}))}catch(e){}e.push("/dashboard/employee/".concat(a))},av=()=>{eY(!1),e2(null)},aw=(0,r.useMemo)(()=>T.filter(e=>"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(K.toLowerCase())||e.email.toLowerCase().includes(K.toLowerCase())||e.role.toLowerCase().includes(K.toLowerCase())),[T,K]),ab=(0,r.useMemo)(()=>[...aw].sort((e,a)=>e[ef]<a[ef]?"asc"===ey?-1:1:e[ef]>a[ef]?"asc"===ey?1:-1:0),[aw,ef,ey]),aC=es*er,ak=aC-er,aS=ab.slice(ak,aC),aA=(0,r.useMemo)(()=>{console.log("Filtering archived employees:",eG.length,"employees, search query:",eZ);let e=eG.filter(e=>"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(eZ.toLowerCase())||e.role.toLowerCase().includes(eZ.toLowerCase())||e.departmentName.toLowerCase().includes(eZ.toLowerCase())||e.city.toLowerCase().includes(eZ.toLowerCase()));return console.log("Filtered result:",e.length,"employees"),e},[eG,eZ]);return(0,t.jsxs)("div",{className:"container-employee mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"mb-8 space-y-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,t.jsx)("div",{className:"flex-1 max-w-md",children:(0,t.jsx)(l.p,{type:"text",placeholder:"Search users...",value:K,onChange:e=>Q(e.target.value),className:"w-full"})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(w.$,{variant:"outline",onClick:()=>{eX(!0),ac()},className:"flex items-center gap-2",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),"Archived"]}),(0,t.jsxs)(A.rI,{children:[(0,t.jsx)(A.ty,{asChild:!0,children:(0,t.jsxs)(w.$,{variant:"outline",className:"flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"h-4 w-4"}),"Columns"]})}),(0,t.jsx)(A.SQ,{className:"w-56",children:["name","city","state","role","userName","primaryContact","actions"].map(e=>(0,t.jsx)(A.hO,{checked:ec.includes(e),onCheckedChange:()=>{ec.includes(e)?eo(ec.filter(a=>a!==e)):eo([...ec,e])},children:e},e))})]}),(0,t.jsx)(M,{}),(0,t.jsxs)(w.$,{onClick:()=>eb(!0),className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),"Add Employee"]})]})]})}),W&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-2",children:[[void 0,void 0,void 0,void 0].map((e,a)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)($.E,{className:"h-4 w-16"}),(0,t.jsx)($.E,{className:"h-10 w-full"})]},a)),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)($.E,{className:"h-10 w-full"})})]}),(0,t.jsx)(_.Zp,{className:"w-full",children:(0,t.jsx)(_.Wu,{className:"pt-6",children:(0,t.jsx)("div",{className:"rounded-md border overflow-hidden w-full",children:(0,t.jsx)("div",{className:"overflow-x-auto w-full",children:(0,t.jsxs)(n.XI,{className:"min-w-full",children:[(0,t.jsx)(n.A0,{children:(0,t.jsx)(n.Hj,{children:["Name","Role","User Name","Phone","City","State","Actions"].map(e=>(0,t.jsx)(n.nd,{className:"whitespace-nowrap",children:e},e))})}),(0,t.jsx)(n.BF,{children:[...Array(6)].map((e,a)=>(0,t.jsxs)(n.Hj,{children:[(0,t.jsx)(n.nA,{className:"whitespace-nowrap",children:(0,t.jsx)($.E,{className:"h-4 w-40"})}),(0,t.jsx)(n.nA,{className:"whitespace-nowrap",children:(0,t.jsx)($.E,{className:"h-4 w-24"})}),(0,t.jsx)(n.nA,{className:"whitespace-nowrap",children:(0,t.jsx)($.E,{className:"h-4 w-28"})}),(0,t.jsx)(n.nA,{className:"whitespace-nowrap",children:(0,t.jsx)($.E,{className:"h-4 w-28"})}),(0,t.jsx)(n.nA,{className:"whitespace-nowrap",children:(0,t.jsx)($.E,{className:"h-4 w-24"})}),(0,t.jsx)(n.nA,{className:"whitespace-nowrap",children:(0,t.jsx)($.E,{className:"h-4 w-20"})}),(0,t.jsx)(n.nA,{className:"whitespace-nowrap",children:(0,t.jsx)($.E,{className:"h-8 w-8 rounded"})})]},a))})]})})})})})]}),X&&(0,t.jsxs)("div",{className:"text-red-500",children:["Error: ",X]}),!W&&!X&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"md:hidden space-y-4",children:aS.map((e,a)=>{let s,r;return(0,t.jsx)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*a},children:(0,t.jsxs)(_.Zp,{className:"overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300",children:[(0,t.jsx)(_.aR,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(L.eu,{className:"h-12 w-12",children:(0,t.jsx)(L.q5,{className:"bg-gray-200 text-gray-700 font-semibold",children:(s=e.firstName,r=e.lastName,"".concat(s.charAt(0)).concat(r.charAt(0)).toUpperCase())})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(_.ZB,{className:"text-lg font-bold",children:"".concat(e.firstName," ").concat(e.lastName)}),(0,t.jsx)("div",{className:"text-sm",children:ap(e.role)})]})]})}),(0,t.jsx)(_.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[ec.includes("userName")&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.A,{className:"h-5 w-5 text-blue-500"}),(0,t.jsx)("span",{className:"text-sm",children:e.userName})]}),ec.includes("primaryContact")&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.A,{className:"h-5 w-5 text-green-500"}),(0,t.jsx)("span",{className:"text-sm",children:e.primaryContact})]}),ec.includes("email")&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.A,{className:"h-5 w-5 text-red-500"}),(0,t.jsx)("span",{className:"text-sm",children:e.email})]}),ec.includes("city")&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(u.A,{className:"h-5 w-5 text-yellow-500"}),(0,t.jsx)("span",{className:"text-sm",children:I(e.city)})]}),ec.includes("state")&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.A,{className:"h-5 w-5 text-purple-500"}),(0,t.jsx)("span",{className:"text-sm",children:e.state})]}),ec.includes("dateOfJoining")&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.A,{className:"h-5 w-5 text-indigo-500"}),(0,t.jsx)("span",{className:"text-sm",children:(0,C.GP)(new Date(e.dateOfJoining),"MMM dd, yyyy")})]})]})}),(0,t.jsxs)("div",{className:"px-6 py-3 bg-gray-50 flex justify-end space-x-2",children:[(0,t.jsx)(w.$,{variant:"ghost",size:"sm",onClick:()=>aN(e),children:"Edit"}),(0,t.jsx)(w.$,{variant:"ghost",size:"sm",onClick:()=>ay(e.id),children:"View"}),(0,t.jsx)(w.$,{variant:"ghost",size:"sm",onClick:()=>ao(e.id),children:"Delete"})]})]})},e.id)})}),(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)("div",{className:"rounded-md border overflow-hidden",children:(0,t.jsxs)(n.XI,{className:"w-full",children:[(0,t.jsx)(n.A0,{children:(0,t.jsxs)(n.Hj,{children:[ec.includes("name")&&(0,t.jsxs)(n.nd,{className:"cursor-pointer px-6 py-3",onClick:()=>ag("firstName"),children:["Name","firstName"===ef&&(0,t.jsx)("span",{className:"ml-2",children:"asc"===ey?"▲":"▼"})]}),ec.includes("role")&&(0,t.jsxs)(n.nd,{className:"cursor-pointer px-6 py-3",onClick:()=>ag("role"),children:["Role","role"===ef&&(0,t.jsx)("span",{className:"ml-2",children:"asc"===ey?"▲":"▼"})]}),ec.includes("userName")&&(0,t.jsxs)(n.nd,{className:"cursor-pointer px-6 py-3",onClick:()=>ag("userName"),children:["User Name","userName"===ef&&(0,t.jsx)("span",{className:"ml-2",children:"asc"===ey?"▲":"▼"})]}),ec.includes("primaryContact")&&(0,t.jsxs)(n.nd,{className:"cursor-pointer px-6 py-3",onClick:()=>ag("primaryContact"),children:["Phone","primaryContact"===ef&&(0,t.jsx)("span",{className:"ml-2",children:"asc"===ey?"▲":"▼"})]}),ec.includes("city")&&(0,t.jsxs)(n.nd,{className:"cursor-pointer px-6 py-3",onClick:()=>ag("city"),children:["City","city"===ef&&(0,t.jsx)("span",{className:"ml-2",children:"asc"===ey?"▲":"▼"})]}),ec.includes("state")&&(0,t.jsxs)(n.nd,{className:"cursor-pointer px-6 py-3",onClick:()=>ag("state"),children:["State","state"===ef&&(0,t.jsx)("span",{className:"ml-2",children:"asc"===ey?"▲":"▼"})]}),ec.includes("actions")&&(0,t.jsx)(n.nd,{className:"text-right px-6 py-3",children:"Actions"})]})}),(0,t.jsx)(n.BF,{children:aS.map(e=>(0,t.jsxs)(n.Hj,{children:[ec.includes("name")&&(0,t.jsx)(n.nA,{className:"font-medium px-6 py-3",children:"".concat(e.firstName," ").concat(e.lastName)}),ec.includes("role")&&(0,t.jsx)(n.nA,{className:"px-6 py-3",children:ap(e.role)}),ec.includes("userName")&&(0,t.jsx)(n.nA,{className:"px-6 py-3",children:e.userName}),ec.includes("primaryContact")&&(0,t.jsx)(n.nA,{className:"px-6 py-3",children:e.primaryContact}),ec.includes("city")&&(0,t.jsx)(n.nA,{className:"px-6 py-3",children:I(e.city)}),ec.includes("state")&&(0,t.jsx)(n.nA,{className:"px-6 py-3",children:e.state}),ec.includes("actions")&&(0,t.jsx)(n.nA,{className:"text-right px-6 py-3",children:(0,t.jsxs)(A.rI,{children:[(0,t.jsx)(A.ty,{asChild:!0,children:(0,t.jsxs)(w.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,t.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,t.jsx)("span",{children:"•••"})]})}),(0,t.jsxs)(A.SQ,{align:"end",children:[(0,t.jsx)(A._2,{onClick:()=>aN(e),children:"Edit"}),(0,t.jsx)(A._2,{onClick:()=>{e2({id:e.id,username:e.userName}),eY(!0)},children:"Edit Username"}),(0,t.jsx)(A._2,{onClick:()=>ay(e.id),children:"View"}),(0,t.jsx)(A._2,{onClick:()=>{ei(e.id),em(!0)},children:"Reset Password"}),(0,t.jsx)(A._2,{onClick:()=>ao(e.id),children:"Delete"})]})]})})]},e.id))})]})})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(P.J,{htmlFor:"pageSize",children:"Rows per page:"}),(0,t.jsxs)(k.l6,{value:er.toString(),onValueChange:e=>en(parseInt(e)),children:[(0,t.jsx)(k.bq,{className:"w-20",children:(0,t.jsx)(k.yv,{})}),(0,t.jsxs)(k.gC,{children:[(0,t.jsx)(k.eb,{value:"10",children:"10"}),(0,t.jsx)(k.eb,{value:"25",children:"25"}),(0,t.jsx)(k.eb,{value:"50",children:"50"}),(0,t.jsx)(k.eb,{value:"100",children:"100"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(w.$,{variant:"outline",size:"sm",onClick:()=>et(Math.max(1,es-1)),disabled:1===es,children:[(0,t.jsx)(g.A,{className:"h-4 w-4"}),"Previous"]}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Page ",es," of ",Math.ceil(ab.length/er)]}),(0,t.jsxs)(w.$,{variant:"outline",size:"sm",onClick:()=>et(Math.min(Math.ceil(ab.length/er),es+1)),disabled:es>=Math.ceil(ab.length/er),children:["Next",(0,t.jsx)(j.A,{className:"h-4 w-4"})]})]})]})]}),(0,t.jsx)(E.lG,{open:ed,onOpenChange:em,children:(0,t.jsxs)(E.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(E.c7,{children:[(0,t.jsx)(E.L3,{children:"Reset Password"}),(0,t.jsx)(E.rr,{children:"Enter a new password for the user."})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(P.J,{htmlFor:"newPassword",children:"New Password"}),(0,t.jsx)(l.p,{id:"newPassword",type:"password",onChange:e=>ep(e.target.value)})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(P.J,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,t.jsx)(l.p,{id:"confirmPassword",type:"password",onChange:e=>ej(e.target.value)})]})]}),(0,t.jsxs)(E.Es,{children:[(0,t.jsx)(w.$,{variant:"outline",onClick:()=>em(!1),children:"Cancel"}),(0,t.jsx)(w.$,{onClick:ad,children:"Save"})]})]})}),(0,t.jsx)(E.lG,{open:ew,onOpenChange:e=>{eb(e),e||(aa(e9),e5(!1))},children:(0,t.jsxs)(E.Cf,{className:"sm:max-w-[600px] max-h-[90vh] flex flex-col",children:[(0,t.jsx)(E.c7,{children:(0,t.jsx)(E.L3,{children:"Add Employee"})}),(0,t.jsxs)(z.tU,{value:eD,className:"mt-6 flex-1 flex flex-col",children:[(0,t.jsxs)(z.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(z.Xi,{value:"tab1",children:"Personal"}),(0,t.jsx)(z.Xi,{value:"tab2",children:"Work"}),(0,t.jsx)(z.Xi,{value:"tab3",children:"Address"}),(0,t.jsx)(z.Xi,{value:"tab4",children:"Credentials"})]}),(0,t.jsxs)(z.av,{value:"tab1",className:"flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-auto pr-2",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-lg font-semibold",children:"Personal Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(P.J,{htmlFor:"firstName",children:["First Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(l.p,{id:"firstName",name:"firstName",value:ae.firstName,onChange:aj,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(P.J,{htmlFor:"lastName",children:["Last Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(l.p,{id:"lastName",name:"lastName",value:ae.lastName,onChange:aj,required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(P.J,{htmlFor:"primaryContact",children:["Primary Contact ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(l.p,{id:"primaryContact",name:"primaryContact",inputMode:"numeric",pattern:"[0-9]*",value:ae.primaryContact,onChange:aj,required:!0}),e4&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:e4})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P.J,{htmlFor:"secondaryContact",children:"Secondary Contact"}),(0,t.jsx)(l.p,{id:"secondaryContact",name:"secondaryContact",inputMode:"numeric",pattern:"[0-9]*",value:ae.secondaryContact,onChange:aj}),e6&&ae.secondaryContact&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:e6})]})]})]})}),(0,t.jsx)("div",{className:"mt-6 pt-4 border-t bg-white",children:(0,t.jsx)(w.$,{onClick:()=>eH("tab2"),disabled:!ae.firstName||!ae.lastName||!ae.primaryContact||!!e4||!!ae.secondaryContact&&!!e6,className:"w-full",children:"Next"})})]}),(0,t.jsxs)(z.av,{value:"tab2",className:"flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-auto pr-2",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(w.$,{variant:"ghost",onClick:()=>eH("tab1"),className:"p-2",children:(0,t.jsx)(f.A,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"text-lg font-semibold",children:"Work Information"}),(0,t.jsx)("div",{className:"w-10"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(P.J,{htmlFor:"departmentName",children:["Department ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)(k.l6,{value:ae.departmentName,onValueChange:e=>aa({...ae,departmentName:e}),required:!0,children:[(0,t.jsx)(k.bq,{children:(0,t.jsx)(k.yv,{placeholder:"Select a department"})}),(0,t.jsx)(k.gC,{children:(0,t.jsx)(k.eb,{value:"Sales",children:"Sales"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(P.J,{htmlFor:"role",children:["Role ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)(k.l6,{value:ae.role,onValueChange:e=>aa({...ae,role:e}),required:!0,children:[(0,t.jsx)(k.bq,{children:(0,t.jsx)(k.yv,{placeholder:"Select a role"})}),(0,t.jsxs)(k.gC,{children:[(0,t.jsx)(k.eb,{value:"Field Officer",children:"Field Officer"}),(0,t.jsx)(k.eb,{value:"Manager",children:"Regional Manager"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P.J,{htmlFor:"dateOfJoining",children:"Date of Joining"}),(0,t.jsxs)(J.AM,{children:[(0,t.jsx)(J.Wv,{asChild:!0,children:(0,t.jsxs)(w.$,{variant:"outline",className:"w-full justify-start text-left font-normal ".concat(!ae.dateOfJoining&&"text-muted-foreground"),children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),ae.dateOfJoining?(0,C.GP)(new Date(ae.dateOfJoining+"T00:00:00"),"MMM d, yyyy"):(0,t.jsx)("span",{children:"Pick date"})]})}),(0,t.jsx)(J.hl,{className:"w-auto p-0",children:(0,t.jsx)(F.R,{mode:"single",selected:ae.dateOfJoining?new Date(ae.dateOfJoining+"T00:00:00"):void 0,onSelect:e=>{if(e){let a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0"),r="".concat(a,"-").concat(s,"-").concat(t);aa({...ae,dateOfJoining:r})}},initialFocus:!0})})]})]})]})]})}),(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t bg-white flex gap-2",children:[(0,t.jsx)(w.$,{variant:"outline",onClick:()=>eH("tab1"),className:"flex-1",children:"Previous"}),(0,t.jsx)(w.$,{onClick:()=>eH("tab3"),disabled:!ae.departmentName||!ae.role,className:"flex-1",children:"Next"})]})]}),(0,t.jsxs)(z.av,{value:"tab3",className:"flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-auto pr-2",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(w.$,{variant:"ghost",onClick:()=>eH("tab2"),className:"p-2",children:(0,t.jsx)(f.A,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"text-lg font-semibold",children:"Address Information"}),(0,t.jsx)("div",{className:"w-10"})]}),(0,t.jsx)("div",{className:"text-lg font-semibold",children:"Address Information"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P.J,{htmlFor:"addressLine1",children:"Address Line 1"}),(0,t.jsx)(l.p,{id:"addressLine1",name:"addressLine1",value:ae.addressLine1,onChange:aj})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P.J,{htmlFor:"addressLine2",children:"Address Line 2"}),(0,t.jsx)(l.p,{id:"addressLine2",name:"addressLine2",value:ae.addressLine2,onChange:aj})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P.J,{htmlFor:"city",children:"City"}),(0,t.jsx)(l.p,{id:"city",name:"city",value:ae.city,onChange:aj})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P.J,{htmlFor:"state",children:"State"}),(0,t.jsx)(l.p,{id:"state",name:"state",value:ae.state,onChange:aj})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P.J,{htmlFor:"country",children:"Country"}),(0,t.jsx)(l.p,{id:"country",name:"country",value:ae.country,disabled:!0,className:"bg-muted text-muted-foreground cursor-not-allowed"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(P.J,{htmlFor:"pincode",children:"Pincode"}),(0,t.jsx)(l.p,{id:"pincode",name:"pincode",value:ae.pincode,onChange:aj})]})]})}),(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t bg-white flex gap-2",children:[(0,t.jsx)(w.$,{variant:"outline",onClick:()=>eH("tab2"),className:"flex-1",children:"Previous"}),(0,t.jsx)(w.$,{onClick:()=>eH("tab4"),className:"flex-1",children:"Next"})]})]}),(0,t.jsxs)(z.av,{value:"tab4",className:"flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-auto pr-2",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(w.$,{variant:"ghost",onClick:()=>eH("tab3"),className:"p-2",children:(0,t.jsx)(f.A,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"text-lg font-semibold",children:"User Credentials"}),(0,t.jsx)("div",{className:"w-10"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(P.J,{htmlFor:"userName",children:["User Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(l.p,{id:"userName",name:"userName",value:ae.userName,onChange:aj,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(P.J,{htmlFor:"password",children:["Password ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.p,{id:"password",name:"password",type:eS?"text":"password",value:ae.password,onChange:aj,required:!0}),(0,t.jsx)("button",{type:"button",className:"absolute top-1/2 right-2 transform -translate-y-1/2 focus:outline-none",onClick:()=>eA(!eS),children:eS?(0,t.jsx)(N.A,{className:"h-5 w-5 text-gray-400"}):(0,t.jsx)(y.A,{className:"h-5 w-5 text-gray-400"})})]})]})]})]})}),(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t bg-white flex gap-2",children:[(0,t.jsx)(w.$,{variant:"outline",onClick:()=>eH("tab3"),className:"flex-1",children:"Previous"}),(0,t.jsx)(w.$,{onClick:ah,disabled:!ae.userName||!ae.password||e1,className:"flex-1",children:e1?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Adding Employee..."]}):"Add Employee"})]})]})]})]})}),(0,t.jsx)(E.lG,{open:eR,onOpenChange:eU,children:(0,t.jsxs)(E.Cf,{className:"sm:max-w-[600px] overflow-y-auto",children:[(0,t.jsx)(E.c7,{children:(0,t.jsx)(E.L3,{children:"Edit Employee"})}),eC&&(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(P.J,{htmlFor:"firstName",children:"First Name"}),(0,t.jsx)(l.p,{id:"firstName",name:"firstName",value:eC.firstName,onChange:af})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(P.J,{htmlFor:"lastName",children:"Last Name"}),(0,t.jsx)(l.p,{id:"lastName",name:"lastName",value:eC.lastName,onChange:af})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(P.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(l.p,{id:"email",name:"email",value:eC.email,onChange:af})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(P.J,{htmlFor:"primaryContact",children:"Primary Contact"}),(0,t.jsx)(l.p,{id:"primaryContact",name:"primaryContact",value:eC.primaryContact,onChange:af})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(P.J,{htmlFor:"role",children:"Role"}),(0,t.jsxs)(k.l6,{value:eC.role,onValueChange:e=>ek({...eC,role:e}),children:[(0,t.jsx)(k.bq,{children:(0,t.jsx)(k.yv,{placeholder:"Select a role"})}),(0,t.jsxs)(k.gC,{children:[(0,t.jsx)(k.eb,{value:"Field Officer",children:"Field Officer"}),(0,t.jsx)(k.eb,{value:"Manager",children:"Regional Manager"})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(P.J,{htmlFor:"city",children:"City"}),(0,t.jsx)(l.p,{id:"city",name:"city",value:eC.city,onChange:af})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(P.J,{htmlFor:"state",children:"State"}),(0,t.jsx)(S.A,{options:e7,value:as,onChange:e=>{at(e),eC&&(e.length>0?ek({...eC,state:e[0]}):ek({...eC,state:""}))},placeholder:"Select state",searchPlaceholder:"Search states...",className:"w-full"})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(P.J,{htmlFor:"dateOfJoining",children:"Date of Joining"}),(0,t.jsx)(l.p,{id:"dateOfJoining",name:"dateOfJoining",type:"date",value:eC.dateOfJoining,onChange:af})]})]}),(0,t.jsxs)(E.Es,{children:[(0,t.jsx)(w.$,{variant:"outline",onClick:()=>{eU(!1),at([])},children:"Cancel"}),(0,t.jsx)(w.$,{onClick:am,children:"Save"})]})]})}),(0,t.jsx)(E.lG,{open:eV,onOpenChange:eX,children:(0,t.jsxs)(E.Cf,{className:"sm:max-w-[800px] max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)(E.c7,{children:[(0,t.jsx)(E.L3,{children:"Archived Employees"}),(0,t.jsx)(E.rr,{children:"View and manage archived employees"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(l.p,{placeholder:"Search archived employees...",value:eZ,onChange:e=>eK(e.target.value),className:"max-w-md"}),(0,t.jsxs)(b.E,{variant:"secondary",className:"h-9 px-3",children:[aA.length," Results"]}),(0,t.jsxs)(b.E,{variant:"outline",className:"h-9 px-3",children:["Total: ",eG.length]})]}),(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(n.XI,{children:[(0,t.jsx)(n.A0,{children:(0,t.jsxs)(n.Hj,{children:[(0,t.jsx)(n.nd,{children:"Name"}),(0,t.jsx)(n.nd,{children:"Role"}),(0,t.jsx)(n.nd,{children:"Department"}),(0,t.jsx)(n.nd,{children:"City"}),(0,t.jsx)(n.nd,{children:"Actions"})]})}),(0,t.jsxs)(n.BF,{children:[aA.map(e=>(0,t.jsxs)(n.Hj,{children:[(0,t.jsx)(n.nA,{className:"font-medium",children:"".concat(e.firstName," ").concat(e.lastName)}),(0,t.jsx)(n.nA,{children:e.role}),(0,t.jsx)(n.nA,{children:e.departmentName}),(0,t.jsx)(n.nA,{children:e.city}),(0,t.jsx)(n.nA,{children:(0,t.jsxs)(w.$,{variant:"outline",size:"sm",onClick:()=>au(e.id),className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),"Unarchive"]})})]},e.id)),0===aA.length&&(0,t.jsx)(n.Hj,{children:(0,t.jsx)(n.nA,{colSpan:5,className:"text-center py-8",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:0===eG.length?"No archived employees found":"No results found for your search"}),eG.length>0&&eZ&&(0,t.jsx)(w.$,{variant:"ghost",onClick:()=>eK(""),className:"text-sm",children:"Clear search"})]})})})]})]})})]})]})}),(0,t.jsx)(E.lG,{open:eQ,onOpenChange:av,children:(0,t.jsxs)(E.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(E.c7,{children:[(0,t.jsx)(E.L3,{children:"Edit Username"}),(0,t.jsx)(E.rr,{children:"Enter a new username for the employee. Username must not be empty."})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(P.J,{htmlFor:"newUsername",children:"New Username"}),(0,t.jsx)(l.p,{id:"newUsername",value:(null==e0?void 0:e0.username)||"",onChange:e=>e2(a=>a?{...a,username:e.target.value}:null),placeholder:"Enter new username",disabled:W,className:"transition-all duration-200 focus:ring-2 focus:ring-blue-500"})]})}),(0,t.jsxs)(E.Es,{children:[(0,t.jsx)(w.$,{variant:"outline",onClick:av,disabled:W,children:"Cancel"}),(0,t.jsx)(w.$,{onClick:ax,disabled:W||!(null==e0?void 0:e0.username.trim()),className:"relative",children:W?(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]})})]})}function B(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}),children:(0,t.jsx)(T,{})})}},33884:(e,a,s)=>{"use strict";s.d(a,{BK:()=>i,eu:()=>l,q5:()=>c});var t=s(95155);s(12115);var r=s(46591),n=s(25016);function l(e){let{className:a,...s}=e;return(0,t.jsx)(r.bL,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...s})}function i(e){let{className:a,...s}=e;return(0,t.jsx)(r._V,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",a),...s})}function c(e){let{className:a,...s}=e;return(0,t.jsx)(r.H4,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...s})}},47507:(e,a,s)=>{"use strict";s.d(a,{bq:()=>m,eb:()=>u,gC:()=>h,l6:()=>o,yv:()=>d});var t=s(95155);s(12115);var r=s(98229),n=s(24033),l=s(5917),i=s(12108),c=s(25016);function o(e){let{...a}=e;return(0,t.jsx)(r.bL,{"data-slot":"select",...a})}function d(e){let{...a}=e;return(0,t.jsx)(r.WT,{"data-slot":"select-value",...a})}function m(e){let{className:a,size:s="default",children:l,...i}=e;return(0,t.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":s,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...i,children:[l,(0,t.jsx)(r.In,{asChild:!0,children:(0,t.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function h(e){let{className:a,children:s,position:n="popper",...l}=e;return(0,t.jsx)(r.ZL,{children:(0,t.jsxs)(r.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...l,children:[(0,t.jsx)(x,{}),(0,t.jsx)(r.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,t.jsx)(p,{})]})})}function u(e){let{className:a,children:s,...n}=e;return(0,t.jsxs)(r.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...n,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(r.VF,{children:(0,t.jsx)(l.A,{className:"size-4"})})}),(0,t.jsx)(r.p4,{children:s})]})}function x(e){let{className:a,...s}=e;return(0,t.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,t.jsx)(i.A,{className:"size-4"})})}function p(e){let{className:a,...s}=e;return(0,t.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,t.jsx)(n.A,{className:"size-4"})})}},60028:(e,a,s)=>{"use strict";s.d(a,{R:()=>p});var t=s(3648),r=s(95155),n=s(12115),l=s(90368),i=s(27937),c=s(24033),o=s(74854),d=s(51352),m=s(25016),h=s(97003);function u(){let e=(0,t._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return u=function(){return e},e}function x(){let e=(0,t._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return x=function(){return e},e}function p(e){let{className:a,classNames:s,showOutsideDays:t=!0,captionLayout:n="label",buttonVariant:p="ghost",formatters:j,components:f,...N}=e,y=(0,o.a)();return(0,r.jsx)(d.h,{showOutsideDays:t,className:(0,m.cn)("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(u()),String.raw(x()),a),captionLayout:n,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...j},classNames:{root:(0,m.cn)("w-fit",y.root),months:(0,m.cn)("flex gap-4 flex-col md:flex-row relative",y.months),month:(0,m.cn)("flex flex-col w-full gap-4",y.month),nav:(0,m.cn)("flex items-center gap-2 w-full absolute top-0 inset-x-0 justify-between",y.nav),button_previous:(0,m.cn)((0,h.r)({variant:p}),"size-7 aria-disabled:opacity-50 p-0 select-none",y.button_previous),button_next:(0,m.cn)((0,h.r)({variant:p}),"size-7 aria-disabled:opacity-50 p-0 select-none",y.button_next),month_caption:(0,m.cn)("flex items-center justify-center h-7 w-full px-7",y.month_caption),dropdowns:(0,m.cn)("w-full flex items-center text-sm font-medium justify-center h-7 gap-2",y.dropdowns),dropdown_root:(0,m.cn)("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",y.dropdown_root),dropdown:(0,m.cn)("absolute bg-popover inset-0 opacity-0",y.dropdown),caption_label:(0,m.cn)("select-none font-medium","label"===n?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",y.caption_label),table:"w-full border-collapse",weekdays:(0,m.cn)("flex",y.weekdays),weekday:(0,m.cn)("text-muted-foreground rounded-md flex-1 font-normal text-xs select-none py-1",y.weekday),week:(0,m.cn)("flex w-full mt-1",y.week),week_number_header:(0,m.cn)("select-none w-7",y.week_number_header),week_number:(0,m.cn)("text-sm select-none text-muted-foreground",y.week_number),day:(0,m.cn)("relative w-full h-full p-0.5 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",y.day),range_start:(0,m.cn)("rounded-l-md bg-accent",y.range_start),range_middle:(0,m.cn)("rounded-none",y.range_middle),range_end:(0,m.cn)("rounded-r-md bg-accent",y.range_end),today:(0,m.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",y.today),outside:(0,m.cn)("text-muted-foreground aria-selected:text-muted-foreground",y.outside),disabled:(0,m.cn)("text-muted-foreground opacity-50",y.disabled),hidden:(0,m.cn)("invisible",y.hidden),...s},components:{Root:e=>{let{className:a,rootRef:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"calendar",ref:s,className:(0,m.cn)(a),...t})},Chevron:e=>{let{className:a,orientation:s,...t}=e;return"left"===s?(0,r.jsx)(l.A,{className:(0,m.cn)("size-4",a),...t}):"right"===s?(0,r.jsx)(i.A,{className:(0,m.cn)("size-4",a),...t}):(0,r.jsx)(c.A,{className:(0,m.cn)("size-4",a),...t})},DayButton:g,WeekNumber:e=>{let{children:a,...s}=e;return(0,r.jsx)("td",{...s,children:(0,r.jsx)("div",{className:"flex size-7 items-center justify-center text-center",children:a})})},...f},...N})}function g(e){let{className:a,day:s,modifiers:t,...l}=e,i=(0,o.a)(),c=n.useRef(null);return n.useEffect(()=>{var e;t.focused&&(null==(e=c.current)||e.focus())},[t.focused]),(0,r.jsx)(h.$,{ref:c,variant:"ghost",size:"icon","data-day":s.date.toLocaleDateString(),"data-selected-single":t.selected&&!t.range_start&&!t.range_end&&!t.range_middle,"data-range-start":t.range_start,"data-range-end":t.range_end,"data-range-middle":t.range_middle,className:(0,m.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-7 flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70 h-7 w-7 m-0.5",i.day,a),...l})}},68122:(e,a,s)=>{"use strict";s.d(a,{E:()=>n});var t=s(95155),r=s(25016);function n(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"skeleton",className:(0,r.cn)("bg-accent animate-pulse rounded-md",a),...s})}},79665:(e,a,s)=>{Promise.resolve().then(s.bind(s,17487))},84916:(e,a,s)=>{"use strict";s.d(a,{S:()=>c});var t=s(95155),r=s(12115),n=s(38162),l=s(5917),i=s(25016);let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.bL,{ref:a,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,t.jsx)(n.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})})});c.displayName=n.bL.displayName},90235:(e,a,s)=>{"use strict";s.d(a,{J:()=>l});var t=s(95155);s(12115);var r=s(10489),n=s(25016);function l(e){let{className:a,...s}=e;return(0,t.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...s})}},96633:(e,a,s)=>{"use strict";s.d(a,{A0:()=>l,BF:()=>i,Hj:()=>c,XI:()=>n,nA:()=>d,nd:()=>o,r6:()=>m});var t=s(95155);s(12115);var r=s(25016);function n(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",a),...s})})}function l(e){let{className:a,...s}=e;return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",a),...s})}function i(e){let{className:a,...s}=e;return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",a),...s})}function c(e){let{className:a,...s}=e;return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...s})}function o(e){let{className:a,...s}=e;return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})}function d(e){let{className:a,...s}=e;return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})}function m(e){let{className:a,...s}=e;return(0,t.jsx)("caption",{"data-slot":"table-caption",className:(0,r.cn)("text-muted-foreground mt-4 text-sm",a),...s})}},97450:(e,a,s)=>{"use strict";s.d(a,{AM:()=>l,Wv:()=>i,hl:()=>c});var t=s(95155);s(12115);var r=s(82286),n=s(25016);function l(e){let{...a}=e;return(0,t.jsx)(r.bL,{"data-slot":"popover",...a})}function i(e){let{...a}=e;return(0,t.jsx)(r.l9,{"data-slot":"popover-trigger",...a})}function c(e){let{className:a,align:s="center",sideOffset:l=4,...i}=e;return(0,t.jsx)(r.ZL,{children:(0,t.jsx)(r.UC,{"data-slot":"popover-content",align:s,sideOffset:l,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",a),...i})})}}},e=>{e.O(0,[9358,9,1052,1691,4627,2462,4806,391,9687,2622,8441,1255,7358],()=>e(e.s=79665)),_N_E=e.O()}]);