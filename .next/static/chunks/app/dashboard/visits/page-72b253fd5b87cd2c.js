(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9682],{10489:(e,t,a)=>{"use strict";a.d(t,{b:()=>o});var s=a(12115),r=a(97602),n=a(95155),l=s.forwardRef((e,t)=>(0,n.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var o=l},20063:(e,t,a)=>{"use strict";var s=a(47260);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},20508:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},25214:(e,t,a)=>{Promise.resolve().then(a.bind(a,98089))},26983:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},30814:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},39867:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},60028:(e,t,a)=>{"use strict";a.d(t,{R:()=>x});var s=a(3648),r=a(95155),n=a(12115),l=a(90368),o=a(27937),i=a(24033),c=a(74854),d=a(45704),u=a(25016),m=a(97003);function p(){let e=(0,s._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return p=function(){return e},e}function h(){let e=(0,s._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return h=function(){return e},e}function x(e){let{className:t,classNames:a,showOutsideDays:s=!0,captionLayout:n="label",buttonVariant:x="ghost",formatters:f,components:v,...y}=e,j=(0,c.a)();return(0,r.jsx)(d.h,{showOutsideDays:s,className:(0,u.cn)("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(p()),String.raw(h()),t),captionLayout:n,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...f},classNames:{root:(0,u.cn)("w-fit",j.root),months:(0,u.cn)("flex gap-4 flex-col md:flex-row relative",j.months),month:(0,u.cn)("flex flex-col w-full gap-4",j.month),nav:(0,u.cn)("flex items-center gap-2 w-full absolute top-0 inset-x-0 justify-between",j.nav),button_previous:(0,u.cn)((0,m.r)({variant:x}),"size-7 aria-disabled:opacity-50 p-0 select-none",j.button_previous),button_next:(0,u.cn)((0,m.r)({variant:x}),"size-7 aria-disabled:opacity-50 p-0 select-none",j.button_next),month_caption:(0,u.cn)("flex items-center justify-center h-7 w-full px-7",j.month_caption),dropdowns:(0,u.cn)("w-full flex items-center text-sm font-medium justify-center h-7 gap-2",j.dropdowns),dropdown_root:(0,u.cn)("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",j.dropdown_root),dropdown:(0,u.cn)("absolute bg-popover inset-0 opacity-0",j.dropdown),caption_label:(0,u.cn)("select-none font-medium","label"===n?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",j.caption_label),table:"w-full border-collapse",weekdays:(0,u.cn)("flex",j.weekdays),weekday:(0,u.cn)("text-muted-foreground rounded-md flex-1 font-normal text-xs select-none py-1",j.weekday),week:(0,u.cn)("flex w-full mt-1",j.week),week_number_header:(0,u.cn)("select-none w-7",j.week_number_header),week_number:(0,u.cn)("text-sm select-none text-muted-foreground",j.week_number),day:(0,u.cn)("relative w-full h-full p-0.5 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",j.day),range_start:(0,u.cn)("rounded-l-md bg-accent",j.range_start),range_middle:(0,u.cn)("rounded-none",j.range_middle),range_end:(0,u.cn)("rounded-r-md bg-accent",j.range_end),today:(0,u.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",j.today),outside:(0,u.cn)("text-muted-foreground aria-selected:text-muted-foreground",j.outside),disabled:(0,u.cn)("text-muted-foreground opacity-50",j.disabled),hidden:(0,u.cn)("invisible",j.hidden),...a},components:{Root:e=>{let{className:t,rootRef:a,...s}=e;return(0,r.jsx)("div",{"data-slot":"calendar",ref:a,className:(0,u.cn)(t),...s})},Chevron:e=>{let{className:t,orientation:a,...s}=e;return"left"===a?(0,r.jsx)(l.A,{className:(0,u.cn)("size-4",t),...s}):"right"===a?(0,r.jsx)(o.A,{className:(0,u.cn)("size-4",t),...s}):(0,r.jsx)(i.A,{className:(0,u.cn)("size-4",t),...s})},DayButton:g,WeekNumber:e=>{let{children:t,...a}=e;return(0,r.jsx)("td",{...a,children:(0,r.jsx)("div",{className:"flex size-7 items-center justify-center text-center",children:t})})},...v},...y})}function g(e){let{className:t,day:a,modifiers:s,...l}=e,o=(0,c.a)(),i=n.useRef(null);return n.useEffect(()=>{var e;s.focused&&(null==(e=i.current)||e.focus())},[s.focused]),(0,r.jsx)(m.$,{ref:i,variant:"ghost",size:"icon","data-day":a.date.toLocaleDateString(),"data-selected-single":s.selected&&!s.range_start&&!s.range_end&&!s.range_middle,"data-range-start":s.range_start,"data-range-end":s.range_end,"data-range-middle":s.range_middle,className:(0,u.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-7 flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70 h-7 w-7 m-0.5",o.day,t),...l})}},65229:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},68122:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});var s=a(95155),r=a(25016);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"skeleton",className:(0,r.cn)("bg-accent animate-pulse rounded-md",t),...a})}},68209:(e,t,a)=>{"use strict";a.d(t,{N4:()=>c,Xb:()=>i,co:()=>d,y1:()=>m});let s="https://api.gajkesaristeels.in",r="".concat(s,"/user/token"),n="".concat(s,"/user/logout"),l="".concat(s,"/user/manage/get"),o="".concat(s,"/user/manage/current-user"),i=e=>e?e.trim().replace(/\s+/g," ").toUpperCase():null,c=e=>{let t=i(e);return"MANAGER"===t||"ROLE MANAGER"===t||"ROLE_MANAGER"===t||"OFFICE MANAGER"===t||"OFFICE_MANAGER"===t||"ROLE OFFICE MANAGER"===t||"ROLE_OFFICE MANAGER"===t||"ROLE_OFFICE_MANAGER"===t},d=(e,t)=>{var a;return!!c(e)||(null!=(a=null==t?void 0:t.authorities)?a:[]).some(e=>c(e.authority))},u={getToken:()=>localStorage.getItem("authToken"),setToken:e=>{{localStorage.setItem("authToken",e);let t="localhost"===window.location.hostname?"authToken=".concat(e,"; path=/; max-age=86400; samesite=strict"):"authToken=".concat(e,"; path=/; max-age=86400; secure; samesite=strict");document.cookie=t}},removeToken:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userData"),localStorage.removeItem("currentUser"),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},getAuthHeader:()=>{let e=u.getToken();return e?"Bearer ".concat(e):null},setUserRole:e=>{localStorage.setItem("userRole",e.roles),localStorage.setItem("userData",JSON.stringify(e))},getUserRole:()=>localStorage.getItem("userRole"),getUserData:()=>{{let e=localStorage.getItem("userData");return e?JSON.parse(e):null}},setCurrentUser:e=>{localStorage.setItem("currentUser",JSON.stringify(e))},getCurrentUser:()=>{{let e=localStorage.getItem("currentUser");return e?JSON.parse(e):null}}},m={login:async e=>{try{let t=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.text();throw Error("Login failed: ".concat(t.status," ").concat(e))}let a=await t.text(),{role:s,token:n}=(e=>{let t=e.trim();if(!t)throw Error("Empty response received from login endpoint");try{let e=JSON.parse(t);if("string"==typeof e.token){var a;return{token:e.token.trim(),role:null!=(a=e.role)?a:"USER"}}}catch(e){}let s=t.split(/\s+/);if(s.length<2)throw Error('Unexpected login response: "'.concat(t,'"'));let r=s[0],n=s[s.length-1];if("bearer"===n.toLowerCase()&&s.length>=3&&(n=s[s.length-1]),!(n=n.replace(/^"(.*)"$/,"$1")).includes("."))throw Error('Parsed token looks invalid: "'.concat(n,'"'));return{token:n,role:r||"USER"}})(a);u.setToken(n);try{console.log("Fetching role for username:",e.username),console.log("Raw token response:",a),console.log("Token being used:",n);let t=await fetch("".concat(l,"?username=").concat(e.username),{credentials:"include",method:"GET",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});if(t.ok){let e=await t.json();u.setUserRole(e),console.log("User role data stored:",e)}else{console.warn("Failed to fetch user role data:",t.status,t.statusText);let e=await t.text();console.warn("Error response:",e)}}catch(e){console.warn("Error fetching user role data:",e)}try{let e=await fetch(o,{credentials:"include",method:"GET",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});if(e.ok){let t=await e.json();u.setCurrentUser(t),console.log("Current user data stored:",t)}else console.warn("Failed to fetch current user data:",e.status)}catch(e){console.warn("Error fetching current user data:",e)}return{token:n,role:s||"USER"}}catch(e){throw console.error("Login error:",e),e}},logout:async()=>{try{let e=u.getToken();if(!e)return void u.removeToken();let t=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});u.removeToken(),t.ok||console.warn("Logout request failed, but token was cleared locally")}catch(e){console.error("Logout error:",e),u.removeToken()}},isAuthenticated:()=>!!u.getToken(),getStoredToken:()=>u.getToken(),getUserRole:()=>u.getUserRole(),getUserData:()=>u.getUserData(),getCurrentUser:()=>u.getCurrentUser()}},71871:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},74054:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]])},76842:(e,t,a)=>{"use strict";a.d(t,{C:()=>l});var s=a(12115),r=a(94446),n=a(4129),l=e=>{let{present:t,children:a}=e,l=function(e){var t,a;let[r,l]=s.useState(),i=s.useRef(null),c=s.useRef(e),d=s.useRef("none"),[u,m]=(t=e?"mounted":"unmounted",a={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},s.useReducer((e,t)=>{let s=a[e][t];return null!=s?s:e},t));return s.useEffect(()=>{let e=o(i.current);d.current="mounted"===u?e:"none"},[u]),(0,n.N)(()=>{let t=i.current,a=c.current;if(a!==e){let s=d.current,r=o(t);e?m("MOUNT"):"none"===r||(null==t?void 0:t.display)==="none"?m("UNMOUNT"):a&&s!==r?m("ANIMATION_OUT"):m("UNMOUNT"),c.current=e}},[e,m]),(0,n.N)(()=>{if(r){var e;let t,a=null!=(e=r.ownerDocument.defaultView)?e:window,s=e=>{let s=o(i.current).includes(CSS.escape(e.animationName));if(e.target===r&&s&&(m("ANIMATION_END"),!c.current)){let e=r.style.animationFillMode;r.style.animationFillMode="forwards",t=a.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=e)})}},n=e=>{e.target===r&&(d.current=o(i.current))};return r.addEventListener("animationstart",n),r.addEventListener("animationcancel",s),r.addEventListener("animationend",s),()=>{a.clearTimeout(t),r.removeEventListener("animationstart",n),r.removeEventListener("animationcancel",s),r.removeEventListener("animationend",s)}}m("ANIMATION_END")},[r,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:s.useCallback(e=>{i.current=e?getComputedStyle(e):null,l(e)},[])}}(t),i="function"==typeof a?a({present:l.isPresent}):s.Children.only(a),c=(0,r.s)(l.ref,function(e){var t,a;let s=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?e.ref:(r=(s=null==(a=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:a.get)&&"isReactWarning"in s&&s.isReactWarning)?e.props.ref:e.props.ref||e.ref}(i));return"function"==typeof a||l.isPresent?s.cloneElement(i,{ref:c}):null};function o(e){return(null==e?void 0:e.animationName)||"none"}l.displayName="Presence"},82466:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,AuthProvider:()=>i});var s=a(95155),r=a(12115),n=a(68209),l=a(20063);let o=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(!0),[p,h]=(0,r.useState)(null),[x,g]=(0,r.useState)(null),[f,v]=(0,r.useState)(null),y=(0,r.useRef)(null),j=(0,l.useRouter)(),N=e=>{if(!e)return null;let t=e.split(".");if(t.length<2)return null;try{let e=t[1].replace(/-/g,"+").replace(/_/g,"/");if("function"!=typeof atob)return null;let a=atob(e),s=JSON.parse(a);if("number"==typeof s.exp)return s.exp;return null}catch(e){return null}};(0,r.useEffect)(()=>{let e=n.y1.getStoredToken(),t=n.y1.getUserRole(),a=n.y1.getUserData(),s=n.y1.getCurrentUser();if(e){let r=N(e),l=Math.floor(Date.now()/1e3);r&&r<=l?n.y1.logout().finally(()=>{d(null),i(!1),h(null),g(null),v(null),j.replace("/login")}):(d(e),i(!0),h(t),g(a),v(s))}m(!1)},[]);let w=async(e,t)=>{m(!0);try{let a=await n.y1.login({username:e,password:t});d(a.token),i(!0);let s=n.y1.getUserRole(),r=n.y1.getUserData(),l=n.y1.getCurrentUser();h(s),g(r),v(l)}catch(e){throw e}finally{m(!1)}},b=async()=>{try{await n.y1.logout(),d(null),i(!1),h(null),g(null),v(null),sessionStorage.removeItem("pricingModalDismissed"),j.replace("/login")}catch(e){throw d(null),i(!1),h(null),g(null),sessionStorage.removeItem("pricingModalDismissed"),e}};return(0,r.useEffect)(()=>{if(y.current&&(clearTimeout(y.current),y.current=null),!c)return;let e=N(c);if(!e)return;let t=1e3*e-Date.now();return t<=0?void b():(y.current=setTimeout(()=>{b()},t),()=>{y.current&&(clearTimeout(y.current),y.current=null)})},[c]),(0,s.jsx)(o.Provider,{value:{isAuthenticated:a,token:c,login:w,logout:b,isLoading:u,userRole:p,userData:x,currentUser:f},children:t})}function c(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},90235:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var s=a(95155);a(12115);var r=a(10489),n=a(25016);function l(e){let{className:t,...a}=e;return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},98089:(e,t,a)=>{"use strict";a.d(t,{default:()=>U});var s=a(95155),r=a(12115),n=a(97003),l=a(33789),o=a(90235),i=a(47507),c=a(96633),d=a(83209),u=a(16485),m=a(35299),p=a(39867),h=a(71871),x=a(12108),g=a(24033),f=a(20508),v=a(30814),y=a(26983),j=a(90368),N=a(27937),w=a(71163),b=a(97450),S=a(60028),k=a(67812),A=a(68122),E=a(20063),T=a(37621),I=a(82466),M=a(68209),D=a(25016),R=a(13626);let C="visits.table.state.v1";function U(){let{userRole:e,userData:t,currentUser:a}=(0,I.A)(),U=(0,E.useRouter)(),[P,_]=(0,r.useState)(null),[O,L]=(0,r.useTransition)(),F=(0,r.useRef)(!1),z=(0,r.useRef)(!1),[V,G]=(0,r.useState)(!1),J=new Date,B=new Date;B.setDate(J.getDate()-7);let[$,W]=(0,r.useState)(B),[H,q]=(0,r.useState)(J),[Z,X]=(0,r.useState)("all"),[K,Q]=(0,r.useState)("all"),[Y,ee]=(0,r.useState)(""),[et,ea]=(0,r.useState)([]),[es,er]=(0,r.useState)(!1),[en,el]=(0,r.useState)(null),[eo,ei]=(0,r.useState)(0),[ec,ed]=(0,r.useState)(10),[eu,em]=(0,r.useState)(0),[ep,eh]=(0,r.useState)(0),[ex,eg]=(0,r.useState)(!1),[ef,ev]=(0,r.useState)([]),[ey,ej]=(0,r.useState)([]),[eN,ew]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{ew(!0);let t=await T.n.getAllEmployees();if(!e)return;ej(t)}catch(e){console.error("Failed to load employees list:",e)}finally{e&&ew(!1)}})(),()=>{e=!1}},[]);let[eb,eS]=(0,r.useState)(!1),[ek,eA]=(0,r.useState)([]),[eE,eT]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(z.current)return void G(!0);z.current=!0;try{let e=sessionStorage.getItem(C);if(e){let t=JSON.parse(e);if(t.startDate){let e=new Date(t.startDate);Number.isNaN(e.getTime())||W(e)}if(t.endDate){let e=new Date(t.endDate);Number.isNaN(e.getTime())||q(e)}t.selectedPurpose&&X(t.selectedPurpose),t.selectedExecutive&&Q(t.selectedExecutive),"string"==typeof t.customerName&&ee(t.customerName),"number"==typeof t.currentPage&&ei(t.currentPage),"number"==typeof t.pageSize&&t.pageSize>0&&ed(t.pageSize),Array.isArray(t.expandedCards)&&ev(t.expandedCards)}}catch(e){console.error("Failed to restore visit table state:",e)}finally{G(!0)}},[]),(0,r.useEffect)(()=>{if(!V)return;let e={startDate:$?$.toISOString():void 0,endDate:H?H.toISOString():void 0,selectedPurpose:Z,selectedExecutive:K,customerName:Y,currentPage:eo,pageSize:ec,expandedCards:ef};try{sessionStorage.setItem(C,JSON.stringify(e))}catch(e){console.error("Failed to persist visit table state:",e)}},[V,$,H,Z,K,Y,eo,ec,ef]);let eI=(0,r.useMemo)(()=>{let e=new Set;return et.forEach(t=>{t.purpose&&e.add(t.purpose)}),Array.from(e)},[et]),eM=(0,r.useMemo)(()=>{let e=ey.map(e=>{var t,a;let s=[e.firstName,e.lastName].filter(Boolean).join(" ").trim(),r=null!=(a=null==(t=e.userDto)?void 0:t.employeeId)?a:null,n=s||e.userName||e.email||"Employee ".concat(null!=r?r:e.id),l=null!==r?"".concat(n," (").concat(r,")"):n;return{value:String(e.id),label:l}});return e.sort((e,t)=>e.label.localeCompare(t.label)),[{value:"all",label:"All Executives"},...e]},[ey]);(0,r.useEffect)(()=>{if("all"===K||0===ey.length||eM.some(e=>e.value===K))return;let e=ey.find(e=>{let t=[e.firstName,e.lastName].filter(Boolean).join(" ").trim(),a=t||e.userName||e.email||"Employee ".concat(e.id);return t===K||a===K});e?Q(String(e.id)):Q("all")},[K,eM,ey]);let eD=e=>{null!==P||O||(_(e),L(()=>{U.push("/dashboard/visits/".concat(e))}))};(0,r.useEffect)(()=>{O||null===P||_(null)},[O,P]),(0,r.useEffect)(()=>{let t=(0,M.co)(e,a);console.log("Role detection - userRole:",e),console.log("Role detection - currentUser authorities:",null==a?void 0:a.authorities),console.log("Role detection - isManagerRole:",t),eS(t)},[e,a]),(0,r.useEffect)(()=>{let e=async()=>{if(eb&&(null==t?void 0:t.employeeId)){if(0===ey.length)return void console.log("Employee list not available yet, waiting before computing team members");try{console.log("Loading team members for manager employee ID:",t.employeeId);let e=await T.n.getTeamByEmployee(t.employeeId);if(console.log("Team data received:",e),console.log("Team data structure:",JSON.stringify(e,null,2)),e&&e.length>0){let t=e[0];eT(t.id),console.log("Team ID set to:",t.id);let a=e.flatMap(e=>e.fieldOfficers.map(e=>e.id));console.log("Team member IDs from team data:",a),console.log("All employees count:",ey.length),console.log("Sample employees:",ey.slice(0,5).map(e=>({id:e.id,name:"".concat(e.firstName," ").concat(e.lastName)})));let s=ey.filter(e=>a.includes(e.id));console.log("Filtered team members:",s),eA(s)}else console.log("No team data found for manager"),eT(null),eA([])}catch(e){console.error("Failed to load team members:",e),console.error("Error details:",e.message,e.stack),el("Failed to load team members"),eT(null),eA([])}}};eb&&(null==t?void 0:t.employeeId)&&e()},[eb,null==t?void 0:t.employeeId,ey]),(0,r.useEffect)(()=>{if(!V||!$||!H)return;if(eb&&!eE)return void console.log("⏳ Manager detected but no teamId yet - waiting for team data");let s=(0,w.GP)($,"yyyy-MM-dd"),r=(0,w.GP)(H,"yyyy-MM-dd");(async()=>{er(!0),el(null);try{var n;let l,o=""!==Y.trim()?Y:void 0,i="All Purposes"!==Z?Z:void 0;console.log("Making API call with filters:",{startDate:s,endDate:r,page:eo,size:ec,sort:"visitDate,desc",storeName:o,purpose:i,isManager:eb,teamId:eE,teamMemberCount:ek.length,userRole:e,currentUserAuthorities:null==a?void 0:a.authorities}),console.log("\uD83D\uDD0D API Selection Debug:",{isManager:eb,teamId:eE,userRole:e,currentUserAuthorities:null==a?void 0:a.authorities,userDataEmployeeId:null==t?void 0:t.employeeId,teamMembersCount:ek.length}),eb&&eE?(console.log("\uD83D\uDD35 MANAGER DETECTED - Using team-specific API"),console.log("Team ID:",eE),console.log("API Endpoint: /visit/getForTeam"),l=await T.n.getVisitsForTeam(eE,s,r,eo,ec,"visitDate,desc",i,void 0,o)):(console.log("\uD83D\uDFE2 ADMIN DETECTED - Using regular API"),console.log("Reason:",eb?"No teamId":"Not a manager"),console.log("API Endpoint: /visit/getByDateSorted"),l=await T.n.getVisitsByDateSorted(s,r,eo,ec,"visitDate,desc",o)),console.log("API Response:",l),console.log("Total elements:",l.totalElements),console.log("Content length:",null==(n=l.content)?void 0:n.length);let c=(l.content||[]).map(e=>{var t,a,s,r,n,l,o,i,c,d,u;return{id:e.id,customerName:e.storeName,executive:e.employeeName,employeeId:e.employeeId,date:e.visit_date,status:e.checkinTime?"Completed":"Scheduled",purpose:null!=(t=e.purpose)?t:void 0,visitStart:null!=(a=e.checkinTime)?a:void 0,visitEnd:null!=(s=e.checkoutTime)?s:void 0,intent:null!=(r=e.intent)?r:void 0,lastUpdated:e.updatedAt?"".concat(e.updatedAt," ").concat(e.updatedTime||""):void 0,priority:null!=(n=e.priority)?n:void 0,outcome:null!=(l=e.outcome)?l:void 0,feedback:null!=(o=e.feedback)?o:void 0,city:null!=(i=e.city)?i:void 0,state:null!=(c=e.state)?c:void 0,checkinTime:null!=(d=e.checkinTime)?d:void 0,checkoutTime:null!=(u=e.checkoutTime)?u:void 0}});ea(c);let d=l.totalPages&&l.totalPages>0?l.totalPages:1;if(em(d),eh(l.totalElements||0),eo>=d){let e=Math.max(d-1,0);e!==eo&&ei(e)}}catch(e){el((null==e?void 0:e.message)||"Failed to load visits")}finally{er(!1)}})()},[V,$,H,Z,Y,eo,ec,eb,eE]),(0,r.useEffect)(()=>{if(V){if(!F.current){F.current=!0;return}ei(0)}},[V,$,H,Z,K,Y]);let eR=et.filter(e=>{var t;return("all"===Z||e.purpose===Z)&&("all"===K||String(null!=(t=e.employeeId)?t:"")===K)}),eC=e=>{if(null==e)return"";let t=String(e);return t.includes('"')&&(t=t.replace(/"/g,'""')),/[",\n]/.test(t)&&(t='"'.concat(t,'"')),t},eU=async()=>{try{if(eg(!0),!$||!H)return;let e=(0,w.GP)($,"yyyy-MM-dd"),t=(0,w.GP)(H,"yyyy-MM-dd"),a=0,s=[],r=""!==Y.trim()?Y:void 0,n=await T.n.getVisitsByDateSorted(e,t,a,200,"visitDate,desc",r);s=s.concat(n.content||[]);let l=n.totalPages||1;for(a=1;a<l;a++){let n=await T.n.getVisitsByDateSorted(e,t,a,200,"visitDate,desc",r);s=s.concat(n.content||[])}if(eb&&ek.length>0){let e=ek.map(e=>e.id);s=s.filter(t=>e.includes(t.employeeId))}let o=s.map(e=>{var t,a,s,r,n,l,o,i,c,d,u;return{id:e.id,customerName:e.storeName,executive:e.employeeName,employeeId:e.employeeId,date:e.visit_date,status:e.checkinTime?"Completed":"Scheduled",purpose:null!=(t=e.purpose)?t:void 0,visitStart:null!=(a=e.checkinTime)?a:void 0,visitEnd:null!=(s=e.checkoutTime)?s:void 0,intent:null!=(r=e.intent)?r:void 0,lastUpdated:e.updatedAt?"".concat(e.updatedAt," ").concat(e.updatedTime||""):void 0,priority:null!=(n=e.priority)?n:void 0,outcome:null!=(l=e.outcome)?l:void 0,feedback:null!=(o=e.feedback)?o:void 0,city:null!=(i=e.city)?i:void 0,state:null!=(c=e.state)?c:void 0,checkinTime:null!=(d=e.checkinTime)?d:void 0,checkoutTime:null!=(u=e.checkoutTime)?u:void 0}}).filter(e=>{var t;return("all"===Z||e.purpose===Z)&&("all"===K||String(null!=(t=e.employeeId)?t:"")===K)});(e=>{let t=[["Customer Name","Executive","Date","Status","Purpose","Visit Start","Visit End","Intent","Last Updated","City","State"].map(eC).join(",")];for(let c of e){var a,s,r,n,l,o,i;let e=c.checkinTime?"Completed":"Scheduled",d=null!=(a=c.lastUpdated)?a:"",u=[c.customerName,c.executive,c.date,e,null!=(s=c.purpose)?s:"",null!=(r=c.visitStart)?r:"",null!=(n=c.visitEnd)?n:"",null!=(l=c.intent)?l:"",d,null!=(o=c.city)?o:"",null!=(i=c.state)?i:""].map(eC).join(",");t.push(u)}let c=new Blob([t.join("\n")],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(c),u=document.createElement("a");u.href=d,u.download="visits.csv",u.click(),URL.revokeObjectURL(d)})(o)}catch(e){console.error("Export failed",e),alert("Failed to export CSV")}finally{eg(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d.Zp,{className:"w-full",children:[(0,s.jsx)(d.aR,{children:(0,s.jsx)("div",{className:"flex items-center justify-end",children:e&&(0,s.jsx)(k.E,{variant:eb?"secondary":"default",className:"text-xs",children:eb?"Manager View":"Admin View"})})}),(0,s.jsxs)(d.Wu,{className:"w-full",children:[en&&(0,s.jsx)("div",{className:"mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded p-3",children:en}),$&&H?es?(0,s.jsx)("div",{className:"mb-4 text-sm text-yellow-700 bg-yellow-50 border border-yellow-200 rounded p-3",children:"Loading visits data..."}):eb&&!eE?(0,s.jsx)("div",{className:"mb-4 text-sm text-blue-700 bg-blue-50 border border-blue-200 rounded p-3",children:"\uD83D\uDD35 Manager detected - Loading team data..."}):null:(0,s.jsx)("div",{className:"mb-4 text-sm text-blue-700 bg-blue-50 border border-blue-200 rounded p-3",children:"Please select both start and end dates to load visits data."}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{children:"Start Date"}),(0,s.jsxs)(b.AM,{children:[(0,s.jsx)(b.Wv,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4"}),$?(0,w.GP)($,"LLL dd, y"):(0,s.jsx)("span",{children:"Select start date"})]})}),(0,s.jsx)(b.hl,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(S.R,{initialFocus:!0,mode:"single",defaultMonth:$,selected:$,onSelect:W})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{children:"End Date"}),(0,s.jsxs)(b.AM,{children:[(0,s.jsx)(b.Wv,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4"}),H?(0,w.GP)(H,"LLL dd, y"):(0,s.jsx)("span",{children:"Select end date"})]})}),(0,s.jsx)(b.hl,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(S.R,{initialFocus:!0,mode:"single",defaultMonth:H,selected:H,onSelect:q})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{children:"Purpose"}),(0,s.jsxs)(i.l6,{value:Z,onValueChange:X,children:[(0,s.jsx)(i.bq,{children:(0,s.jsx)(i.yv,{placeholder:"Select purpose"})}),(0,s.jsxs)(i.gC,{children:[(0,s.jsx)(i.eb,{value:"all",children:"All Purposes"}),eI.map(e=>(0,s.jsx)(i.eb,{value:e,children:e},e))]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{children:"Customer Name"}),(0,s.jsx)(l.p,{placeholder:"Search customer",value:Y,onChange:e=>ee(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{children:"Executive"}),(0,s.jsx)(R.Z,{options:eM,value:K,onSelect:e=>{e&&"all"!==e.value?Q(e.value):Q("all")},placeholder:"Select executive",loading:eN,triggerClassName:"w-full justify-between h-11",contentClassName:"w-[var(--radix-popover-trigger-width)]",searchPlaceholder:"Search executives..."})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsx)(n.$,{onClick:eU,className:"w-full",disabled:ex,children:ex?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Exporting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Export CSV"]})})})]}),(0,s.jsx)("div",{className:"hidden md:block rounded-md border overflow-hidden w-full",children:(0,s.jsx)("div",{className:"overflow-x-auto w-full",children:(0,s.jsxs)(c.XI,{className:"min-w-full",children:[(0,s.jsx)(c.A0,{children:(0,s.jsxs)(c.Hj,{children:[(0,s.jsx)(c.nd,{className:"whitespace-nowrap",children:"Customer Name"}),(0,s.jsx)(c.nd,{className:"whitespace-nowrap",children:"Executive"}),(0,s.jsx)(c.nd,{className:"whitespace-nowrap",children:"Date"}),(0,s.jsx)(c.nd,{className:"whitespace-nowrap",children:"Status"}),(0,s.jsx)(c.nd,{className:"whitespace-nowrap",children:"Purpose"}),(0,s.jsx)(c.nd,{className:"whitespace-nowrap",children:"Visit Start"}),(0,s.jsx)(c.nd,{className:"whitespace-nowrap",children:"Visit End"}),(0,s.jsx)(c.nd,{className:"whitespace-nowrap",children:"Intent"}),(0,s.jsx)(c.nd,{className:"whitespace-nowrap",children:"Last Updated"}),(0,s.jsx)(c.nd,{className:"whitespace-nowrap",children:"Actions"})]})}),(0,s.jsx)(c.BF,{children:$&&H?es?(0,s.jsx)(c.Hj,{children:(0,s.jsx)(c.nA,{colSpan:10,className:"h-24 text-center",children:"Loading visits…"})}):eR.length>0?eR.map(e=>{var t,a;return(0,s.jsxs)(c.Hj,{children:[(0,s.jsx)(c.nA,{className:"font-medium whitespace-nowrap",children:e.customerName}),(0,s.jsx)(c.nA,{className:"whitespace-nowrap",children:e.executive}),(0,s.jsx)(c.nA,{className:"whitespace-nowrap",children:(0,D.V5)(e.date)}),(0,s.jsx)(c.nA,{children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs whitespace-nowrap ".concat("Completed"===e.status?"bg-green-100 text-green-800":"Scheduled"===e.status?"bg-blue-100 text-blue-800":"In Progress"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:null!=(t=e.status)?t:"—"})}),(0,s.jsx)(c.nA,{className:"whitespace-nowrap",children:null!=(a=e.purpose)?a:"—"}),(0,s.jsx)(c.nA,{className:"whitespace-nowrap",children:e.visitStart?(0,D.$)(e.visitStart):"—"}),(0,s.jsx)(c.nA,{className:"whitespace-nowrap",children:e.visitEnd?(0,D.$)(e.visitEnd):"—"}),(0,s.jsx)(c.nA,{className:"whitespace-nowrap",children:e.intent}),(0,s.jsx)(c.nA,{className:"whitespace-nowrap",children:e.lastUpdated?(0,D.hI)(e.lastUpdated):"—"}),(0,s.jsx)(c.nA,{children:(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>eD(e.id),disabled:null!==P,children:P===e.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Opening…"]}):"View Details"})})]},e.id)}):(0,s.jsx)(c.Hj,{children:(0,s.jsx)(c.nA,{colSpan:10,className:"h-24 text-center",children:"No visits found matching the selected filters"})}):(0,s.jsx)(c.Hj,{children:(0,s.jsx)(c.nA,{colSpan:10,className:"h-24 text-center text-gray-500",children:"Select both start and end dates to view visits"})})})]})})}),(0,s.jsx)("div",{className:"md:hidden space-y-4",children:$&&H?es?(0,s.jsxs)("div",{className:"text-center py-10",children:[(0,s.jsx)(m.A,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-lg",children:"Loading visits…"})]}):eR.length>0?eR.map(e=>{var t;return(0,s.jsxs)(d.Zp,{className:"overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300",children:[(0,s.jsx)(d.aR,{className:"pb-2",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"h-12 w-12 bg-primary rounded-full flex items-center justify-center",children:(0,s.jsx)(h.A,{className:"h-6 w-6 text-primary-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.ZB,{className:"text-lg font-bold",children:e.customerName}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,D.V5)(e.date)})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat("Completed"===e.status?"bg-green-100 text-green-800":"Scheduled"===e.status?"bg-blue-100 text-blue-800":"In Progress"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:null!=(t=e.status)?t:"—"}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>{var t;return t=e.id,void ev(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},children:ef.includes(e.id)?(0,s.jsx)(x.A,{className:"h-4 w-4"}):(0,s.jsx)(g.A,{className:"h-4 w-4"})})]})]})}),(0,s.jsxs)(d.Wu,{className:"pt-2",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(f.A,{className:"text-blue-500 h-4 w-4"}),(0,s.jsx)("span",{className:"text-base font-medium",children:"Executive:"}),(0,s.jsx)("span",{className:"text-base",children:e.executive})]})}),ef.includes(e.id)&&(0,s.jsxs)("div",{className:"mt-4 space-y-3 text-base",children:[e.purpose&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(v.A,{className:"text-purple-500 h-4 w-4"}),(0,s.jsx)("span",{className:"font-medium",children:"Purpose:"}),(0,s.jsx)("span",{children:e.purpose})]}),e.visitStart&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(y.A,{className:"text-green-500 h-4 w-4"}),(0,s.jsx)("span",{className:"font-medium",children:"Visit Start:"}),(0,s.jsx)("span",{children:(0,D.$)(e.visitStart)})]}),e.visitEnd&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(y.A,{className:"text-red-500 h-4 w-4"}),(0,s.jsx)("span",{className:"font-medium",children:"Visit End:"}),(0,s.jsx)("span",{children:(0,D.$)(e.visitEnd)})]}),e.intent&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(v.A,{className:"text-orange-500 h-4 w-4"}),(0,s.jsx)("span",{className:"font-medium",children:"Intent:"}),(0,s.jsx)("span",{children:e.intent})]}),e.lastUpdated&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.A,{className:"text-indigo-500 h-4 w-4"}),(0,s.jsx)("span",{className:"font-medium",children:"Last Updated:"}),(0,s.jsx)("span",{children:(0,D.hI)(e.lastUpdated)})]})]}),(0,s.jsx)("div",{className:"mt-4 flex justify-end",children:(0,s.jsx)(n.$,{variant:"outline",size:"sm",className:"text-base px-4 py-2",onClick:()=>eD(e.id),disabled:null!==P,children:P===e.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Opening…"]}):"View Details"})})]})]},e.id)}):(0,s.jsx)("div",{className:"text-center py-10",children:(0,s.jsx)("p",{className:"text-lg",children:"No visits found matching the selected filters"})}):(0,s.jsx)("div",{className:"text-center py-10",children:(0,s.jsx)("p",{className:"text-lg text-gray-500",children:"Select both start and end dates to view visits"})})}),$&&H&&(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.J,{htmlFor:"pageSize",children:"Rows per page:"}),(0,s.jsxs)(i.l6,{value:ec.toString(),onValueChange:e=>ed(parseInt(e)),children:[(0,s.jsx)(i.bq,{className:"w-20",children:(0,s.jsx)(i.yv,{})}),(0,s.jsxs)(i.gC,{children:[(0,s.jsx)(i.eb,{value:"10",children:"10"}),(0,s.jsx)(i.eb,{value:"25",children:"25"}),(0,s.jsx)(i.eb,{value:"50",children:"50"}),(0,s.jsx)(i.eb,{value:"100",children:"100"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>ei(Math.max(0,eo-1)),disabled:0===eo,children:[(0,s.jsx)(j.A,{className:"h-4 w-4"}),"Previous"]}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Page ",eo+1," of ",eu]}),(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>ei(Math.min(eu-1,eo+1)),disabled:eo>=eu-1,children:["Next",(0,s.jsx)(N.A,{className:"h-4 w-4"})]})]})]})]})]}),null!==P&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur",children:(0,s.jsxs)("div",{className:"w-full max-w-3xl space-y-6 rounded-2xl border border-border/40 bg-card/95 p-8 shadow-2xl",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(A.E,{className:"h-4 w-36"}),(0,s.jsx)(A.E,{className:"h-8 w-64"})]}),(0,s.jsx)(m.A,{className:"h-10 w-10 animate-spin text-primary"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:Array.from({length:4}).map((e,t)=>(0,s.jsx)(A.E,{className:"h-20 w-full rounded-xl"},t))}),(0,s.jsx)(A.E,{className:"h-32 w-full rounded-xl"}),(0,s.jsx)("p",{className:"text-center text-sm text-muted-foreground",children:"Preparing visit details…"})]})})]})}}},e=>{e.O(0,[9358,9,1052,7715,2632,9687,5941,8441,1255,7358],()=>e(e.s=25214)),_N_E=e.O()}]);